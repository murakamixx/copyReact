(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function eA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Sg={exports:{}},tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb;function h2(){if(sb)return tc;sb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,o){var u=null;if(o!==void 0&&(u=""+o),a.key!==void 0&&(u=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:o}}return tc.Fragment=e,tc.jsx=n,tc.jsxs=n,tc}var ab;function f2(){return ab||(ab=1,Sg.exports=h2()),Sg.exports}var P=f2(),xg={exports:{}},nc={},Ag={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ob;function d2(){return ob||(ob=1,function(t){function e(re,me){var be=re.length;re.push(me);e:for(;0<be;){var Ue=be-1>>>1,B=re[Ue];if(0<a(B,me))re[Ue]=me,re[be]=B,be=Ue;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var me=re[0],be=re.pop();if(be!==me){re[0]=be;e:for(var Ue=0,B=re.length,he=B>>>1;Ue<he;){var _e=2*(Ue+1)-1,ge=re[_e],Me=_e+1,Ge=re[Me];if(0>a(ge,be))Me<B&&0>a(Ge,ge)?(re[Ue]=Ge,re[Me]=be,Ue=Me):(re[Ue]=ge,re[_e]=be,Ue=_e);else if(Me<B&&0>a(Ge,be))re[Ue]=Ge,re[Me]=be,Ue=Me;else break e}}return me}function a(re,me){var be=re.sortIndex-me.sortIndex;return be!==0?be:re.id-me.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,v=null,E=3,w=!1,A=!1,V=!1,O=!1,I=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;function ae(re){for(var me=n(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=re)r(p),me.sortIndex=me.expirationTime,e(d,me);else break;me=n(p)}}function D(re){if(V=!1,ae(re),!A)if(n(d)!==null)A=!0,ne||(ne=!0,F());else{var me=n(p);me!==null&&Ne(D,me.startTime-re)}}var ne=!1,N=-1,x=5,C=-1;function k(){return O?!0:!(t.unstable_now()-C<x)}function U(){if(O=!1,ne){var re=t.unstable_now();C=re;var me=!0;try{e:{A=!1,V&&(V=!1,j(N),N=-1),w=!0;var be=E;try{t:{for(ae(re),v=n(d);v!==null&&!(v.expirationTime>re&&k());){var Ue=v.callback;if(typeof Ue=="function"){v.callback=null,E=v.priorityLevel;var B=Ue(v.expirationTime<=re);if(re=t.unstable_now(),typeof B=="function"){v.callback=B,ae(re),me=!0;break t}v===n(d)&&r(d),ae(re)}else r(d);v=n(d)}if(v!==null)me=!0;else{var he=n(p);he!==null&&Ne(D,he.startTime-re),me=!1}}break e}finally{v=null,E=be,w=!1}me=void 0}}finally{me?F():ne=!1}}}var F;if(typeof G=="function")F=function(){G(U)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ze=M.port2;M.port1.onmessage=U,F=function(){ze.postMessage(null)}}else F=function(){I(U,0)};function Ne(re,me){N=I(function(){re(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(re){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var be=E;E=me;try{return re()}finally{E=be}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var be=E;E=re;try{return me()}finally{E=be}},t.unstable_scheduleCallback=function(re,me,be){var Ue=t.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ue+be:Ue):be=Ue,re){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=be+B,re={id:g++,callback:me,priorityLevel:re,startTime:be,expirationTime:B,sortIndex:-1},be>Ue?(re.sortIndex=be,e(p,re),n(d)===null&&re===n(p)&&(V?(j(N),N=-1):V=!0,Ne(D,be-Ue))):(re.sortIndex=B,e(d,re),A||w||(A=!0,ne||(ne=!0,F()))),re},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(re){var me=E;return function(){var be=E;E=me;try{return re.apply(this,arguments)}finally{E=be}}}}(Rg)),Rg}var lb;function m2(){return lb||(lb=1,Ag.exports=d2()),Ag.exports}var Cg={exports:{}},et={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub;function p2(){if(ub)return et;ub=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=v&&B[v]||B["@@iterator"],typeof B=="function"?B:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,V={};function O(B,he,_e){this.props=B,this.context=he,this.refs=V,this.updater=_e||w}O.prototype.isReactComponent={},O.prototype.setState=function(B,he){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,he,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function I(){}I.prototype=O.prototype;function j(B,he,_e){this.props=B,this.context=he,this.refs=V,this.updater=_e||w}var G=j.prototype=new I;G.constructor=j,A(G,O.prototype),G.isPureReactComponent=!0;var ae=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function N(B,he,_e,ge,Me,Ge){return _e=Ge.ref,{$$typeof:t,type:B,key:he,ref:_e!==void 0?_e:null,props:Ge}}function x(B,he){return N(B.type,he,void 0,void 0,void 0,B.props)}function C(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function k(B){var he={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(_e){return he[_e]})}var U=/\/+/g;function F(B,he){return typeof B=="object"&&B!==null&&B.key!=null?k(""+B.key):he.toString(36)}function M(){}function ze(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(M,M):(B.status="pending",B.then(function(he){B.status==="pending"&&(B.status="fulfilled",B.value=he)},function(he){B.status==="pending"&&(B.status="rejected",B.reason=he)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function Ne(B,he,_e,ge,Me){var Ge=typeof B;(Ge==="undefined"||Ge==="boolean")&&(B=null);var He=!1;if(B===null)He=!0;else switch(Ge){case"bigint":case"string":case"number":He=!0;break;case"object":switch(B.$$typeof){case t:case e:He=!0;break;case g:return He=B._init,Ne(He(B._payload),he,_e,ge,Me)}}if(He)return Me=Me(B),He=ge===""?"."+F(B,0):ge,ae(Me)?(_e="",He!=null&&(_e=He.replace(U,"$&/")+"/"),Ne(Me,he,_e,"",function(wt){return wt})):Me!=null&&(C(Me)&&(Me=x(Me,_e+(Me.key==null||B&&B.key===Me.key?"":(""+Me.key).replace(U,"$&/")+"/")+He)),he.push(Me)),1;He=0;var jt=ge===""?".":ge+":";if(ae(B))for(var bt=0;bt<B.length;bt++)ge=B[bt],Ge=jt+F(ge,bt),He+=Ne(ge,he,_e,Ge,Me);else if(bt=E(B),typeof bt=="function")for(B=bt.call(B),bt=0;!(ge=B.next()).done;)ge=ge.value,Ge=jt+F(ge,bt++),He+=Ne(ge,he,_e,Ge,Me);else if(Ge==="object"){if(typeof B.then=="function")return Ne(ze(B),he,_e,ge,Me);throw he=String(B),Error("Objects are not valid as a React child (found: "+(he==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":he)+"). If you meant to render a collection of children, use an array instead.")}return He}function re(B,he,_e){if(B==null)return B;var ge=[],Me=0;return Ne(B,ge,"","",function(Ge){return he.call(_e,Ge,Me++)}),ge}function me(B){if(B._status===-1){var he=B._result;he=he(),he.then(function(_e){(B._status===0||B._status===-1)&&(B._status=1,B._result=_e)},function(_e){(B._status===0||B._status===-1)&&(B._status=2,B._result=_e)}),B._status===-1&&(B._status=0,B._result=he)}if(B._status===1)return B._result.default;throw B._result}var be=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var he=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(he))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)};function Ue(){}return et.Children={map:re,forEach:function(B,he,_e){re(B,function(){he.apply(this,arguments)},_e)},count:function(B){var he=0;return re(B,function(){he++}),he},toArray:function(B){return re(B,function(he){return he})||[]},only:function(B){if(!C(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},et.Component=O,et.Fragment=n,et.Profiler=a,et.PureComponent=j,et.StrictMode=r,et.Suspense=d,et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,et.__COMPILER_RUNTIME={__proto__:null,c:function(B){return D.H.useMemoCache(B)}},et.cache=function(B){return function(){return B.apply(null,arguments)}},et.cloneElement=function(B,he,_e){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ge=A({},B.props),Me=B.key,Ge=void 0;if(he!=null)for(He in he.ref!==void 0&&(Ge=void 0),he.key!==void 0&&(Me=""+he.key),he)!ne.call(he,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&he.ref===void 0||(ge[He]=he[He]);var He=arguments.length-2;if(He===1)ge.children=_e;else if(1<He){for(var jt=Array(He),bt=0;bt<He;bt++)jt[bt]=arguments[bt+2];ge.children=jt}return N(B.type,Me,void 0,void 0,Ge,ge)},et.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},et.createElement=function(B,he,_e){var ge,Me={},Ge=null;if(he!=null)for(ge in he.key!==void 0&&(Ge=""+he.key),he)ne.call(he,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(Me[ge]=he[ge]);var He=arguments.length-2;if(He===1)Me.children=_e;else if(1<He){for(var jt=Array(He),bt=0;bt<He;bt++)jt[bt]=arguments[bt+2];Me.children=jt}if(B&&B.defaultProps)for(ge in He=B.defaultProps,He)Me[ge]===void 0&&(Me[ge]=He[ge]);return N(B,Ge,void 0,void 0,null,Me)},et.createRef=function(){return{current:null}},et.forwardRef=function(B){return{$$typeof:h,render:B}},et.isValidElement=C,et.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:me}},et.memo=function(B,he){return{$$typeof:p,type:B,compare:he===void 0?null:he}},et.startTransition=function(B){var he=D.T,_e={};D.T=_e;try{var ge=B(),Me=D.S;Me!==null&&Me(_e,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(Ue,be)}catch(Ge){be(Ge)}finally{D.T=he}},et.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},et.use=function(B){return D.H.use(B)},et.useActionState=function(B,he,_e){return D.H.useActionState(B,he,_e)},et.useCallback=function(B,he){return D.H.useCallback(B,he)},et.useContext=function(B){return D.H.useContext(B)},et.useDebugValue=function(){},et.useDeferredValue=function(B,he){return D.H.useDeferredValue(B,he)},et.useEffect=function(B,he,_e){var ge=D.H;if(typeof _e=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(B,he)},et.useId=function(){return D.H.useId()},et.useImperativeHandle=function(B,he,_e){return D.H.useImperativeHandle(B,he,_e)},et.useInsertionEffect=function(B,he){return D.H.useInsertionEffect(B,he)},et.useLayoutEffect=function(B,he){return D.H.useLayoutEffect(B,he)},et.useMemo=function(B,he){return D.H.useMemo(B,he)},et.useOptimistic=function(B,he){return D.H.useOptimistic(B,he)},et.useReducer=function(B,he,_e){return D.H.useReducer(B,he,_e)},et.useRef=function(B){return D.H.useRef(B)},et.useState=function(B){return D.H.useState(B)},et.useSyncExternalStore=function(B,he,_e){return D.H.useSyncExternalStore(B,he,_e)},et.useTransition=function(){return D.H.useTransition()},et.version="19.1.0",et}var cb;function ov(){return cb||(cb=1,Cg.exports=p2()),Cg.exports}var Dg={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hb;function g2(){if(hb)return Ln;hb=1;var t=ov();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(d,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ln.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,g)},Ln.flushSync=function(d){var p=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=g,r.d.f()}},Ln.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Ln.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ln.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:w}):g==="script"&&r.d.X(d,{crossOrigin:v,integrity:E,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ln.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Ln.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=h(g,p.crossOrigin);r.d.L(d,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ln.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Ln.requestFormReset=function(d){r.d.r(d)},Ln.unstable_batchedUpdates=function(d,p){return d(p)},Ln.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},Ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ln.version="19.1.0",Ln}var fb;function y2(){if(fb)return Dg.exports;fb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dg.exports=g2(),Dg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var db;function v2(){if(db)return nc;db=1;var t=m2(),e=ov(),n=y2();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(o(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var l=i,c=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return h(m),i;if(y===c)return h(m),s;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var b=!1,S=m.child;S;){if(S===l){b=!0,l=m,c=y;break}if(S===c){b=!0,c=m,l=y;break}S=S.sibling}if(!b){for(S=y.child;S;){if(S===l){b=!0,l=y,c=m;break}if(S===c){b=!0,c=y,l=m;break}S=S.sibling}if(!b)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),j=Symbol.for("react.consumer"),G=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function ze(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case O:return"Profiler";case V:return"StrictMode";case D:return"Suspense";case ne:return"SuspenseList";case C:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case G:return(i.displayName||"Context")+".Provider";case j:return(i._context.displayName||"Context")+".Consumer";case ae:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:ze(i.type)||"Memo";case x:s=i._payload,i=i._init;try{return ze(i(s))}catch{}}return null}var Ne=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ue=[],B=-1;function he(i){return{current:i}}function _e(i){0>B||(i.current=Ue[B],Ue[B]=null,B--)}function ge(i,s){B++,Ue[B]=i.current,i.current=s}var Me=he(null),Ge=he(null),He=he(null),jt=he(null);function bt(i,s){switch(ge(He,s),ge(Ge,i),ge(Me,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?PT(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=PT(s),i=NT(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}_e(Me),ge(Me,i)}function wt(){_e(Me),_e(Ge),_e(He)}function gn(i){i.memoizedState!==null&&ge(jt,i);var s=Me.current,l=NT(s,i.type);s!==l&&(ge(Ge,i),ge(Me,l))}function Nn(i){Ge.current===i&&(_e(Me),_e(Ge)),jt.current===i&&(_e(jt),Xu._currentValue=be)}var Sr=Object.prototype.hasOwnProperty,Sn=t.unstable_scheduleCallback,xr=t.unstable_cancelCallback,$i=t.unstable_shouldYield,ci=t.unstable_requestPaint,xn=t.unstable_now,Pa=t.unstable_getCurrentPriorityLevel,Gi=t.unstable_ImmediatePriority,Ki=t.unstable_UserBlockingPriority,yn=t.unstable_NormalPriority,z=t.unstable_LowPriority,Z=t.unstable_IdlePriority,se=t.log,Te=t.unstable_setDisableYieldValue,pe=null,le=null;function we(i){if(typeof se=="function"&&Te(i),le&&typeof le.setStrictMode=="function")try{le.setStrictMode(pe,i)}catch{}}var je=Math.clz32?Math.clz32:Ar,ht=Math.log,Ft=Math.LN2;function Ar(i){return i>>>=0,i===0?32:31-(ht(i)/Ft|0)|0}var tr=256,cr=4194304;function Vn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function nr(i,s,l){var c=i.pendingLanes;if(c===0)return 0;var m=0,y=i.suspendedLanes,b=i.pingedLanes;i=i.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?m=Vn(c):(b&=S,b!==0?m=Vn(b):l||(l=S&~i,l!==0&&(m=Vn(l))))):(S=c&~y,S!==0?m=Vn(S):b!==0?m=Vn(b):l||(l=c&~i,l!==0&&(m=Vn(l)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,l=s&-s,y>=l||y===32&&(l&4194048)!==0)?s:m}function Rr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Cr(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Na(){var i=tr;return tr<<=1,(tr&4194048)===0&&(tr=256),i}function Ds(){var i=cr;return cr<<=1,(cr&62914560)===0&&(cr=4194304),i}function Wr(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function Dr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function hi(i,s,l,c,m,y){var b=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var S=i.entanglements,L=i.expirationTimes,W=i.hiddenUpdates;for(l=b&~l;0<l;){var oe=31-je(l),fe=1<<oe;S[oe]=0,L[oe]=-1;var J=W[oe];if(J!==null)for(W[oe]=null,oe=0;oe<J.length;oe++){var ee=J[oe];ee!==null&&(ee.lane&=-536870913)}l&=~fe}c!==0&&Kn(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(b&~s))}function Kn(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-je(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Va(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var c=31-je(l),m=1<<c;m&s|i[c]&s&&(i[c]|=s),l&=~m}}function fi(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function q(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Y(){var i=me.p;return i!==0?i:(i=window.event,i===void 0?32:JT(i.type))}function te(i,s){var l=me.p;try{return me.p=i,s()}finally{me.p=l}}var ue=Math.random().toString(36).slice(2),ve="__reactFiber$"+ue,xe="__reactProps$"+ue,De="__reactContainer$"+ue,Ie="__reactEvents$"+ue,Pe="__reactListeners$"+ue,Se="__reactHandles$"+ue,Oe="__reactResources$"+ue,ke="__reactMarker$"+ue;function Ze(i){delete i[ve],delete i[xe],delete i[Ie],delete i[Pe],delete i[Se]}function vt(i){var s=i[ve];if(s)return s;for(var l=i.parentNode;l;){if(s=l[De]||l[ve]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=UT(i);i!==null;){if(l=i[ve])return l;i=UT(i)}return s}i=l,l=i.parentNode}return null}function Nt(i){if(i=i[ve]||i[De]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Et(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function rt(i){var s=i[Oe];return s||(s=i[Oe]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Je(i){i[ke]=!0}var Ir=new Set,Mr={};function Yt(i,s){nn(i,s),nn(i+"Capture",s)}function nn(i,s){for(Mr[i]=s,i=0;i<s.length;i++)Ir.add(s[i])}var Is=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),di={},Yn={};function Yi(i){return Sr.call(Yn,i)?!0:Sr.call(di,i)?!1:Is.test(i)?Yn[i]=!0:(di[i]=!0,!1)}function hr(i,s,l){if(Yi(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function at(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function ft(i,s,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+c)}}var Or,mi;function St(i){if(Or===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Or=s&&s[1]||"",mi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Or+i+mi}var fr=!1;function Qi(i,s){if(!i||fr)return"";fr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ee){var J=ee}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(ee){J=ee}i.call(fe.prototype)}}else{try{throw Error()}catch(ee){J=ee}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),b=y[0],S=y[1];if(b&&S){var L=b.split(`
`),W=S.split(`
`);for(m=c=0;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(c===L.length||m===W.length)for(c=L.length-1,m=W.length-1;1<=c&&0<=m&&L[c]!==W[m];)m--;for(;1<=c&&0<=m;c--,m--)if(L[c]!==W[m]){if(c!==1||m!==1)do if(c--,m--,0>m||L[c]!==W[m]){var oe=`
`+L[c].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=c&&0<=m);break}}}finally{fr=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?St(l):""}function ka(i){switch(i.tag){case 26:case 27:case 5:return St(i.type);case 16:return St("Lazy");case 13:return St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return Qi(i.type,!1);case 11:return Qi(i.type.render,!1);case 1:return Qi(i.type,!0);case 31:return St("Activity");default:return""}}function ko(i){try{var s="";do s+=ka(i),i=i.return;while(i);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Qn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function iu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Cm(i){var s=iu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(b){c=""+b,y.call(this,b)}}),Object.defineProperty(i,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Lo(i){i._valueTracker||(i._valueTracker=Cm(i))}function su(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return i&&(c=iu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(s.setValue(i),!0):!1}function La(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Dm=/[\n"\\]/g;function rn(i){return i.replace(Dm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function dr(i,s,l,c,m,y,b,S){i.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?i.type=b:i.removeAttribute("type"),s!=null?b==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Qn(s)):i.value!==""+Qn(s)&&(i.value=""+Qn(s)):b!=="submit"&&b!=="reset"||i.removeAttribute("value"),s!=null?Ms(i,b,Qn(s)):l!=null?Ms(i,b,Qn(l)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.name=""+Qn(S):i.removeAttribute("name")}function Ua(i,s,l,c,m,y,b,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;l=l!=null?""+Qn(l):"",s=s!=null?""+Qn(s):l,S||s===i.value||(i.value=s),i.defaultValue=s}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=S?i.checked:!!c,i.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(i.name=b)}function Ms(i,s,l){s==="number"&&La(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Xi(i,s,l,c){if(i=i.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=s.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Qn(l),s=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Dt(i,s,l){if(s!=null&&(s=""+Qn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+Qn(l):""}function ja(i,s,l,c){if(s==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ne(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),s=l}l=Qn(s),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Pr(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var Fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _h(i,s,l){var c=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,l):typeof l!="number"||l===0||Fa.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function au(i,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in s)c=s[m],s.hasOwnProperty(m)&&l[m]!==c&&_h(i,m,c)}else for(var y in s)s.hasOwnProperty(y)&&_h(i,y,s[y])}function ou(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Im=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(i){return Mm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Wi=null;function Nr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zi=null,Ji=null;function lu(i){var s=Nt(i);if(s&&(i=s.stateNode)){var l=i[xe]||null;e:switch(i=s.stateNode,s.type){case"input":if(dr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+rn(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==i&&c.form===i.form){var m=c[xe]||null;if(!m)throw Error(r(90));dr(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<l.length;s++)c=l[s],c.form===i.form&&su(c)}break e;case"textarea":Dt(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Xi(i,!!l.multiple,s,!1)}}}var pi=!1;function Eh(i,s,l){if(pi)return i(s,l);pi=!0;try{var c=i(s);return c}finally{if(pi=!1,(Zi!==null||Ji!==null)&&(mf(),Zi&&(s=Zi,i=Ji,Ji=Zi=null,lu(s),i)))for(s=0;s<i.length;s++)lu(i[s])}}function Ba(i,s){var l=i.stateNode;if(l===null)return null;var c=l[xe]||null;if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vr=!1;if(Zr)try{var za={};Object.defineProperty(za,"passive",{get:function(){Vr=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{Vr=!1}var gi=null,Os=null,es=null;function uu(){if(es)return es;var i,s=Os,l=s.length,c,m="value"in gi?gi.value:gi.textContent,y=m.length;for(i=0;i<l&&s[i]===m[i];i++);var b=l-i;for(c=1;c<=b&&s[l-c]===m[y-c];c++);return es=m.slice(i,1<c?1-c:void 0)}function yi(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function vi(){return!0}function cu(){return!1}function vn(i){function s(l,c,m,y,b){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var S in i)i.hasOwnProperty(S)&&(l=i[S],this[S]=l?l(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?vi:cu,this.isPropagationStopped=cu,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=vi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=vi)},persist:function(){},isPersistent:vi}),s}var xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=vn(xt),Ha=g({},xt,{view:0,detail:0}),Th=vn(Ha),Fo,Bo,_i,qa=g({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_i&&(_i&&i.type==="mousemove"?(Fo=i.screenX-_i.screenX,Bo=i.screenY-_i.screenY):Bo=Fo=0,_i=i),Fo)},movementY:function(i){return"movementY"in i?i.movementY:Bo}}),kr=vn(qa),bh=g({},qa,{dataTransfer:0}),Om=vn(bh),$a=g({},Ha,{relatedTarget:0}),zo=vn($a),hu=g({},xt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ho=vn(hu),wh=g({},xt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qo=vn(wh),Pm=g({},xt,{data:0}),fu=vn(Pm),Ga={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=xh[i])?!!s[i]:!1}function Ka(){return du}var Ah=g({},Ha,{key:function(i){if(i.key){var s=Ga[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=yi(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Sh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(i){return i.type==="keypress"?yi(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?yi(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),$o=vn(Ah),Rh=g({},qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mu=vn(Rh),ts=g({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),Ch=vn(ts),Dh=g({},xt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ih=vn(Dh),Mh=g({},qa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Go=vn(Mh),Xn=g({},xt,{newState:0,oldState:0}),Oh=vn(Xn),Ph=[9,13,27,32],Ei=Zr&&"CompositionEvent"in window,f=null;Zr&&"documentMode"in document&&(f=document.documentMode);var _=Zr&&"TextEvent"in window&&!f,T=Zr&&(!Ei||f&&8<f&&11>=f),R=" ",Q=!1;function ie(i,s){switch(i){case"keyup":return Ph.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ee(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var dt=!1;function un(i,s){switch(i){case"compositionend":return Ee(s);case"keypress":return s.which!==32?null:(Q=!0,R);case"textInput":return i=s.data,i===R&&Q?null:i;default:return null}}function mt(i,s){if(dt)return i==="compositionend"||!Ei&&ie(i,s)?(i=uu(),es=Os=gi=null,dt=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var _n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cn(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!_n[i.type]:s==="textarea"}function ns(i,s,l,c){Zi?Ji?Ji.push(c):Ji=[c]:Zi=c,s=Ef(s,"onChange"),0<s.length&&(l=new jo("onChange","change",null,l,c),i.push({event:l,listeners:s}))}var An=null,Ti=null;function pu(i){CT(i,0)}function Nh(i){var s=Et(i);if(su(s))return i}function Q0(i,s){if(i==="change")return s}var X0=!1;if(Zr){var Nm;if(Zr){var Vm="oninput"in document;if(!Vm){var W0=document.createElement("div");W0.setAttribute("oninput","return;"),Vm=typeof W0.oninput=="function"}Nm=Vm}else Nm=!1;X0=Nm&&(!document.documentMode||9<document.documentMode)}function Z0(){An&&(An.detachEvent("onpropertychange",J0),Ti=An=null)}function J0(i){if(i.propertyName==="value"&&Nh(Ti)){var s=[];ns(s,Ti,i,Nr(i)),Eh(pu,s)}}function BD(i,s,l){i==="focusin"?(Z0(),An=s,Ti=l,An.attachEvent("onpropertychange",J0)):i==="focusout"&&Z0()}function zD(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nh(Ti)}function HD(i,s){if(i==="click")return Nh(s)}function qD(i,s){if(i==="input"||i==="change")return Nh(s)}function $D(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var mr=typeof Object.is=="function"?Object.is:$D;function gu(i,s){if(mr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Sr.call(s,m)||!mr(i[m],s[m]))return!1}return!0}function e_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function t_(i,s){var l=e_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=s&&c>=s)return{node:l,offset:s-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=e_(l)}}function n_(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?n_(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function r_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=La(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=La(i.document)}return s}function km(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var GD=Zr&&"documentMode"in document&&11>=document.documentMode,Ko=null,Lm=null,yu=null,Um=!1;function i_(i,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Um||Ko==null||Ko!==La(c)||(c=Ko,"selectionStart"in c&&km(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),yu&&gu(yu,c)||(yu=c,c=Ef(Lm,"onSelect"),0<c.length&&(s=new jo("onSelect","select",null,s,l),i.push({event:s,listeners:c}),s.target=Ko)))}function Ya(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var Yo={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},jm={},s_={};Zr&&(s_=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function Qa(i){if(jm[i])return jm[i];if(!Yo[i])return i;var s=Yo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in s_)return jm[i]=s[l];return i}var a_=Qa("animationend"),o_=Qa("animationiteration"),l_=Qa("animationstart"),KD=Qa("transitionrun"),YD=Qa("transitionstart"),QD=Qa("transitioncancel"),u_=Qa("transitionend"),c_=new Map,Fm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fm.push("scrollEnd");function Jr(i,s){c_.set(i,s),Yt(s,[i])}var h_=new WeakMap;function Lr(i,s){if(typeof i=="object"&&i!==null){var l=h_.get(i);return l!==void 0?l:(s={value:i,source:s,stack:ko(s)},h_.set(i,s),s)}return{value:i,source:s,stack:ko(s)}}var Ur=[],Qo=0,Bm=0;function Vh(){for(var i=Qo,s=Bm=Qo=0;s<i;){var l=Ur[s];Ur[s++]=null;var c=Ur[s];Ur[s++]=null;var m=Ur[s];Ur[s++]=null;var y=Ur[s];if(Ur[s++]=null,c!==null&&m!==null){var b=c.pending;b===null?m.next=m:(m.next=b.next,b.next=m),c.pending=m}y!==0&&f_(l,m,y)}}function kh(i,s,l,c){Ur[Qo++]=i,Ur[Qo++]=s,Ur[Qo++]=l,Ur[Qo++]=c,Bm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function zm(i,s,l,c){return kh(i,s,l,c),Lh(i)}function Xo(i,s){return kh(i,null,null,s),Lh(i)}function f_(i,s,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,m&&s!==null&&(m=31-je(l),i=y.hiddenUpdates,c=i[m],c===null?i[m]=[s]:c.push(s),s.lane=l|536870912),y):null}function Lh(i){if(50<zu)throw zu=0,Yp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Wo={};function XD(i,s,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(i,s,l,c){return new XD(i,s,l,c)}function Hm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rs(i,s){var l=i.alternate;return l===null?(l=pr(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function d_(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Uh(i,s,l,c,m,y){var b=0;if(c=i,typeof i=="function")Hm(i)&&(b=1);else if(typeof i=="string")b=ZI(i,l,Me.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case C:return i=pr(31,l,s,m),i.elementType=C,i.lanes=y,i;case A:return Xa(l.children,m,y,s);case V:b=8,m|=24;break;case O:return i=pr(12,l,s,m|2),i.elementType=O,i.lanes=y,i;case D:return i=pr(13,l,s,m),i.elementType=D,i.lanes=y,i;case ne:return i=pr(19,l,s,m),i.elementType=ne,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case I:case G:b=10;break e;case j:b=9;break e;case ae:b=11;break e;case N:b=14;break e;case x:b=16,c=null;break e}b=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=pr(b,l,s,m),s.elementType=i,s.type=c,s.lanes=y,s}function Xa(i,s,l,c){return i=pr(7,i,c,s),i.lanes=l,i}function qm(i,s,l){return i=pr(6,i,null,s),i.lanes=l,i}function $m(i,s,l){return s=pr(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Zo=[],Jo=0,jh=null,Fh=0,jr=[],Fr=0,Wa=null,is=1,ss="";function Za(i,s){Zo[Jo++]=Fh,Zo[Jo++]=jh,jh=i,Fh=s}function m_(i,s,l){jr[Fr++]=is,jr[Fr++]=ss,jr[Fr++]=Wa,Wa=i;var c=is;i=ss;var m=32-je(c)-1;c&=~(1<<m),l+=1;var y=32-je(s)+m;if(30<y){var b=m-m%5;y=(c&(1<<b)-1).toString(32),c>>=b,m-=b,is=1<<32-je(s)+m|l<<m|c,ss=y+i}else is=1<<y|l<<m|c,ss=i}function Gm(i){i.return!==null&&(Za(i,1),m_(i,1,0))}function Km(i){for(;i===jh;)jh=Zo[--Jo],Zo[Jo]=null,Fh=Zo[--Jo],Zo[Jo]=null;for(;i===Wa;)Wa=jr[--Fr],jr[Fr]=null,ss=jr[--Fr],jr[Fr]=null,is=jr[--Fr],jr[Fr]=null}var Wn=null,qt=null,Tt=!1,Ja=null,bi=!1,Ym=Error(r(519));function eo(i){var s=Error(r(418,""));throw Eu(Lr(s,i)),Ym}function p_(i){var s=i.stateNode,l=i.type,c=i.memoizedProps;switch(s[ve]=i,s[xe]=c,l){case"dialog":lt("cancel",s),lt("close",s);break;case"iframe":case"object":case"embed":lt("load",s);break;case"video":case"audio":for(l=0;l<qu.length;l++)lt(qu[l],s);break;case"source":lt("error",s);break;case"img":case"image":case"link":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"input":lt("invalid",s),Ua(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Lo(s);break;case"select":lt("invalid",s);break;case"textarea":lt("invalid",s),ja(s,c.value,c.defaultValue,c.children),Lo(s)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||c.suppressHydrationWarning===!0||OT(s.textContent,l)?(c.popover!=null&&(lt("beforetoggle",s),lt("toggle",s)),c.onScroll!=null&&lt("scroll",s),c.onScrollEnd!=null&&lt("scrollend",s),c.onClick!=null&&(s.onclick=Tf),s=!0):s=!1,s||eo(i)}function g_(i){for(Wn=i.return;Wn;)switch(Wn.tag){case 5:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:Wn=Wn.return}}function vu(i){if(i!==Wn)return!1;if(!Tt)return g_(i),Tt=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||cg(i.type,i.memoizedProps)),l=!l),l&&qt&&eo(i),g_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(s===0){qt=ti(i.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;i=i.nextSibling}qt=null}}else s===27?(s=qt,Ys(i.type)?(i=mg,mg=null,qt=i):qt=s):qt=Wn?ti(i.stateNode.nextSibling):null;return!0}function _u(){qt=Wn=null,Tt=!1}function y_(){var i=Ja;return i!==null&&(sr===null?sr=i:sr.push.apply(sr,i),Ja=null),i}function Eu(i){Ja===null?Ja=[i]:Ja.push(i)}var Qm=he(null),to=null,as=null;function Ps(i,s,l){ge(Qm,s._currentValue),s._currentValue=l}function os(i){i._currentValue=Qm.current,_e(Qm)}function Xm(i,s,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===l)break;i=i.return}}function Wm(i,s,l,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var b=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var L=0;L<s.length;L++)if(S.context===s[L]){y.lanes|=l,S=y.alternate,S!==null&&(S.lanes|=l),Xm(y.return,l,i),c||(b=null);break e}y=S.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(r(341));b.lanes|=l,y=b.alternate,y!==null&&(y.lanes|=l),Xm(b,l,i),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===i){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Tu(i,s,l,c){i=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var S=m.type;mr(m.pendingProps.value,b.value)||(i!==null?i.push(S):i=[S])}}else if(m===jt.current){if(b=m.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Xu):i=[Xu])}m=m.return}i!==null&&Wm(s,i,l,c),s.flags|=262144}function Bh(i){for(i=i.firstContext;i!==null;){if(!mr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function no(i){to=i,as=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function kn(i){return v_(to,i)}function zh(i,s){return to===null&&no(i),v_(i,s)}function v_(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},as===null){if(i===null)throw Error(r(308));as=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else as=as.next=s;return l}var WD=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},ZD=t.unstable_scheduleCallback,JD=t.unstable_NormalPriority,hn={$$typeof:G,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zm(){return{controller:new WD,data:new Map,refCount:0}}function bu(i){i.refCount--,i.refCount===0&&ZD(JD,function(){i.controller.abort()})}var wu=null,Jm=0,el=0,tl=null;function eI(i,s){if(wu===null){var l=wu=[];Jm=0,el=tg(),tl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Jm++,s.then(__,__),s}function __(){if(--Jm===0&&wu!==null){tl!==null&&(tl.status="fulfilled");var i=wu;wu=null,el=0,tl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function tI(i,s){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var m=0;m<l.length;m++)(0,l[m])(s)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var E_=re.S;re.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&eI(i,s),E_!==null&&E_(i,s)};var ro=he(null);function ep(){var i=ro.current;return i!==null?i:kt.pooledCache}function Hh(i,s){s===null?ge(ro,ro.current):ge(ro,s.pool)}function T_(){var i=ep();return i===null?null:{parent:hn._currentValue,pool:i}}var Su=Error(r(460)),b_=Error(r(474)),qh=Error(r(542)),tp={then:function(){}};function w_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $h(){}function S_(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then($h,$h),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,A_(i),i;default:if(typeof s.status=="string")s.then($h,$h);else{if(i=kt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=c}},function(c){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,A_(i),i}throw xu=s,Su}}var xu=null;function x_(){if(xu===null)throw Error(r(459));var i=xu;return xu=null,i}function A_(i){if(i===Su||i===qh)throw Error(r(483))}var Ns=!1;function np(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Vs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ks(i,s,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Rt&2)!==0){var m=c.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),c.pending=s,s=Lh(i),f_(i,null,l),s}return kh(i,c,s,l),Lh(i)}function Au(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Va(i,l)}}function ip(i,s){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=b:y=y.next=b,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var sp=!1;function Ru(){if(sp){var i=tl;if(i!==null)throw i}}function Cu(i,s,l,c){sp=!1;var m=i.updateQueue;Ns=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var L=S,W=L.next;L.next=null,b===null?y=W:b.next=W,b=L;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,S=oe.lastBaseUpdate,S!==b&&(S===null?oe.firstBaseUpdate=W:S.next=W,oe.lastBaseUpdate=L))}if(y!==null){var fe=m.baseState;b=0,oe=W=L=null,S=y;do{var J=S.lane&-536870913,ee=J!==S.lane;if(ee?(pt&J)===J:(c&J)===J){J!==0&&J===el&&(sp=!0),oe!==null&&(oe=oe.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ye=i,Fe=S;J=s;var Ot=l;switch(Fe.tag){case 1:if(Ye=Fe.payload,typeof Ye=="function"){fe=Ye.call(Ot,fe,J);break e}fe=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=Fe.payload,J=typeof Ye=="function"?Ye.call(Ot,fe,J):Ye,J==null)break e;fe=g({},fe,J);break e;case 2:Ns=!0}}J=S.callback,J!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=m.callbacks,ee===null?m.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:S.tag,payload:S.payload,callback:S.callback,next:null},oe===null?(W=oe=ee,L=fe):oe=oe.next=ee,b|=J;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;ee=S,S=ee.next,ee.next=null,m.lastBaseUpdate=ee,m.shared.pending=null}}while(!0);oe===null&&(L=fe),m.baseState=L,m.firstBaseUpdate=W,m.lastBaseUpdate=oe,y===null&&(m.shared.lanes=0),qs|=b,i.lanes=b,i.memoizedState=fe}}function R_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function C_(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)R_(l[i],s)}var nl=he(null),Gh=he(0);function D_(i,s){i=ms,ge(Gh,i),ge(nl,s),ms=i|s.baseLanes}function ap(){ge(Gh,ms),ge(nl,nl.current)}function op(){ms=Gh.current,_e(nl),_e(Gh)}var Ls=0,tt=null,It=null,sn=null,Kh=!1,rl=!1,io=!1,Yh=0,Du=0,il=null,nI=0;function Qt(){throw Error(r(321))}function lp(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!mr(i[l],s[l]))return!1;return!0}function up(i,s,l,c,m,y){return Ls=y,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,re.H=i===null||i.memoizedState===null?fE:dE,io=!1,y=l(c,m),io=!1,rl&&(y=M_(s,l,c,m)),I_(i),y}function I_(i){re.H=ef;var s=It!==null&&It.next!==null;if(Ls=0,sn=It=tt=null,Kh=!1,Du=0,il=null,s)throw Error(r(300));i===null||En||(i=i.dependencies,i!==null&&Bh(i)&&(En=!0))}function M_(i,s,l,c){tt=i;var m=0;do{if(rl&&(il=null),Du=0,rl=!1,25<=m)throw Error(r(301));if(m+=1,sn=It=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}re.H=uI,y=s(l,c)}while(rl);return y}function rI(){var i=re.H,s=i.useState()[0];return s=typeof s.then=="function"?Iu(s):s,i=i.useState()[0],(It!==null?It.memoizedState:null)!==i&&(tt.flags|=1024),s}function cp(){var i=Yh!==0;return Yh=0,i}function hp(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function fp(i){if(Kh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Kh=!1}Ls=0,sn=It=tt=null,rl=!1,Du=Yh=0,il=null}function rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?tt.memoizedState=sn=i:sn=sn.next=i,sn}function an(){if(It===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=It.next;var s=sn===null?tt.memoizedState:sn.next;if(s!==null)sn=s,It=i;else{if(i===null)throw tt.alternate===null?Error(r(467)):Error(r(310));It=i,i={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},sn===null?tt.memoizedState=sn=i:sn=sn.next=i}return sn}function dp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(i){var s=Du;return Du+=1,il===null&&(il=[]),i=S_(il,i,s),s=tt,(sn===null?s.memoizedState:sn.next)===null&&(s=s.alternate,re.H=s===null||s.memoizedState===null?fE:dE),i}function Qh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Iu(i);if(i.$$typeof===G)return kn(i)}throw Error(r(438,String(i)))}function mp(i){var s=null,l=tt.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var c=tt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=dp(),tt.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),c=0;c<i;c++)l[c]=k;return s.index++,l}function ls(i,s){return typeof s=="function"?s(i):s}function Xh(i){var s=an();return pp(s,It,i)}function pp(i,s,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}s.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{s=m.next;var S=b=null,L=null,W=s,oe=!1;do{var fe=W.lane&-536870913;if(fe!==W.lane?(pt&fe)===fe:(Ls&fe)===fe){var J=W.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),fe===el&&(oe=!0);else if((Ls&J)===J){W=W.next,J===el&&(oe=!0);continue}else fe={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(S=L=fe,b=y):L=L.next=fe,tt.lanes|=J,qs|=J;fe=W.action,io&&l(y,fe),y=W.hasEagerState?W.eagerState:l(y,fe)}else J={lane:fe,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},L===null?(S=L=J,b=y):L=L.next=J,tt.lanes|=fe,qs|=fe;W=W.next}while(W!==null&&W!==s);if(L===null?b=y:L.next=S,!mr(y,i.memoizedState)&&(En=!0,oe&&(l=tl,l!==null)))throw l;i.memoizedState=y,i.baseState=b,i.baseQueue=L,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function gp(i){var s=an(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do y=i(y,b.action),b=b.next;while(b!==m);mr(y,s.memoizedState)||(En=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,c]}function O_(i,s,l){var c=tt,m=an(),y=Tt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=s();var b=!mr((It||m).memoizedState,l);b&&(m.memoizedState=l,En=!0),m=m.queue;var S=V_.bind(null,c,m,i);if(Mu(2048,8,S,[i]),m.getSnapshot!==s||b||sn!==null&&sn.memoizedState.tag&1){if(c.flags|=2048,sl(9,Wh(),N_.bind(null,c,m,l,s),null),kt===null)throw Error(r(349));y||(Ls&124)!==0||P_(c,s,l)}return l}function P_(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=tt.updateQueue,s===null?(s=dp(),tt.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function N_(i,s,l,c){s.value=l,s.getSnapshot=c,k_(s)&&L_(i)}function V_(i,s,l){return l(function(){k_(s)&&L_(i)})}function k_(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!mr(i,l)}catch{return!0}}function L_(i){var s=Xo(i,2);s!==null&&Er(s,i,2)}function yp(i){var s=rr();if(typeof i=="function"){var l=i;if(i=l(),io){we(!0);try{l()}finally{we(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:i},s}function U_(i,s,l,c){return i.baseState=l,pp(i,It,typeof c=="function"?c:ls)}function iI(i,s,l,c,m){if(Jh(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};re.T!==null?l(!0):y.isTransition=!1,c(y),l=s.pending,l===null?(y.next=s.pending=y,j_(s,y)):(y.next=l.next,s.pending=l.next=y)}}function j_(i,s){var l=s.action,c=s.payload,m=i.state;if(s.isTransition){var y=re.T,b={};re.T=b;try{var S=l(m,c),L=re.S;L!==null&&L(b,S),F_(i,s,S)}catch(W){vp(i,s,W)}finally{re.T=y}}else try{y=l(m,c),F_(i,s,y)}catch(W){vp(i,s,W)}}function F_(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){B_(i,s,c)},function(c){return vp(i,s,c)}):B_(i,s,l)}function B_(i,s,l){s.status="fulfilled",s.value=l,z_(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,j_(i,l)))}function vp(i,s,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=l,z_(s),s=s.next;while(s!==c)}i.action=null}function z_(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function H_(i,s){return s}function q_(i,s){if(Tt){var l=kt.formState;if(l!==null){e:{var c=tt;if(Tt){if(qt){t:{for(var m=qt,y=bi;m.nodeType!==8;){if(!y){m=null;break t}if(m=ti(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){qt=ti(m.nextSibling),c=m.data==="F!";break e}}eo(c)}c=!1}c&&(s=l[0])}}return l=rr(),l.memoizedState=l.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H_,lastRenderedState:s},l.queue=c,l=uE.bind(null,tt,c),c.dispatch=l,c=yp(!1),y=wp.bind(null,tt,!1,c.queue),c=rr(),m={state:s,dispatch:null,action:i,pending:null},c.queue=m,l=iI.bind(null,tt,m,y,l),m.dispatch=l,c.memoizedState=i,[s,l,!1]}function $_(i){var s=an();return G_(s,It,i)}function G_(i,s,l){if(s=pp(i,s,H_)[0],i=Xh(ls)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Iu(s)}catch(b){throw b===Su?qh:b}else c=s;s=an();var m=s.queue,y=m.dispatch;return l!==s.memoizedState&&(tt.flags|=2048,sl(9,Wh(),sI.bind(null,m,l),null)),[c,y,i]}function sI(i,s){i.action=s}function K_(i){var s=an(),l=It;if(l!==null)return G_(s,l,i);an(),s=s.memoizedState,l=an();var c=l.queue.dispatch;return l.memoizedState=i,[s,c,!1]}function sl(i,s,l,c){return i={tag:i,create:l,deps:c,inst:s,next:null},s=tt.updateQueue,s===null&&(s=dp(),tt.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,s.lastEffect=i),i}function Wh(){return{destroy:void 0,resource:void 0}}function Y_(){return an().memoizedState}function Zh(i,s,l,c){var m=rr();c=c===void 0?null:c,tt.flags|=i,m.memoizedState=sl(1|s,Wh(),l,c)}function Mu(i,s,l,c){var m=an();c=c===void 0?null:c;var y=m.memoizedState.inst;It!==null&&c!==null&&lp(c,It.memoizedState.deps)?m.memoizedState=sl(s,y,l,c):(tt.flags|=i,m.memoizedState=sl(1|s,y,l,c))}function Q_(i,s){Zh(8390656,8,i,s)}function X_(i,s){Mu(2048,8,i,s)}function W_(i,s){return Mu(4,2,i,s)}function Z_(i,s){return Mu(4,4,i,s)}function J_(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function eE(i,s,l){l=l!=null?l.concat([i]):null,Mu(4,4,J_.bind(null,s,i),l)}function _p(){}function tE(i,s){var l=an();s=s===void 0?null:s;var c=l.memoizedState;return s!==null&&lp(s,c[1])?c[0]:(l.memoizedState=[i,s],i)}function nE(i,s){var l=an();s=s===void 0?null:s;var c=l.memoizedState;if(s!==null&&lp(s,c[1]))return c[0];if(c=i(),io){we(!0);try{i()}finally{we(!1)}}return l.memoizedState=[c,s],c}function Ep(i,s,l){return l===void 0||(Ls&1073741824)!==0?i.memoizedState=s:(i.memoizedState=l,i=sT(),tt.lanes|=i,qs|=i,l)}function rE(i,s,l,c){return mr(l,s)?l:nl.current!==null?(i=Ep(i,l,c),mr(i,s)||(En=!0),i):(Ls&42)===0?(En=!0,i.memoizedState=l):(i=sT(),tt.lanes|=i,qs|=i,s)}function iE(i,s,l,c,m){var y=me.p;me.p=y!==0&&8>y?y:8;var b=re.T,S={};re.T=S,wp(i,!1,s,l);try{var L=m(),W=re.S;if(W!==null&&W(S,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var oe=tI(L,c);Ou(i,s,oe,_r(i))}else Ou(i,s,c,_r(i))}catch(fe){Ou(i,s,{then:function(){},status:"rejected",reason:fe},_r())}finally{me.p=y,re.T=b}}function aI(){}function Tp(i,s,l,c){if(i.tag!==5)throw Error(r(476));var m=sE(i).queue;iE(i,m,s,be,l===null?aI:function(){return aE(i),l(c)})}function sE(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:be},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function aE(i){var s=sE(i).next.queue;Ou(i,s,{},_r())}function bp(){return kn(Xu)}function oE(){return an().memoizedState}function lE(){return an().memoizedState}function oI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=_r();i=Vs(l);var c=ks(s,i,l);c!==null&&(Er(c,s,l),Au(c,s,l)),s={cache:Zm()},i.payload=s;return}s=s.return}}function lI(i,s,l){var c=_r();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Jh(i)?cE(s,l):(l=zm(i,s,l,c),l!==null&&(Er(l,i,c),hE(l,s,c)))}function uE(i,s,l){var c=_r();Ou(i,s,l,c)}function Ou(i,s,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Jh(i))cE(s,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var b=s.lastRenderedState,S=y(b,l);if(m.hasEagerState=!0,m.eagerState=S,mr(S,b))return kh(i,s,m,0),kt===null&&Vh(),!1}catch{}finally{}if(l=zm(i,s,m,c),l!==null)return Er(l,i,c),hE(l,s,c),!0}return!1}function wp(i,s,l,c){if(c={lane:2,revertLane:tg(),action:c,hasEagerState:!1,eagerState:null,next:null},Jh(i)){if(s)throw Error(r(479))}else s=zm(i,l,c,2),s!==null&&Er(s,i,2)}function Jh(i){var s=i.alternate;return i===tt||s!==null&&s===tt}function cE(i,s){rl=Kh=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function hE(i,s,l){if((l&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,l|=c,s.lanes=l,Va(i,l)}}var ef={readContext:kn,use:Qh,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt},fE={readContext:kn,use:Qh,useCallback:function(i,s){return rr().memoizedState=[i,s===void 0?null:s],i},useContext:kn,useEffect:Q_,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Zh(4194308,4,J_.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Zh(4194308,4,i,s)},useInsertionEffect:function(i,s){Zh(4,2,i,s)},useMemo:function(i,s){var l=rr();s=s===void 0?null:s;var c=i();if(io){we(!0);try{i()}finally{we(!1)}}return l.memoizedState=[c,s],c},useReducer:function(i,s,l){var c=rr();if(l!==void 0){var m=l(s);if(io){we(!0);try{l(s)}finally{we(!1)}}}else m=s;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=lI.bind(null,tt,i),[c.memoizedState,i]},useRef:function(i){var s=rr();return i={current:i},s.memoizedState=i},useState:function(i){i=yp(i);var s=i.queue,l=uE.bind(null,tt,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:_p,useDeferredValue:function(i,s){var l=rr();return Ep(l,i,s)},useTransition:function(){var i=yp(!1);return i=iE.bind(null,tt,i.queue,!0,!1),rr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var c=tt,m=rr();if(Tt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),kt===null)throw Error(r(349));(pt&124)!==0||P_(c,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,Q_(V_.bind(null,c,y,i),[i]),c.flags|=2048,sl(9,Wh(),N_.bind(null,c,y,l,s),null),l},useId:function(){var i=rr(),s=kt.identifierPrefix;if(Tt){var l=ss,c=is;l=(c&~(1<<32-je(c)-1)).toString(32)+l,s="«"+s+"R"+l,l=Yh++,0<l&&(s+="H"+l.toString(32)),s+="»"}else l=nI++,s="«"+s+"r"+l.toString(32)+"»";return i.memoizedState=s},useHostTransitionStatus:bp,useFormState:q_,useActionState:q_,useOptimistic:function(i){var s=rr();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=wp.bind(null,tt,!0,l),l.dispatch=s,[i,s]},useMemoCache:mp,useCacheRefresh:function(){return rr().memoizedState=oI.bind(null,tt)}},dE={readContext:kn,use:Qh,useCallback:tE,useContext:kn,useEffect:X_,useImperativeHandle:eE,useInsertionEffect:W_,useLayoutEffect:Z_,useMemo:nE,useReducer:Xh,useRef:Y_,useState:function(){return Xh(ls)},useDebugValue:_p,useDeferredValue:function(i,s){var l=an();return rE(l,It.memoizedState,i,s)},useTransition:function(){var i=Xh(ls)[0],s=an().memoizedState;return[typeof i=="boolean"?i:Iu(i),s]},useSyncExternalStore:O_,useId:oE,useHostTransitionStatus:bp,useFormState:$_,useActionState:$_,useOptimistic:function(i,s){var l=an();return U_(l,It,i,s)},useMemoCache:mp,useCacheRefresh:lE},uI={readContext:kn,use:Qh,useCallback:tE,useContext:kn,useEffect:X_,useImperativeHandle:eE,useInsertionEffect:W_,useLayoutEffect:Z_,useMemo:nE,useReducer:gp,useRef:Y_,useState:function(){return gp(ls)},useDebugValue:_p,useDeferredValue:function(i,s){var l=an();return It===null?Ep(l,i,s):rE(l,It.memoizedState,i,s)},useTransition:function(){var i=gp(ls)[0],s=an().memoizedState;return[typeof i=="boolean"?i:Iu(i),s]},useSyncExternalStore:O_,useId:oE,useHostTransitionStatus:bp,useFormState:K_,useActionState:K_,useOptimistic:function(i,s){var l=an();return It!==null?U_(l,It,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:mp,useCacheRefresh:lE},al=null,Pu=0;function tf(i){var s=Pu;return Pu+=1,al===null&&(al=[]),S_(al,i,s)}function Nu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function nf(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function mE(i){var s=i._init;return s(i._payload)}function pE(i){function s(K,$){if(i){var X=K.deletions;X===null?(K.deletions=[$],K.flags|=16):X.push($)}}function l(K,$){if(!i)return null;for(;$!==null;)s(K,$),$=$.sibling;return null}function c(K){for(var $=new Map;K!==null;)K.key!==null?$.set(K.key,K):$.set(K.index,K),K=K.sibling;return $}function m(K,$){return K=rs(K,$),K.index=0,K.sibling=null,K}function y(K,$,X){return K.index=X,i?(X=K.alternate,X!==null?(X=X.index,X<$?(K.flags|=67108866,$):X):(K.flags|=67108866,$)):(K.flags|=1048576,$)}function b(K){return i&&K.alternate===null&&(K.flags|=67108866),K}function S(K,$,X,ce){return $===null||$.tag!==6?($=qm(X,K.mode,ce),$.return=K,$):($=m($,X),$.return=K,$)}function L(K,$,X,ce){var Re=X.type;return Re===A?oe(K,$,X.props.children,ce,X.key):$!==null&&($.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===x&&mE(Re)===$.type)?($=m($,X.props),Nu($,X),$.return=K,$):($=Uh(X.type,X.key,X.props,null,K.mode,ce),Nu($,X),$.return=K,$)}function W(K,$,X,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==X.containerInfo||$.stateNode.implementation!==X.implementation?($=$m(X,K.mode,ce),$.return=K,$):($=m($,X.children||[]),$.return=K,$)}function oe(K,$,X,ce,Re){return $===null||$.tag!==7?($=Xa(X,K.mode,ce,Re),$.return=K,$):($=m($,X),$.return=K,$)}function fe(K,$,X){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=qm(""+$,K.mode,X),$.return=K,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return X=Uh($.type,$.key,$.props,null,K.mode,X),Nu(X,$),X.return=K,X;case w:return $=$m($,K.mode,X),$.return=K,$;case x:var ce=$._init;return $=ce($._payload),fe(K,$,X)}if(Ne($)||F($))return $=Xa($,K.mode,X,null),$.return=K,$;if(typeof $.then=="function")return fe(K,tf($),X);if($.$$typeof===G)return fe(K,zh(K,$),X);nf(K,$)}return null}function J(K,$,X,ce){var Re=$!==null?$.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return Re!==null?null:S(K,$,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case E:return X.key===Re?L(K,$,X,ce):null;case w:return X.key===Re?W(K,$,X,ce):null;case x:return Re=X._init,X=Re(X._payload),J(K,$,X,ce)}if(Ne(X)||F(X))return Re!==null?null:oe(K,$,X,ce,null);if(typeof X.then=="function")return J(K,$,tf(X),ce);if(X.$$typeof===G)return J(K,$,zh(K,X),ce);nf(K,X)}return null}function ee(K,$,X,ce,Re){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(X)||null,S($,K,""+ce,Re);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case E:return K=K.get(ce.key===null?X:ce.key)||null,L($,K,ce,Re);case w:return K=K.get(ce.key===null?X:ce.key)||null,W($,K,ce,Re);case x:var it=ce._init;return ce=it(ce._payload),ee(K,$,X,ce,Re)}if(Ne(ce)||F(ce))return K=K.get(X)||null,oe($,K,ce,Re,null);if(typeof ce.then=="function")return ee(K,$,X,tf(ce),Re);if(ce.$$typeof===G)return ee(K,$,X,zh($,ce),Re);nf($,ce)}return null}function Ye(K,$,X,ce){for(var Re=null,it=null,Ve=$,qe=$=0,bn=null;Ve!==null&&qe<X.length;qe++){Ve.index>qe?(bn=Ve,Ve=null):bn=Ve.sibling;var _t=J(K,Ve,X[qe],ce);if(_t===null){Ve===null&&(Ve=bn);break}i&&Ve&&_t.alternate===null&&s(K,Ve),$=y(_t,$,qe),it===null?Re=_t:it.sibling=_t,it=_t,Ve=bn}if(qe===X.length)return l(K,Ve),Tt&&Za(K,qe),Re;if(Ve===null){for(;qe<X.length;qe++)Ve=fe(K,X[qe],ce),Ve!==null&&($=y(Ve,$,qe),it===null?Re=Ve:it.sibling=Ve,it=Ve);return Tt&&Za(K,qe),Re}for(Ve=c(Ve);qe<X.length;qe++)bn=ee(Ve,K,qe,X[qe],ce),bn!==null&&(i&&bn.alternate!==null&&Ve.delete(bn.key===null?qe:bn.key),$=y(bn,$,qe),it===null?Re=bn:it.sibling=bn,it=bn);return i&&Ve.forEach(function(Js){return s(K,Js)}),Tt&&Za(K,qe),Re}function Fe(K,$,X,ce){if(X==null)throw Error(r(151));for(var Re=null,it=null,Ve=$,qe=$=0,bn=null,_t=X.next();Ve!==null&&!_t.done;qe++,_t=X.next()){Ve.index>qe?(bn=Ve,Ve=null):bn=Ve.sibling;var Js=J(K,Ve,_t.value,ce);if(Js===null){Ve===null&&(Ve=bn);break}i&&Ve&&Js.alternate===null&&s(K,Ve),$=y(Js,$,qe),it===null?Re=Js:it.sibling=Js,it=Js,Ve=bn}if(_t.done)return l(K,Ve),Tt&&Za(K,qe),Re;if(Ve===null){for(;!_t.done;qe++,_t=X.next())_t=fe(K,_t.value,ce),_t!==null&&($=y(_t,$,qe),it===null?Re=_t:it.sibling=_t,it=_t);return Tt&&Za(K,qe),Re}for(Ve=c(Ve);!_t.done;qe++,_t=X.next())_t=ee(Ve,K,qe,_t.value,ce),_t!==null&&(i&&_t.alternate!==null&&Ve.delete(_t.key===null?qe:_t.key),$=y(_t,$,qe),it===null?Re=_t:it.sibling=_t,it=_t);return i&&Ve.forEach(function(c2){return s(K,c2)}),Tt&&Za(K,qe),Re}function Ot(K,$,X,ce){if(typeof X=="object"&&X!==null&&X.type===A&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case E:e:{for(var Re=X.key;$!==null;){if($.key===Re){if(Re=X.type,Re===A){if($.tag===7){l(K,$.sibling),ce=m($,X.props.children),ce.return=K,K=ce;break e}}else if($.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===x&&mE(Re)===$.type){l(K,$.sibling),ce=m($,X.props),Nu(ce,X),ce.return=K,K=ce;break e}l(K,$);break}else s(K,$);$=$.sibling}X.type===A?(ce=Xa(X.props.children,K.mode,ce,X.key),ce.return=K,K=ce):(ce=Uh(X.type,X.key,X.props,null,K.mode,ce),Nu(ce,X),ce.return=K,K=ce)}return b(K);case w:e:{for(Re=X.key;$!==null;){if($.key===Re)if($.tag===4&&$.stateNode.containerInfo===X.containerInfo&&$.stateNode.implementation===X.implementation){l(K,$.sibling),ce=m($,X.children||[]),ce.return=K,K=ce;break e}else{l(K,$);break}else s(K,$);$=$.sibling}ce=$m(X,K.mode,ce),ce.return=K,K=ce}return b(K);case x:return Re=X._init,X=Re(X._payload),Ot(K,$,X,ce)}if(Ne(X))return Ye(K,$,X,ce);if(F(X)){if(Re=F(X),typeof Re!="function")throw Error(r(150));return X=Re.call(X),Fe(K,$,X,ce)}if(typeof X.then=="function")return Ot(K,$,tf(X),ce);if(X.$$typeof===G)return Ot(K,$,zh(K,X),ce);nf(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,$!==null&&$.tag===6?(l(K,$.sibling),ce=m($,X),ce.return=K,K=ce):(l(K,$),ce=qm(X,K.mode,ce),ce.return=K,K=ce),b(K)):l(K,$)}return function(K,$,X,ce){try{Pu=0;var Re=Ot(K,$,X,ce);return al=null,Re}catch(Ve){if(Ve===Su||Ve===qh)throw Ve;var it=pr(29,Ve,null,K.mode);return it.lanes=ce,it.return=K,it}finally{}}}var ol=pE(!0),gE=pE(!1),Br=he(null),wi=null;function Us(i){var s=i.alternate;ge(fn,fn.current&1),ge(Br,i),wi===null&&(s===null||nl.current!==null||s.memoizedState!==null)&&(wi=i)}function yE(i){if(i.tag===22){if(ge(fn,fn.current),ge(Br,i),wi===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(wi=i)}}else js()}function js(){ge(fn,fn.current),ge(Br,Br.current)}function us(i){_e(Br),wi===i&&(wi=null),_e(fn)}var fn=he(0);function rf(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||dg(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Sp(i,s,l,c){s=i.memoizedState,l=l(c,s),l=l==null?s:g({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var xp={enqueueSetState:function(i,s,l){i=i._reactInternals;var c=_r(),m=Vs(c);m.payload=s,l!=null&&(m.callback=l),s=ks(i,m,c),s!==null&&(Er(s,i,c),Au(s,i,c))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var c=_r(),m=Vs(c);m.tag=1,m.payload=s,l!=null&&(m.callback=l),s=ks(i,m,c),s!==null&&(Er(s,i,c),Au(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=_r(),c=Vs(l);c.tag=2,s!=null&&(c.callback=s),s=ks(i,c,l),s!==null&&(Er(s,i,l),Au(s,i,l))}};function vE(i,s,l,c,m,y,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,b):s.prototype&&s.prototype.isPureReactComponent?!gu(l,c)||!gu(m,y):!0}function _E(i,s,l,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==i&&xp.enqueueReplaceState(s,s.state,null)}function so(i,s){var l=s;if("ref"in s){l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}if(i=i.defaultProps){l===s&&(l=g({},l));for(var m in i)l[m]===void 0&&(l[m]=i[m])}return l}var sf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function EE(i){sf(i)}function TE(i){console.error(i)}function bE(i){sf(i)}function af(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function wE(i,s,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ap(i,s,l){return l=Vs(l),l.tag=3,l.payload={element:null},l.callback=function(){af(i,s)},l}function SE(i){return i=Vs(i),i.tag=3,i}function xE(i,s,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){wE(s,l,c)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(i.callback=function(){wE(s,l,c),typeof m!="function"&&($s===null?$s=new Set([this]):$s.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function cI(i,s,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=l.alternate,s!==null&&Tu(s,l,m,!0),l=Br.current,l!==null){switch(l.tag){case 13:return wi===null?Xp():l.alternate===null&&$t===0&&($t=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===tp?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([c]):s.add(c),Zp(i,c,m)),!1;case 22:return l.flags|=65536,c===tp?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([c]):l.add(c)),Zp(i,c,m)),!1}throw Error(r(435,l.tag))}return Zp(i,c,m),Xp(),!1}if(Tt)return s=Br.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,c!==Ym&&(i=Error(r(422),{cause:c}),Eu(Lr(i,l)))):(c!==Ym&&(s=Error(r(423),{cause:c}),Eu(Lr(s,l))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=Lr(c,l),m=Ap(i.stateNode,c,m),ip(i,m),$t!==4&&($t=2)),!1;var y=Error(r(520),{cause:c});if(y=Lr(y,l),Bu===null?Bu=[y]:Bu.push(y),$t!==4&&($t=2),s===null)return!0;c=Lr(c,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=m&-m,l.lanes|=i,i=Ap(l.stateNode,c,i),ip(l,i),!1;case 1:if(s=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($s===null||!$s.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=SE(m),xE(m,i,l,c),ip(l,m),!1}l=l.return}while(l!==null);return!1}var AE=Error(r(461)),En=!1;function Rn(i,s,l,c){s.child=i===null?gE(s,null,l,c):ol(s,i.child,l,c)}function RE(i,s,l,c,m){l=l.render;var y=s.ref;if("ref"in c){var b={};for(var S in c)S!=="ref"&&(b[S]=c[S])}else b=c;return no(s),c=up(i,s,l,b,y,m),S=cp(),i!==null&&!En?(hp(i,s,m),cs(i,s,m)):(Tt&&S&&Gm(s),s.flags|=1,Rn(i,s,c,m),s.child)}function CE(i,s,l,c,m){if(i===null){var y=l.type;return typeof y=="function"&&!Hm(y)&&y.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=y,DE(i,s,y,c,m)):(i=Uh(l.type,null,c,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Np(i,m)){var b=y.memoizedProps;if(l=l.compare,l=l!==null?l:gu,l(b,c)&&i.ref===s.ref)return cs(i,s,m)}return s.flags|=1,i=rs(y,c),i.ref=s.ref,i.return=s,s.child=i}function DE(i,s,l,c,m){if(i!==null){var y=i.memoizedProps;if(gu(y,c)&&i.ref===s.ref)if(En=!1,s.pendingProps=c=y,Np(i,m))(i.flags&131072)!==0&&(En=!0);else return s.lanes=i.lanes,cs(i,s,m)}return Rp(i,s,l,c,m)}function IE(i,s,l){var c=s.pendingProps,m=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(m=s.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return ME(i,s,c,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hh(s,y!==null?y.cachePool:null),y!==null?D_(s,y):ap(),yE(s);else return s.lanes=s.childLanes=536870912,ME(i,s,y!==null?y.baseLanes|l:l,l)}else y!==null?(Hh(s,y.cachePool),D_(s,y),js(),s.memoizedState=null):(i!==null&&Hh(s,null),ap(),js());return Rn(i,s,m,l),s.child}function ME(i,s,l,c){var m=ep();return m=m===null?null:{parent:hn._currentValue,pool:m},s.memoizedState={baseLanes:l,cachePool:m},i!==null&&Hh(s,null),ap(),yE(s),i!==null&&Tu(i,s,c,!0),null}function of(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function Rp(i,s,l,c,m){return no(s),l=up(i,s,l,c,void 0,m),c=cp(),i!==null&&!En?(hp(i,s,m),cs(i,s,m)):(Tt&&c&&Gm(s),s.flags|=1,Rn(i,s,l,m),s.child)}function OE(i,s,l,c,m,y){return no(s),s.updateQueue=null,l=M_(s,c,l,m),I_(i),c=cp(),i!==null&&!En?(hp(i,s,y),cs(i,s,y)):(Tt&&c&&Gm(s),s.flags|=1,Rn(i,s,l,y),s.child)}function PE(i,s,l,c,m){if(no(s),s.stateNode===null){var y=Wo,b=l.contextType;typeof b=="object"&&b!==null&&(y=kn(b)),y=new l(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},np(s),b=l.contextType,y.context=typeof b=="object"&&b!==null?kn(b):Wo,y.state=s.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Sp(s,l,b,c),y.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&xp.enqueueReplaceState(y,y.state,null),Cu(s,c,y,m),Ru(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){y=s.stateNode;var S=s.memoizedProps,L=so(l,S);y.props=L;var W=y.context,oe=l.contextType;b=Wo,typeof oe=="object"&&oe!==null&&(b=kn(oe));var fe=l.getDerivedStateFromProps;oe=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||W!==b)&&_E(s,y,c,b),Ns=!1;var J=s.memoizedState;y.state=J,Cu(s,c,y,m),Ru(),W=s.memoizedState,S||J!==W||Ns?(typeof fe=="function"&&(Sp(s,l,fe,c),W=s.memoizedState),(L=Ns||vE(s,l,L,c,J,W,b))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=W),y.props=c,y.state=W,y.context=b,c=L):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,rp(i,s),b=s.memoizedProps,oe=so(l,b),y.props=oe,fe=s.pendingProps,J=y.context,W=l.contextType,L=Wo,typeof W=="object"&&W!==null&&(L=kn(W)),S=l.getDerivedStateFromProps,(W=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==fe||J!==L)&&_E(s,y,c,L),Ns=!1,J=s.memoizedState,y.state=J,Cu(s,c,y,m),Ru();var ee=s.memoizedState;b!==fe||J!==ee||Ns||i!==null&&i.dependencies!==null&&Bh(i.dependencies)?(typeof S=="function"&&(Sp(s,l,S,c),ee=s.memoizedState),(oe=Ns||vE(s,l,oe,c,J,ee,L)||i!==null&&i.dependencies!==null&&Bh(i.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ee,L),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ee,L)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),y.props=c,y.state=ee,y.context=L,c=oe):(typeof y.componentDidUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===i.memoizedProps&&J===i.memoizedState||(s.flags|=1024),c=!1)}return y=c,of(i,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&c?(s.child=ol(s,i.child,null,m),s.child=ol(s,null,l,m)):Rn(i,s,l,m),s.memoizedState=y.state,i=s.child):i=cs(i,s,m),i}function NE(i,s,l,c){return _u(),s.flags|=256,Rn(i,s,l,c),s.child}var Cp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dp(i){return{baseLanes:i,cachePool:T_()}}function Ip(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=zr),i}function VE(i,s,l){var c=s.pendingProps,m=!1,y=(s.flags&128)!==0,b;if((b=y)||(b=i!==null&&i.memoizedState===null?!1:(fn.current&2)!==0),b&&(m=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,i===null){if(Tt){if(m?Us(s):js(),Tt){var S=qt,L;if(L=S){e:{for(L=S,S=bi;L.nodeType!==8;){if(!S){S=null;break e}if(L=ti(L.nextSibling),L===null){S=null;break e}}S=L}S!==null?(s.memoizedState={dehydrated:S,treeContext:Wa!==null?{id:is,overflow:ss}:null,retryLane:536870912,hydrationErrors:null},L=pr(18,null,null,0),L.stateNode=S,L.return=s,s.child=L,Wn=s,qt=null,L=!0):L=!1}L||eo(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return dg(S)?s.lanes=32:s.lanes=536870912,null;us(s)}return S=c.children,c=c.fallback,m?(js(),m=s.mode,S=lf({mode:"hidden",children:S},m),c=Xa(c,m,l,null),S.return=s,c.return=s,S.sibling=c,s.child=S,m=s.child,m.memoizedState=Dp(l),m.childLanes=Ip(i,b,l),s.memoizedState=Cp,c):(Us(s),Mp(s,S))}if(L=i.memoizedState,L!==null&&(S=L.dehydrated,S!==null)){if(y)s.flags&256?(Us(s),s.flags&=-257,s=Op(i,s,l)):s.memoizedState!==null?(js(),s.child=i.child,s.flags|=128,s=null):(js(),m=c.fallback,S=s.mode,c=lf({mode:"visible",children:c.children},S),m=Xa(m,S,l,null),m.flags|=2,c.return=s,m.return=s,c.sibling=m,s.child=c,ol(s,i.child,null,l),c=s.child,c.memoizedState=Dp(l),c.childLanes=Ip(i,b,l),s.memoizedState=Cp,s=m);else if(Us(s),dg(S)){if(b=S.nextSibling&&S.nextSibling.dataset,b)var W=b.dgst;b=W,c=Error(r(419)),c.stack="",c.digest=b,Eu({value:c,source:null,stack:null}),s=Op(i,s,l)}else if(En||Tu(i,s,l,!1),b=(l&i.childLanes)!==0,En||b){if(b=kt,b!==null&&(c=l&-l,c=(c&42)!==0?1:fi(c),c=(c&(b.suspendedLanes|l))!==0?0:c,c!==0&&c!==L.retryLane))throw L.retryLane=c,Xo(i,c),Er(b,i,c),AE;S.data==="$?"||Xp(),s=Op(i,s,l)}else S.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=L.treeContext,qt=ti(S.nextSibling),Wn=s,Tt=!0,Ja=null,bi=!1,i!==null&&(jr[Fr++]=is,jr[Fr++]=ss,jr[Fr++]=Wa,is=i.id,ss=i.overflow,Wa=s),s=Mp(s,c.children),s.flags|=4096);return s}return m?(js(),m=c.fallback,S=s.mode,L=i.child,W=L.sibling,c=rs(L,{mode:"hidden",children:c.children}),c.subtreeFlags=L.subtreeFlags&65011712,W!==null?m=rs(W,m):(m=Xa(m,S,l,null),m.flags|=2),m.return=s,c.return=s,c.sibling=m,s.child=c,c=m,m=s.child,S=i.child.memoizedState,S===null?S=Dp(l):(L=S.cachePool,L!==null?(W=hn._currentValue,L=L.parent!==W?{parent:W,pool:W}:L):L=T_(),S={baseLanes:S.baseLanes|l,cachePool:L}),m.memoizedState=S,m.childLanes=Ip(i,b,l),s.memoizedState=Cp,c):(Us(s),l=i.child,i=l.sibling,l=rs(l,{mode:"visible",children:c.children}),l.return=s,l.sibling=null,i!==null&&(b=s.deletions,b===null?(s.deletions=[i],s.flags|=16):b.push(i)),s.child=l,s.memoizedState=null,l)}function Mp(i,s){return s=lf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function lf(i,s){return i=pr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Op(i,s,l){return ol(s,i.child,null,l),i=Mp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function kE(i,s,l){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Xm(i.return,s,l)}function Pp(i,s,l,c,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function LE(i,s,l){var c=s.pendingProps,m=c.revealOrder,y=c.tail;if(Rn(i,s,c.children,l),c=fn.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&kE(i,l,s);else if(i.tag===19)kE(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(ge(fn,c),m){case"forwards":for(l=s.child,m=null;l!==null;)i=l.alternate,i!==null&&rf(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Pp(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&rf(i)===null){s.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Pp(s,!0,l,null,y);break;case"together":Pp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function cs(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),qs|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Tu(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,l=rs(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=rs(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Np(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Bh(i)))}function hI(i,s,l){switch(s.tag){case 3:bt(s,s.stateNode.containerInfo),Ps(s,hn,i.memoizedState.cache),_u();break;case 27:case 5:gn(s);break;case 4:bt(s,s.stateNode.containerInfo);break;case 10:Ps(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(Us(s),s.flags|=128,null):(l&s.child.childLanes)!==0?VE(i,s,l):(Us(s),i=cs(i,s,l),i!==null?i.sibling:null);Us(s);break;case 19:var m=(i.flags&128)!==0;if(c=(l&s.childLanes)!==0,c||(Tu(i,s,l,!1),c=(l&s.childLanes)!==0),m){if(c)return LE(i,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ge(fn,fn.current),c)break;return null;case 22:case 23:return s.lanes=0,IE(i,s,l);case 24:Ps(s,hn,i.memoizedState.cache)}return cs(i,s,l)}function UE(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)En=!0;else{if(!Np(i,l)&&(s.flags&128)===0)return En=!1,hI(i,s,l);En=(i.flags&131072)!==0}else En=!1,Tt&&(s.flags&1048576)!==0&&m_(s,Fh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,m=c._init;if(c=m(c._payload),s.type=c,typeof c=="function")Hm(c)?(i=so(c,i),s.tag=1,s=PE(null,s,c,i,l)):(s.tag=0,s=Rp(null,s,c,i,l));else{if(c!=null){if(m=c.$$typeof,m===ae){s.tag=11,s=RE(null,s,c,i,l);break e}else if(m===N){s.tag=14,s=CE(null,s,c,i,l);break e}}throw s=ze(c)||c,Error(r(306,s,""))}}return s;case 0:return Rp(i,s,s.type,s.pendingProps,l);case 1:return c=s.type,m=so(c,s.pendingProps),PE(i,s,c,m,l);case 3:e:{if(bt(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var y=s.memoizedState;m=y.element,rp(i,s),Cu(s,c,null,l);var b=s.memoizedState;if(c=b.cache,Ps(s,hn,c),c!==y.cache&&Wm(s,[hn],l,!0),Ru(),c=b.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=NE(i,s,c,l);break e}else if(c!==m){m=Lr(Error(r(424)),s),Eu(m),s=NE(i,s,c,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(qt=ti(i.firstChild),Wn=s,Tt=!0,Ja=null,bi=!0,l=gE(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(_u(),c===m){s=cs(i,s,l);break e}Rn(i,s,c,l)}s=s.child}return s;case 26:return of(i,s),i===null?(l=zT(s.type,null,s.pendingProps,null))?s.memoizedState=l:Tt||(l=s.type,i=s.pendingProps,c=bf(He.current).createElement(l),c[ve]=s,c[xe]=i,Dn(c,l,i),Je(c),s.stateNode=c):s.memoizedState=zT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return gn(s),i===null&&Tt&&(c=s.stateNode=jT(s.type,s.pendingProps,He.current),Wn=s,bi=!0,m=qt,Ys(s.type)?(mg=m,qt=ti(c.firstChild)):qt=m),Rn(i,s,s.pendingProps.children,l),of(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Tt&&((m=c=qt)&&(c=jI(c,s.type,s.pendingProps,bi),c!==null?(s.stateNode=c,Wn=s,qt=ti(c.firstChild),bi=!1,m=!0):m=!1),m||eo(s)),gn(s),m=s.type,y=s.pendingProps,b=i!==null?i.memoizedProps:null,c=y.children,cg(m,y)?c=null:b!==null&&cg(m,b)&&(s.flags|=32),s.memoizedState!==null&&(m=up(i,s,rI,null,null,l),Xu._currentValue=m),of(i,s),Rn(i,s,c,l),s.child;case 6:return i===null&&Tt&&((i=l=qt)&&(l=FI(l,s.pendingProps,bi),l!==null?(s.stateNode=l,Wn=s,qt=null,i=!0):i=!1),i||eo(s)),null;case 13:return VE(i,s,l);case 4:return bt(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=ol(s,null,c,l):Rn(i,s,c,l),s.child;case 11:return RE(i,s,s.type,s.pendingProps,l);case 7:return Rn(i,s,s.pendingProps,l),s.child;case 8:return Rn(i,s,s.pendingProps.children,l),s.child;case 12:return Rn(i,s,s.pendingProps.children,l),s.child;case 10:return c=s.pendingProps,Ps(s,s.type,c.value),Rn(i,s,c.children,l),s.child;case 9:return m=s.type._context,c=s.pendingProps.children,no(s),m=kn(m),c=c(m),s.flags|=1,Rn(i,s,c,l),s.child;case 14:return CE(i,s,s.type,s.pendingProps,l);case 15:return DE(i,s,s.type,s.pendingProps,l);case 19:return LE(i,s,l);case 31:return c=s.pendingProps,l=s.mode,c={mode:c.mode,children:c.children},i===null?(l=lf(c,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=rs(i.child,c),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return IE(i,s,l);case 24:return no(s),c=kn(hn),i===null?(m=ep(),m===null&&(m=kt,y=Zm(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),s.memoizedState={parent:c,cache:m},np(s),Ps(s,hn,m)):((i.lanes&l)!==0&&(rp(i,s),Cu(s,null,null,l),Ru()),m=i.memoizedState,y=s.memoizedState,m.parent!==c?(m={parent:c,cache:c},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ps(s,hn,c)):(c=y.cache,Ps(s,hn,c),c!==m.cache&&Wm(s,[hn],l,!0))),Rn(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function hs(i){i.flags|=4}function jE(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!KT(s)){if(s=Br.current,s!==null&&((pt&4194048)===pt?wi!==null:(pt&62914560)!==pt&&(pt&536870912)===0||s!==wi))throw xu=tp,b_;i.flags|=8192}}function uf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Ds():536870912,i.lanes|=s,hl|=s)}function Vu(i,s){if(!Tt)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Bt(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(s)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=l,s}function fI(i,s,l){var c=s.pendingProps;switch(Km(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return Bt(s),null;case 3:return l=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),os(hn),wt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(vu(s)?hs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,y_())),Bt(s),null;case 26:return l=s.memoizedState,i===null?(hs(s),l!==null?(Bt(s),jE(s,l)):(Bt(s),s.flags&=-16777217)):l?l!==i.memoizedState?(hs(s),Bt(s),jE(s,l)):(Bt(s),s.flags&=-16777217):(i.memoizedProps!==c&&hs(s),Bt(s),s.flags&=-16777217),null;case 27:Nn(s),l=He.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&hs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Bt(s),null}i=Me.current,vu(s)?p_(s):(i=jT(m,c,l),s.stateNode=i,hs(s))}return Bt(s),null;case 5:if(Nn(s),l=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&hs(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return Bt(s),null}if(i=Me.current,vu(s))p_(s);else{switch(m=bf(He.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}i[ve]=s,i[xe]=c;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(Dn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&hs(s)}}return Bt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&hs(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=He.current,vu(s)){if(i=s.stateNode,l=s.memoizedProps,c=null,m=Wn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[ve]=s,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||OT(i.nodeValue,l)),i||eo(s)}else i=bf(i).createTextNode(c),i[ve]=s,s.stateNode=i}return Bt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=vu(s),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[ve]=s}else _u(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Bt(s),m=!1}else m=y_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(us(s),s):(us(s),null)}if(us(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=s.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==i&&l&&(s.child.flags|=8192),uf(s,s.updateQueue),Bt(s),null;case 4:return wt(),i===null&&sg(s.stateNode.containerInfo),Bt(s),null;case 10:return os(s.type),Bt(s),null;case 19:if(_e(fn),m=s.memoizedState,m===null)return Bt(s),null;if(c=(s.flags&128)!==0,y=m.rendering,y===null)if(c)Vu(m,!1);else{if($t!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=rf(i),y!==null){for(s.flags|=128,Vu(m,!1),i=y.updateQueue,s.updateQueue=i,uf(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)d_(l,i),l=l.sibling;return ge(fn,fn.current&1|2),s.child}i=i.sibling}m.tail!==null&&xn()>ff&&(s.flags|=128,c=!0,Vu(m,!1),s.lanes=4194304)}else{if(!c)if(i=rf(y),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,uf(s,i),Vu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Tt)return Bt(s),null}else 2*xn()-m.renderingStartTime>ff&&l!==536870912&&(s.flags|=128,c=!0,Vu(m,!1),s.lanes=4194304);m.isBackwards?(y.sibling=s.child,s.child=y):(i=m.last,i!==null?i.sibling=y:s.child=y,m.last=y)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=xn(),s.sibling=null,i=fn.current,ge(fn,c?i&1|2:i&1),s):(Bt(s),null);case 22:case 23:return us(s),op(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(l&536870912)!==0&&(s.flags&128)===0&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),l=s.updateQueue,l!==null&&uf(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==l&&(s.flags|=2048),i!==null&&_e(ro),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),os(hn),Bt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function dI(i,s){switch(Km(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return os(hn),wt(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Nn(s),null;case 13:if(us(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));_u()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return _e(fn),null;case 4:return wt(),null;case 10:return os(s.type),null;case 22:case 23:return us(s),op(),i!==null&&_e(ro),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return os(hn),null;case 25:return null;default:return null}}function FE(i,s){switch(Km(s),s.tag){case 3:os(hn),wt();break;case 26:case 27:case 5:Nn(s);break;case 4:wt();break;case 13:us(s);break;case 19:_e(fn);break;case 10:os(s.type);break;case 22:case 23:us(s),op(),i!==null&&_e(ro);break;case 24:os(hn)}}function ku(i,s){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&i)===i){c=void 0;var y=l.create,b=l.inst;c=y(),b.destroy=c}l=l.next}while(l!==m)}}catch(S){Vt(s,s.return,S)}}function Fs(i,s,l){try{var c=s.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var b=c.inst,S=b.destroy;if(S!==void 0){b.destroy=void 0,m=s;var L=l,W=S;try{W()}catch(oe){Vt(m,L,oe)}}}c=c.next}while(c!==y)}}catch(oe){Vt(s,s.return,oe)}}function BE(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{C_(s,l)}catch(c){Vt(i,i.return,c)}}}function zE(i,s,l){l.props=so(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(i,s,c)}}function Lu(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(m){Vt(i,s,m)}}function Si(i,s){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Vt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Vt(i,s,m)}else l.current=null}function HE(i){var s=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Vt(i,i.return,m)}}function Vp(i,s,l){try{var c=i.stateNode;NI(c,i.type,l,s),c[xe]=s}catch(m){Vt(i,i.return,m)}}function qE(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ys(i.type)||i.tag===4}function kp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qE(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ys(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Lp(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Tf));else if(c!==4&&(c===27&&Ys(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(Lp(i,s,l),i=i.sibling;i!==null;)Lp(i,s,l),i=i.sibling}function cf(i,s,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(c!==4&&(c===27&&Ys(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(cf(i,s,l),i=i.sibling;i!==null;)cf(i,s,l),i=i.sibling}function $E(i){var s=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Dn(s,c,l),s[ve]=i,s[xe]=l}catch(y){Vt(i,i.return,y)}}var fs=!1,Xt=!1,Up=!1,GE=typeof WeakSet=="function"?WeakSet:Set,Tn=null;function mI(i,s){if(i=i.containerInfo,lg=Cf,i=r_(i),km(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var b=0,S=-1,L=-1,W=0,oe=0,fe=i,J=null;t:for(;;){for(var ee;fe!==l||m!==0&&fe.nodeType!==3||(S=b+m),fe!==y||c!==0&&fe.nodeType!==3||(L=b+c),fe.nodeType===3&&(b+=fe.nodeValue.length),(ee=fe.firstChild)!==null;)J=fe,fe=ee;for(;;){if(fe===i)break t;if(J===l&&++W===m&&(S=b),J===y&&++oe===c&&(L=b),(ee=fe.nextSibling)!==null)break;fe=J,J=fe.parentNode}fe=ee}l=S===-1||L===-1?null:{start:S,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(ug={focusedElem:i,selectionRange:l},Cf=!1,Tn=s;Tn!==null;)if(s=Tn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Tn=i;else for(;Tn!==null;){switch(s=Tn,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=s,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ye=so(l.type,m,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Ye,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){Vt(l,l.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)fg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":fg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Tn=i;break}Tn=s.return}}function KE(i,s,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Bs(i,l),c&4&&ku(5,l);break;case 1:if(Bs(i,l),c&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(b){Vt(l,l.return,b)}else{var m=so(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(b){Vt(l,l.return,b)}}c&64&&BE(l),c&512&&Lu(l,l.return);break;case 3:if(Bs(i,l),c&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{C_(i,s)}catch(b){Vt(l,l.return,b)}}break;case 27:s===null&&c&4&&$E(l);case 26:case 5:Bs(i,l),s===null&&c&4&&HE(l),c&512&&Lu(l,l.return);break;case 12:Bs(i,l);break;case 13:Bs(i,l),c&4&&XE(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=wI.bind(null,l),BI(i,l))));break;case 22:if(c=l.memoizedState!==null||fs,!c){s=s!==null&&s.memoizedState!==null||Xt,m=fs;var y=Xt;fs=c,(Xt=s)&&!y?zs(i,l,(l.subtreeFlags&8772)!==0):Bs(i,l),fs=m,Xt=y}break;case 30:break;default:Bs(i,l)}}function YE(i){var s=i.alternate;s!==null&&(i.alternate=null,YE(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ze(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ut=null,ir=!1;function ds(i,s,l){for(l=l.child;l!==null;)QE(i,s,l),l=l.sibling}function QE(i,s,l){if(le&&typeof le.onCommitFiberUnmount=="function")try{le.onCommitFiberUnmount(pe,l)}catch{}switch(l.tag){case 26:Xt||Si(l,s),ds(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xt||Si(l,s);var c=Ut,m=ir;Ys(l.type)&&(Ut=l.stateNode,ir=!1),ds(i,s,l),Gu(l.stateNode),Ut=c,ir=m;break;case 5:Xt||Si(l,s);case 6:if(c=Ut,m=ir,Ut=null,ds(i,s,l),Ut=c,ir=m,Ut!==null)if(ir)try{(Ut.nodeType===9?Ut.body:Ut.nodeName==="HTML"?Ut.ownerDocument.body:Ut).removeChild(l.stateNode)}catch(y){Vt(l,s,y)}else try{Ut.removeChild(l.stateNode)}catch(y){Vt(l,s,y)}break;case 18:Ut!==null&&(ir?(i=Ut,LT(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),ec(i)):LT(Ut,l.stateNode));break;case 4:c=Ut,m=ir,Ut=l.stateNode.containerInfo,ir=!0,ds(i,s,l),Ut=c,ir=m;break;case 0:case 11:case 14:case 15:Xt||Fs(2,l,s),Xt||Fs(4,l,s),ds(i,s,l);break;case 1:Xt||(Si(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"&&zE(l,s,c)),ds(i,s,l);break;case 21:ds(i,s,l);break;case 22:Xt=(c=Xt)||l.memoizedState!==null,ds(i,s,l),Xt=c;break;default:ds(i,s,l)}}function XE(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{ec(i)}catch(l){Vt(s,s.return,l)}}function pI(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new GE),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new GE),s;default:throw Error(r(435,i.tag))}}function jp(i,s){var l=pI(i);s.forEach(function(c){var m=SI.bind(null,i,c);l.has(c)||(l.add(c),c.then(m,m))})}function gr(i,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=i,b=s,S=b;e:for(;S!==null;){switch(S.tag){case 27:if(Ys(S.type)){Ut=S.stateNode,ir=!1;break e}break;case 5:Ut=S.stateNode,ir=!1;break e;case 3:case 4:Ut=S.stateNode.containerInfo,ir=!0;break e}S=S.return}if(Ut===null)throw Error(r(160));QE(y,b,m),Ut=null,ir=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)WE(s,i),s=s.sibling}var ei=null;function WE(i,s){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:gr(s,i),yr(i),c&4&&(Fs(3,i,i.return),ku(3,i),Fs(5,i,i.return));break;case 1:gr(s,i),yr(i),c&512&&(Xt||l===null||Si(l,l.return)),c&64&&fs&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ei;if(gr(s,i),yr(i),c&512&&(Xt||l===null||Si(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ke]||y[ve]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Dn(y,c,l),y[ve]=i,Je(y),c=y;break e;case"link":var b=$T("link","href",m).get(c+(l.href||""));if(b){for(var S=0;S<b.length;S++)if(y=b[S],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(S,1);break t}}y=m.createElement(c),Dn(y,c,l),m.head.appendChild(y);break;case"meta":if(b=$T("meta","content",m).get(c+(l.content||""))){for(S=0;S<b.length;S++)if(y=b[S],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(S,1);break t}}y=m.createElement(c),Dn(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[ve]=i,Je(y),c=y}i.stateNode=c}else GT(m,i.type,i.stateNode);else i.stateNode=qT(m,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?GT(m,i.type,i.stateNode):qT(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Vp(i,i.memoizedProps,l.memoizedProps)}break;case 27:gr(s,i),yr(i),c&512&&(Xt||l===null||Si(l,l.return)),l!==null&&c&4&&Vp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(gr(s,i),yr(i),c&512&&(Xt||l===null||Si(l,l.return)),i.flags&32){m=i.stateNode;try{Pr(m,"")}catch(ee){Vt(i,i.return,ee)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,Vp(i,m,l!==null?l.memoizedProps:m)),c&1024&&(Up=!0);break;case 6:if(gr(s,i),yr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ee){Vt(i,i.return,ee)}}break;case 3:if(xf=null,m=ei,ei=wf(s.containerInfo),gr(s,i),ei=m,yr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{ec(s.containerInfo)}catch(ee){Vt(i,i.return,ee)}Up&&(Up=!1,ZE(i));break;case 4:c=ei,ei=wf(i.stateNode.containerInfo),gr(s,i),yr(i),ei=c;break;case 12:gr(s,i),yr(i);break;case 13:gr(s,i),yr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&($p=xn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jp(i,c)));break;case 22:m=i.memoizedState!==null;var L=l!==null&&l.memoizedState!==null,W=fs,oe=Xt;if(fs=W||m,Xt=oe||L,gr(s,i),Xt=oe,fs=W,yr(i),c&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(l===null||L||fs||Xt||ao(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){L=l=s;try{if(y=L.stateNode,m)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{S=L.stateNode;var fe=L.memoizedProps.style,J=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;S.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){Vt(L,L.return,ee)}}}else if(s.tag===6){if(l===null){L=s;try{L.stateNode.nodeValue=m?"":L.memoizedProps}catch(ee){Vt(L,L.return,ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,jp(i,l))));break;case 19:gr(s,i),yr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,jp(i,c)));break;case 30:break;case 21:break;default:gr(s,i),yr(i)}}function yr(i){var s=i.flags;if(s&2){try{for(var l,c=i.return;c!==null;){if(qE(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var m=l.stateNode,y=kp(i);cf(i,y,m);break;case 5:var b=l.stateNode;l.flags&32&&(Pr(b,""),l.flags&=-33);var S=kp(i);cf(i,S,b);break;case 3:case 4:var L=l.stateNode.containerInfo,W=kp(i);Lp(i,W,L);break;default:throw Error(r(161))}}catch(oe){Vt(i,i.return,oe)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function ZE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;ZE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Bs(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)KE(i,s.alternate,s),s=s.sibling}function ao(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Fs(4,s,s.return),ao(s);break;case 1:Si(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&zE(s,s.return,l),ao(s);break;case 27:Gu(s.stateNode);case 26:case 5:Si(s,s.return),ao(s);break;case 22:s.memoizedState===null&&ao(s);break;case 30:ao(s);break;default:ao(s)}i=i.sibling}}function zs(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,m=i,y=s,b=y.flags;switch(y.tag){case 0:case 11:case 15:zs(m,y,l),ku(4,y);break;case 1:if(zs(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){Vt(c,c.return,W)}if(c=y,m=c.updateQueue,m!==null){var S=c.stateNode;try{var L=m.shared.hiddenCallbacks;if(L!==null)for(m.shared.hiddenCallbacks=null,m=0;m<L.length;m++)R_(L[m],S)}catch(W){Vt(c,c.return,W)}}l&&b&64&&BE(y),Lu(y,y.return);break;case 27:$E(y);case 26:case 5:zs(m,y,l),l&&c===null&&b&4&&HE(y),Lu(y,y.return);break;case 12:zs(m,y,l);break;case 13:zs(m,y,l),l&&b&4&&XE(m,y);break;case 22:y.memoizedState===null&&zs(m,y,l),Lu(y,y.return);break;case 30:break;default:zs(m,y,l)}s=s.sibling}}function Fp(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&bu(l))}function Bp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bu(i))}function xi(i,s,l,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)JE(i,s,l,c),s=s.sibling}function JE(i,s,l,c){var m=s.flags;switch(s.tag){case 0:case 11:case 15:xi(i,s,l,c),m&2048&&ku(9,s);break;case 1:xi(i,s,l,c);break;case 3:xi(i,s,l,c),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&bu(i)));break;case 12:if(m&2048){xi(i,s,l,c),i=s.stateNode;try{var y=s.memoizedProps,b=y.id,S=y.onPostCommit;typeof S=="function"&&S(b,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(L){Vt(s,s.return,L)}}else xi(i,s,l,c);break;case 13:xi(i,s,l,c);break;case 23:break;case 22:y=s.stateNode,b=s.alternate,s.memoizedState!==null?y._visibility&2?xi(i,s,l,c):Uu(i,s):y._visibility&2?xi(i,s,l,c):(y._visibility|=2,ll(i,s,l,c,(s.subtreeFlags&10256)!==0)),m&2048&&Fp(b,s);break;case 24:xi(i,s,l,c),m&2048&&Bp(s.alternate,s);break;default:xi(i,s,l,c)}}function ll(i,s,l,c,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,b=s,S=l,L=c,W=b.flags;switch(b.tag){case 0:case 11:case 15:ll(y,b,S,L,m),ku(8,b);break;case 23:break;case 22:var oe=b.stateNode;b.memoizedState!==null?oe._visibility&2?ll(y,b,S,L,m):Uu(y,b):(oe._visibility|=2,ll(y,b,S,L,m)),m&&W&2048&&Fp(b.alternate,b);break;case 24:ll(y,b,S,L,m),m&&W&2048&&Bp(b.alternate,b);break;default:ll(y,b,S,L,m)}s=s.sibling}}function Uu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,c=s,m=c.flags;switch(c.tag){case 22:Uu(l,c),m&2048&&Fp(c.alternate,c);break;case 24:Uu(l,c),m&2048&&Bp(c.alternate,c);break;default:Uu(l,c)}s=s.sibling}}var ju=8192;function ul(i){if(i.subtreeFlags&ju)for(i=i.child;i!==null;)eT(i),i=i.sibling}function eT(i){switch(i.tag){case 26:ul(i),i.flags&ju&&i.memoizedState!==null&&e2(ei,i.memoizedState,i.memoizedProps);break;case 5:ul(i);break;case 3:case 4:var s=ei;ei=wf(i.stateNode.containerInfo),ul(i),ei=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=ju,ju=16777216,ul(i),ju=s):ul(i));break;default:ul(i)}}function tT(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Fu(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Tn=c,rT(c,i)}tT(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)nT(i),i=i.sibling}function nT(i){switch(i.tag){case 0:case 11:case 15:Fu(i),i.flags&2048&&Fs(9,i,i.return);break;case 3:Fu(i);break;case 12:Fu(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,hf(i)):Fu(i);break;default:Fu(i)}}function hf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var c=s[l];Tn=c,rT(c,i)}tT(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Fs(8,s,s.return),hf(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,hf(s));break;default:hf(s)}i=i.sibling}}function rT(i,s){for(;Tn!==null;){var l=Tn;switch(l.tag){case 0:case 11:case 15:Fs(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:bu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Tn=c;else e:for(l=i;Tn!==null;){c=Tn;var m=c.sibling,y=c.return;if(YE(c),c===l){Tn=null;break e}if(m!==null){m.return=y,Tn=m;break e}Tn=y}}}var gI={getCacheForType:function(i){var s=kn(hn),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l}},yI=typeof WeakMap=="function"?WeakMap:Map,Rt=0,kt=null,ot=null,pt=0,Ct=0,vr=null,Hs=!1,cl=!1,zp=!1,ms=0,$t=0,qs=0,oo=0,Hp=0,zr=0,hl=0,Bu=null,sr=null,qp=!1,$p=0,ff=1/0,df=null,$s=null,Cn=0,Gs=null,fl=null,dl=0,Gp=0,Kp=null,iT=null,zu=0,Yp=null;function _r(){if((Rt&2)!==0&&pt!==0)return pt&-pt;if(re.T!==null){var i=el;return i!==0?i:tg()}return Y()}function sT(){zr===0&&(zr=(pt&536870912)===0||Tt?Na():536870912);var i=Br.current;return i!==null&&(i.flags|=32),zr}function Er(i,s,l){(i===kt&&(Ct===2||Ct===9)||i.cancelPendingCommit!==null)&&(ml(i,0),Ks(i,pt,zr,!1)),Dr(i,l),((Rt&2)===0||i!==kt)&&(i===kt&&((Rt&2)===0&&(oo|=l),$t===4&&Ks(i,pt,zr,!1)),Ai(i))}function aT(i,s,l){if((Rt&6)!==0)throw Error(r(327));var c=!l&&(s&124)===0&&(s&i.expiredLanes)===0||Rr(i,s),m=c?EI(i,s):Wp(i,s,!0),y=c;do{if(m===0){cl&&!c&&Ks(i,s,0,!1);break}else{if(l=i.current.alternate,y&&!vI(l)){m=Wp(i,s,!1),y=!1;continue}if(m===2){if(y=s,i.errorRecoveryDisabledLanes&y)var b=0;else b=i.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var S=i;m=Bu;var L=S.current.memoizedState.isDehydrated;if(L&&(ml(S,b).flags|=256),b=Wp(S,b,!1),b!==2){if(zp&&!L){S.errorRecoveryDisabledLanes|=y,oo|=y,m=4;break e}y=sr,sr=m,y!==null&&(sr===null?sr=y:sr.push.apply(sr,y))}m=b}if(y=!1,m!==2)continue}}if(m===1){ml(i,0),Ks(i,s,0,!0);break}e:{switch(c=i,y=m,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ks(c,s,zr,!Hs);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=$p+300-xn(),10<m)){if(Ks(c,s,zr,!Hs),nr(c,0,!0)!==0)break e;c.timeoutHandle=VT(oT.bind(null,c,l,sr,df,qp,s,zr,oo,hl,Hs,y,2,-0,0),m);break e}oT(c,l,sr,df,qp,s,zr,oo,hl,Hs,y,0,-0,0)}}break}while(!0);Ai(i)}function oT(i,s,l,c,m,y,b,S,L,W,oe,fe,J,ee){if(i.timeoutHandle=-1,fe=s.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Qu={stylesheets:null,count:0,unsuspend:JI},eT(s),fe=t2(),fe!==null)){i.cancelPendingCommit=fe(mT.bind(null,i,s,y,l,c,m,b,S,L,oe,1,J,ee)),Ks(i,y,b,!W);return}mT(i,s,y,l,c,m,b,S,L)}function vI(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!mr(y(),m))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ks(i,s,l,c){s&=~Hp,s&=~oo,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var m=s;0<m;){var y=31-je(m),b=1<<y;c[y]=-1,m&=~b}l!==0&&Kn(i,l,s)}function mf(){return(Rt&6)===0?(Hu(0),!1):!0}function Qp(){if(ot!==null){if(Ct===0)var i=ot.return;else i=ot,as=to=null,fp(i),al=null,Pu=0,i=ot;for(;i!==null;)FE(i.alternate,i),i=i.return;ot=null}}function ml(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,kI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Qp(),kt=i,ot=l=rs(i.current,null),pt=s,Ct=0,vr=null,Hs=!1,cl=Rr(i,s),zp=!1,hl=zr=Hp=oo=qs=$t=0,sr=Bu=null,qp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var m=31-je(c),y=1<<m;s|=i[m],c&=~y}return ms=s,Vh(),l}function lT(i,s){tt=null,re.H=ef,s===Su||s===qh?(s=x_(),Ct=3):s===b_?(s=x_(),Ct=4):Ct=s===AE?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,vr=s,ot===null&&($t=1,af(i,Lr(s,i.current)))}function uT(){var i=re.H;return re.H=ef,i===null?ef:i}function cT(){var i=re.A;return re.A=gI,i}function Xp(){$t=4,Hs||(pt&4194048)!==pt&&Br.current!==null||(cl=!0),(qs&134217727)===0&&(oo&134217727)===0||kt===null||Ks(kt,pt,zr,!1)}function Wp(i,s,l){var c=Rt;Rt|=2;var m=uT(),y=cT();(kt!==i||pt!==s)&&(df=null,ml(i,s)),s=!1;var b=$t;e:do try{if(Ct!==0&&ot!==null){var S=ot,L=vr;switch(Ct){case 8:Qp(),b=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(s=!0);var W=Ct;if(Ct=0,vr=null,pl(i,S,L,W),l&&cl){b=0;break e}break;default:W=Ct,Ct=0,vr=null,pl(i,S,L,W)}}_I(),b=$t;break}catch(oe){lT(i,oe)}while(!0);return s&&i.shellSuspendCounter++,as=to=null,Rt=c,re.H=m,re.A=y,ot===null&&(kt=null,pt=0,Vh()),b}function _I(){for(;ot!==null;)hT(ot)}function EI(i,s){var l=Rt;Rt|=2;var c=uT(),m=cT();kt!==i||pt!==s?(df=null,ff=xn()+500,ml(i,s)):cl=Rr(i,s);e:do try{if(Ct!==0&&ot!==null){s=ot;var y=vr;t:switch(Ct){case 1:Ct=0,vr=null,pl(i,s,y,1);break;case 2:case 9:if(w_(y)){Ct=0,vr=null,fT(s);break}s=function(){Ct!==2&&Ct!==9||kt!==i||(Ct=7),Ai(i)},y.then(s,s);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:w_(y)?(Ct=0,vr=null,fT(s)):(Ct=0,vr=null,pl(i,s,y,7));break;case 5:var b=null;switch(ot.tag){case 26:b=ot.memoizedState;case 5:case 27:var S=ot;if(!b||KT(b)){Ct=0,vr=null;var L=S.sibling;if(L!==null)ot=L;else{var W=S.return;W!==null?(ot=W,pf(W)):ot=null}break t}}Ct=0,vr=null,pl(i,s,y,5);break;case 6:Ct=0,vr=null,pl(i,s,y,6);break;case 8:Qp(),$t=6;break e;default:throw Error(r(462))}}TI();break}catch(oe){lT(i,oe)}while(!0);return as=to=null,re.H=c,re.A=m,Rt=l,ot!==null?0:(kt=null,pt=0,Vh(),$t)}function TI(){for(;ot!==null&&!$i();)hT(ot)}function hT(i){var s=UE(i.alternate,i,ms);i.memoizedProps=i.pendingProps,s===null?pf(i):ot=s}function fT(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=OE(l,s,s.pendingProps,s.type,void 0,pt);break;case 11:s=OE(l,s,s.pendingProps,s.type.render,s.ref,pt);break;case 5:fp(s);default:FE(l,s),s=ot=d_(s,ms),s=UE(l,s,ms)}i.memoizedProps=i.pendingProps,s===null?pf(i):ot=s}function pl(i,s,l,c){as=to=null,fp(s),al=null,Pu=0;var m=s.return;try{if(cI(i,m,s,l,pt)){$t=1,af(i,Lr(l,i.current)),ot=null;return}}catch(y){if(m!==null)throw ot=m,y;$t=1,af(i,Lr(l,i.current)),ot=null;return}s.flags&32768?(Tt||c===1?i=!0:cl||(pt&536870912)!==0?i=!1:(Hs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Br.current,c!==null&&c.tag===13&&(c.flags|=16384))),dT(s,i)):pf(s)}function pf(i){var s=i;do{if((s.flags&32768)!==0){dT(s,Hs);return}i=s.return;var l=fI(s.alternate,s,ms);if(l!==null){ot=l;return}if(s=s.sibling,s!==null){ot=s;return}ot=s=i}while(s!==null);$t===0&&($t=5)}function dT(i,s){do{var l=dI(i.alternate,i);if(l!==null){l.flags&=32767,ot=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){ot=i;return}ot=i=l}while(i!==null);$t=6,ot=null}function mT(i,s,l,c,m,y,b,S,L){i.cancelPendingCommit=null;do gf();while(Cn!==0);if((Rt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Bm,hi(i,l,y,b,S,L),i===kt&&(ot=kt=null,pt=0),fl=s,Gs=i,dl=l,Gp=y,Kp=m,iT=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,xI(yn,function(){return _T(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=re.T,re.T=null,m=me.p,me.p=2,b=Rt,Rt|=4;try{mI(i,s,l)}finally{Rt=b,me.p=m,re.T=c}}Cn=1,pT(),gT(),yT()}}function pT(){if(Cn===1){Cn=0;var i=Gs,s=fl,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=re.T,re.T=null;var c=me.p;me.p=2;var m=Rt;Rt|=4;try{WE(s,i);var y=ug,b=r_(i.containerInfo),S=y.focusedElem,L=y.selectionRange;if(b!==S&&S&&S.ownerDocument&&n_(S.ownerDocument.documentElement,S)){if(L!==null&&km(S)){var W=L.start,oe=L.end;if(oe===void 0&&(oe=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(oe,S.value.length);else{var fe=S.ownerDocument||document,J=fe&&fe.defaultView||window;if(J.getSelection){var ee=J.getSelection(),Ye=S.textContent.length,Fe=Math.min(L.start,Ye),Ot=L.end===void 0?Fe:Math.min(L.end,Ye);!ee.extend&&Fe>Ot&&(b=Ot,Ot=Fe,Fe=b);var K=t_(S,Fe),$=t_(S,Ot);if(K&&$&&(ee.rangeCount!==1||ee.anchorNode!==K.node||ee.anchorOffset!==K.offset||ee.focusNode!==$.node||ee.focusOffset!==$.offset)){var X=fe.createRange();X.setStart(K.node,K.offset),ee.removeAllRanges(),Fe>Ot?(ee.addRange(X),ee.extend($.node,$.offset)):(X.setEnd($.node,$.offset),ee.addRange(X))}}}}for(fe=[],ee=S;ee=ee.parentNode;)ee.nodeType===1&&fe.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<fe.length;S++){var ce=fe[S];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Cf=!!lg,ug=lg=null}finally{Rt=m,me.p=c,re.T=l}}i.current=s,Cn=2}}function gT(){if(Cn===2){Cn=0;var i=Gs,s=fl,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=re.T,re.T=null;var c=me.p;me.p=2;var m=Rt;Rt|=4;try{KE(i,s.alternate,s)}finally{Rt=m,me.p=c,re.T=l}}Cn=3}}function yT(){if(Cn===4||Cn===3){Cn=0,ci();var i=Gs,s=fl,l=dl,c=iT;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Cn=5:(Cn=0,fl=Gs=null,vT(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&($s=null),q(l),s=s.stateNode,le&&typeof le.onCommitFiberRoot=="function")try{le.onCommitFiberRoot(pe,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=re.T,m=me.p,me.p=2,re.T=null;try{for(var y=i.onRecoverableError,b=0;b<c.length;b++){var S=c[b];y(S.value,{componentStack:S.stack})}}finally{re.T=s,me.p=m}}(dl&3)!==0&&gf(),Ai(i),m=i.pendingLanes,(l&4194090)!==0&&(m&42)!==0?i===Yp?zu++:(zu=0,Yp=i):zu=0,Hu(0)}}function vT(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,bu(s)))}function gf(i){return pT(),gT(),yT(),_T()}function _T(){if(Cn!==5)return!1;var i=Gs,s=Gp;Gp=0;var l=q(dl),c=re.T,m=me.p;try{me.p=32>l?32:l,re.T=null,l=Kp,Kp=null;var y=Gs,b=dl;if(Cn=0,fl=Gs=null,dl=0,(Rt&6)!==0)throw Error(r(331));var S=Rt;if(Rt|=4,nT(y.current),JE(y,y.current,b,l),Rt=S,Hu(0,!1),le&&typeof le.onPostCommitFiberRoot=="function")try{le.onPostCommitFiberRoot(pe,y)}catch{}return!0}finally{me.p=m,re.T=c,vT(i,s)}}function ET(i,s,l){s=Lr(l,s),s=Ap(i.stateNode,s,2),i=ks(i,s,2),i!==null&&(Dr(i,2),Ai(i))}function Vt(i,s,l){if(i.tag===3)ET(i,i,l);else for(;s!==null;){if(s.tag===3){ET(s,i,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&($s===null||!$s.has(c))){i=Lr(l,i),l=SE(2),c=ks(s,l,2),c!==null&&(xE(l,c,s,i),Dr(c,2),Ai(c));break}}s=s.return}}function Zp(i,s,l){var c=i.pingCache;if(c===null){c=i.pingCache=new yI;var m=new Set;c.set(s,m)}else m=c.get(s),m===void 0&&(m=new Set,c.set(s,m));m.has(l)||(zp=!0,m.add(l),i=bI.bind(null,i,s,l),s.then(i,i))}function bI(i,s,l){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,kt===i&&(pt&l)===l&&($t===4||$t===3&&(pt&62914560)===pt&&300>xn()-$p?(Rt&2)===0&&ml(i,0):Hp|=l,hl===pt&&(hl=0)),Ai(i)}function TT(i,s){s===0&&(s=Ds()),i=Xo(i,s),i!==null&&(Dr(i,s),Ai(i))}function wI(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),TT(i,l)}function SI(i,s){var l=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),TT(i,l)}function xI(i,s){return Sn(i,s)}var yf=null,gl=null,Jp=!1,vf=!1,eg=!1,lo=0;function Ai(i){i!==gl&&i.next===null&&(gl===null?yf=gl=i:gl=gl.next=i),vf=!0,Jp||(Jp=!0,RI())}function Hu(i,s){if(!eg&&vf){eg=!0;do for(var l=!1,c=yf;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var b=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-je(42|i)+1)-1,y&=m&~(b&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,xT(c,y))}else y=pt,y=nr(c,c===kt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Rr(c,y)||(l=!0,xT(c,y));c=c.next}while(l);eg=!1}}function AI(){bT()}function bT(){vf=Jp=!1;var i=0;lo!==0&&(VI()&&(i=lo),lo=0);for(var s=xn(),l=null,c=yf;c!==null;){var m=c.next,y=wT(c,s);y===0?(c.next=null,l===null?yf=m:l.next=m,m===null&&(gl=l)):(l=c,(i!==0||(y&3)!==0)&&(vf=!0)),c=m}Hu(i)}function wT(i,s){for(var l=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var b=31-je(y),S=1<<b,L=m[b];L===-1?((S&l)===0||(S&c)!==0)&&(m[b]=Cr(S,s)):L<=s&&(i.expiredLanes|=S),y&=~S}if(s=kt,l=pt,l=nr(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===s&&(Ct===2||Ct===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&xr(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Rr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(c!==null&&xr(c),q(l)){case 2:case 8:l=Ki;break;case 32:l=yn;break;case 268435456:l=Z;break;default:l=yn}return c=ST.bind(null,i),l=Sn(l,c),i.callbackPriority=s,i.callbackNode=l,s}return c!==null&&c!==null&&xr(c),i.callbackPriority=2,i.callbackNode=null,2}function ST(i,s){if(Cn!==0&&Cn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(gf()&&i.callbackNode!==l)return null;var c=pt;return c=nr(i,i===kt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(aT(i,c,s),wT(i,xn()),i.callbackNode!=null&&i.callbackNode===l?ST.bind(null,i):null)}function xT(i,s){if(gf())return null;aT(i,s,!0)}function RI(){LI(function(){(Rt&6)!==0?Sn(Gi,AI):bT()})}function tg(){return lo===0&&(lo=Na()),lo}function AT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Uo(""+i)}function RT(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function CI(i,s,l,c,m){if(s==="submit"&&l&&l.stateNode===m){var y=AT((m[xe]||null).action),b=c.submitter;b&&(s=(s=b[xe]||null)?AT(s.formAction):b.getAttribute("formAction"),s!==null&&(y=s,b=null));var S=new jo("action","action",null,c,m);i.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(lo!==0){var L=b?RT(m,b):new FormData(m);Tp(l,{pending:!0,data:L,method:m.method,action:y},null,L)}}else typeof y=="function"&&(S.preventDefault(),L=b?RT(m,b):new FormData(m),Tp(l,{pending:!0,data:L,method:m.method,action:y},y,L))},currentTarget:m}]})}}for(var ng=0;ng<Fm.length;ng++){var rg=Fm[ng],DI=rg.toLowerCase(),II=rg[0].toUpperCase()+rg.slice(1);Jr(DI,"on"+II)}Jr(a_,"onAnimationEnd"),Jr(o_,"onAnimationIteration"),Jr(l_,"onAnimationStart"),Jr("dblclick","onDoubleClick"),Jr("focusin","onFocus"),Jr("focusout","onBlur"),Jr(KD,"onTransitionRun"),Jr(YD,"onTransitionStart"),Jr(QD,"onTransitionCancel"),Jr(u_,"onTransitionEnd"),nn("onMouseEnter",["mouseout","mouseover"]),nn("onMouseLeave",["mouseout","mouseover"]),nn("onPointerEnter",["pointerout","pointerover"]),nn("onPointerLeave",["pointerout","pointerover"]),Yt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function CT(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],m=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var b=c.length-1;0<=b;b--){var S=c[b],L=S.instance,W=S.currentTarget;if(S=S.listener,L!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=W;try{y(m)}catch(oe){sf(oe)}m.currentTarget=null,y=L}else for(b=0;b<c.length;b++){if(S=c[b],L=S.instance,W=S.currentTarget,S=S.listener,L!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=W;try{y(m)}catch(oe){sf(oe)}m.currentTarget=null,y=L}}}}function lt(i,s){var l=s[Ie];l===void 0&&(l=s[Ie]=new Set);var c=i+"__bubble";l.has(c)||(DT(s,i,2,!1),l.add(c))}function ig(i,s,l){var c=0;s&&(c|=4),DT(l,i,c,s)}var _f="_reactListening"+Math.random().toString(36).slice(2);function sg(i){if(!i[_f]){i[_f]=!0,Ir.forEach(function(l){l!=="selectionchange"&&(MI.has(l)||ig(l,!1,i),ig(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[_f]||(s[_f]=!0,ig("selectionchange",!1,s))}}function DT(i,s,l,c){switch(JT(s)){case 2:var m=i2;break;case 8:m=s2;break;default:m=_g}l=m.bind(null,s,l,i),m=void 0,!Vr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(s,l,{capture:!0,passive:m}):i.addEventListener(s,l,!0):m!==void 0?i.addEventListener(s,l,{passive:m}):i.addEventListener(s,l,!1)}function ag(i,s,l,c,m){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var S=c.stateNode.containerInfo;if(S===m)break;if(b===4)for(b=c.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;S!==null;){if(b=vt(S),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){c=y=b;continue e}S=S.parentNode}}c=c.return}Eh(function(){var W=y,oe=Nr(l),fe=[];e:{var J=c_.get(i);if(J!==void 0){var ee=jo,Ye=i;switch(i){case"keypress":if(yi(l)===0)break e;case"keydown":case"keyup":ee=$o;break;case"focusin":Ye="focus",ee=zo;break;case"focusout":Ye="blur",ee=zo;break;case"beforeblur":case"afterblur":ee=zo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=kr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Ch;break;case a_:case o_:case l_:ee=Ho;break;case u_:ee=Ih;break;case"scroll":case"scrollend":ee=Th;break;case"wheel":ee=Go;break;case"copy":case"cut":case"paste":ee=qo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=mu;break;case"toggle":case"beforetoggle":ee=Oh}var Fe=(s&4)!==0,Ot=!Fe&&(i==="scroll"||i==="scrollend"),K=Fe?J!==null?J+"Capture":null:J;Fe=[];for(var $=W,X;$!==null;){var ce=$;if(X=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||X===null||K===null||(ce=Ba($,K),ce!=null&&Fe.push($u($,ce,X))),Ot)break;$=$.return}0<Fe.length&&(J=new ee(J,Ye,null,l,oe),fe.push({event:J,listeners:Fe}))}}if((s&7)===0){e:{if(J=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",J&&l!==Wi&&(Ye=l.relatedTarget||l.fromElement)&&(vt(Ye)||Ye[De]))break e;if((ee||J)&&(J=oe.window===oe?oe:(J=oe.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(Ye=l.relatedTarget||l.toElement,ee=W,Ye=Ye?vt(Ye):null,Ye!==null&&(Ot=o(Ye),Fe=Ye.tag,Ye!==Ot||Fe!==5&&Fe!==27&&Fe!==6)&&(Ye=null)):(ee=null,Ye=W),ee!==Ye)){if(Fe=kr,ce="onMouseLeave",K="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=mu,ce="onPointerLeave",K="onPointerEnter",$="pointer"),Ot=ee==null?J:Et(ee),X=Ye==null?J:Et(Ye),J=new Fe(ce,$+"leave",ee,l,oe),J.target=Ot,J.relatedTarget=X,ce=null,vt(oe)===W&&(Fe=new Fe(K,$+"enter",Ye,l,oe),Fe.target=X,Fe.relatedTarget=Ot,ce=Fe),Ot=ce,ee&&Ye)t:{for(Fe=ee,K=Ye,$=0,X=Fe;X;X=yl(X))$++;for(X=0,ce=K;ce;ce=yl(ce))X++;for(;0<$-X;)Fe=yl(Fe),$--;for(;0<X-$;)K=yl(K),X--;for(;$--;){if(Fe===K||K!==null&&Fe===K.alternate)break t;Fe=yl(Fe),K=yl(K)}Fe=null}else Fe=null;ee!==null&&IT(fe,J,ee,Fe,!1),Ye!==null&&Ot!==null&&IT(fe,Ot,Ye,Fe,!0)}}e:{if(J=W?Et(W):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var Re=Q0;else if(cn(J))if(X0)Re=qD;else{Re=zD;var it=BD}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?W&&ou(W.elementType)&&(Re=Q0):Re=HD;if(Re&&(Re=Re(i,W))){ns(fe,Re,l,oe);break e}it&&it(i,J,W),i==="focusout"&&W&&J.type==="number"&&W.memoizedProps.value!=null&&Ms(J,"number",J.value)}switch(it=W?Et(W):window,i){case"focusin":(cn(it)||it.contentEditable==="true")&&(Ko=it,Lm=W,yu=null);break;case"focusout":yu=Lm=Ko=null;break;case"mousedown":Um=!0;break;case"contextmenu":case"mouseup":case"dragend":Um=!1,i_(fe,l,oe);break;case"selectionchange":if(GD)break;case"keydown":case"keyup":i_(fe,l,oe)}var Ve;if(Ei)e:{switch(i){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else dt?ie(i,l)&&(qe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(qe="onCompositionStart");qe&&(T&&l.locale!=="ko"&&(dt||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&dt&&(Ve=uu()):(gi=oe,Os="value"in gi?gi.value:gi.textContent,dt=!0)),it=Ef(W,qe),0<it.length&&(qe=new fu(qe,i,null,l,oe),fe.push({event:qe,listeners:it}),Ve?qe.data=Ve:(Ve=Ee(l),Ve!==null&&(qe.data=Ve)))),(Ve=_?un(i,l):mt(i,l))&&(qe=Ef(W,"onBeforeInput"),0<qe.length&&(it=new fu("onBeforeInput","beforeinput",null,l,oe),fe.push({event:it,listeners:qe}),it.data=Ve)),CI(fe,i,W,l,oe)}CT(fe,s)})}function $u(i,s,l){return{instance:i,listener:s,currentTarget:l}}function Ef(i,s){for(var l=s+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ba(i,l),m!=null&&c.unshift($u(i,m,y)),m=Ba(i,s),m!=null&&c.push($u(i,m,y))),i.tag===3)return c;i=i.return}return[]}function yl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function IT(i,s,l,c,m){for(var y=s._reactName,b=[];l!==null&&l!==c;){var S=l,L=S.alternate,W=S.stateNode;if(S=S.tag,L!==null&&L===c)break;S!==5&&S!==26&&S!==27||W===null||(L=W,m?(W=Ba(l,y),W!=null&&b.unshift($u(l,W,L))):m||(W=Ba(l,y),W!=null&&b.push($u(l,W,L)))),l=l.return}b.length!==0&&i.push({event:s,listeners:b})}var OI=/\r\n?/g,PI=/\u0000|\uFFFD/g;function MT(i){return(typeof i=="string"?i:""+i).replace(OI,`
`).replace(PI,"")}function OT(i,s){return s=MT(s),MT(i)===s}function Tf(){}function Mt(i,s,l,c,m,y){switch(l){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Pr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Pr(i,""+c);break;case"className":at(i,"class",c);break;case"tabIndex":at(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":at(i,l,c);break;case"style":au(i,c,y);break;case"data":if(s!=="object"){at(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Uo(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(s!=="input"&&Mt(i,s,"name",m.name,m,null),Mt(i,s,"formEncType",m.formEncType,m,null),Mt(i,s,"formMethod",m.formMethod,m,null),Mt(i,s,"formTarget",m.formTarget,m,null)):(Mt(i,s,"encType",m.encType,m,null),Mt(i,s,"method",m.method,m,null),Mt(i,s,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Uo(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=Tf);break;case"onScroll":c!=null&&lt("scroll",i);break;case"onScrollEnd":c!=null&&lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Uo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":lt("beforetoggle",i),lt("toggle",i),hr(i,"popover",c);break;case"xlinkActuate":ft(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ft(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ft(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ft(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ft(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ft(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ft(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ft(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ft(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":hr(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Im.get(l)||l,hr(i,l,c))}}function og(i,s,l,c,m,y){switch(l){case"style":au(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Pr(i,c):(typeof c=="number"||typeof c=="bigint")&&Pr(i,""+c);break;case"onScroll":c!=null&&lt("scroll",i);break;case"onScrollEnd":c!=null&&lt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Tf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),s=l.slice(2,m?l.length-7:void 0),y=i[xe]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(s,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,c,m);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):hr(i,l,c)}}}function Dn(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",i),lt("load",i);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var b=l[y];if(b!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Mt(i,s,y,b,l,null)}}m&&Mt(i,s,"srcSet",l.srcSet,l,null),c&&Mt(i,s,"src",l.src,l,null);return;case"input":lt("invalid",i);var S=y=b=m=null,L=null,W=null;for(c in l)if(l.hasOwnProperty(c)){var oe=l[c];if(oe!=null)switch(c){case"name":m=oe;break;case"type":b=oe;break;case"checked":L=oe;break;case"defaultChecked":W=oe;break;case"value":y=oe;break;case"defaultValue":S=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,s));break;default:Mt(i,s,c,oe,l,null)}}Ua(i,y,S,L,W,b,m,!1),Lo(i);return;case"select":lt("invalid",i),c=b=y=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":b=S;break;case"multiple":c=S;default:Mt(i,s,m,S,l,null)}s=y,l=b,i.multiple=!!c,s!=null?Xi(i,!!c,s,!1):l!=null&&Xi(i,!!c,l,!0);return;case"textarea":lt("invalid",i),y=m=c=null;for(b in l)if(l.hasOwnProperty(b)&&(S=l[b],S!=null))switch(b){case"value":c=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Mt(i,s,b,S,l,null)}ja(i,c,m,y),Lo(i);return;case"option":for(L in l)if(l.hasOwnProperty(L)&&(c=l[L],c!=null))switch(L){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Mt(i,s,L,c,l,null)}return;case"dialog":lt("beforetoggle",i),lt("toggle",i),lt("cancel",i),lt("close",i);break;case"iframe":case"object":lt("load",i);break;case"video":case"audio":for(c=0;c<qu.length;c++)lt(qu[c],i);break;case"image":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"embed":case"source":case"link":lt("error",i),lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in l)if(l.hasOwnProperty(W)&&(c=l[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Mt(i,s,W,c,l,null)}return;default:if(ou(s)){for(oe in l)l.hasOwnProperty(oe)&&(c=l[oe],c!==void 0&&og(i,s,oe,c,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(c=l[S],c!=null&&Mt(i,s,S,c,l,null))}function NI(i,s,l,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,b=null,S=null,L=null,W=null,oe=null;for(ee in l){var fe=l[ee];if(l.hasOwnProperty(ee)&&fe!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":L=fe;default:c.hasOwnProperty(ee)||Mt(i,s,ee,null,c,fe)}}for(var J in c){var ee=c[J];if(fe=l[J],c.hasOwnProperty(J)&&(ee!=null||fe!=null))switch(J){case"type":y=ee;break;case"name":m=ee;break;case"checked":W=ee;break;case"defaultChecked":oe=ee;break;case"value":b=ee;break;case"defaultValue":S=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==fe&&Mt(i,s,J,ee,c,fe)}}dr(i,b,S,L,W,oe,y,m);return;case"select":ee=b=S=J=null;for(y in l)if(L=l[y],l.hasOwnProperty(y)&&L!=null)switch(y){case"value":break;case"multiple":ee=L;default:c.hasOwnProperty(y)||Mt(i,s,y,null,c,L)}for(m in c)if(y=c[m],L=l[m],c.hasOwnProperty(m)&&(y!=null||L!=null))switch(m){case"value":J=y;break;case"defaultValue":S=y;break;case"multiple":b=y;default:y!==L&&Mt(i,s,m,y,c,L)}s=S,l=b,c=ee,J!=null?Xi(i,!!l,J,!1):!!c!=!!l&&(s!=null?Xi(i,!!l,s,!0):Xi(i,!!l,l?[]:"",!1));return;case"textarea":ee=J=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Mt(i,s,S,null,c,m)}for(b in c)if(m=c[b],y=l[b],c.hasOwnProperty(b)&&(m!=null||y!=null))switch(b){case"value":J=m;break;case"defaultValue":ee=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&Mt(i,s,b,m,c,y)}Dt(i,J,ee);return;case"option":for(var Ye in l)if(J=l[Ye],l.hasOwnProperty(Ye)&&J!=null&&!c.hasOwnProperty(Ye))switch(Ye){case"selected":i.selected=!1;break;default:Mt(i,s,Ye,null,c,J)}for(L in c)if(J=c[L],ee=l[L],c.hasOwnProperty(L)&&J!==ee&&(J!=null||ee!=null))switch(L){case"selected":i.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:Mt(i,s,L,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in l)J=l[Fe],l.hasOwnProperty(Fe)&&J!=null&&!c.hasOwnProperty(Fe)&&Mt(i,s,Fe,null,c,J);for(W in c)if(J=c[W],ee=l[W],c.hasOwnProperty(W)&&J!==ee&&(J!=null||ee!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:Mt(i,s,W,J,c,ee)}return;default:if(ou(s)){for(var Ot in l)J=l[Ot],l.hasOwnProperty(Ot)&&J!==void 0&&!c.hasOwnProperty(Ot)&&og(i,s,Ot,void 0,c,J);for(oe in c)J=c[oe],ee=l[oe],!c.hasOwnProperty(oe)||J===ee||J===void 0&&ee===void 0||og(i,s,oe,J,c,ee);return}}for(var K in l)J=l[K],l.hasOwnProperty(K)&&J!=null&&!c.hasOwnProperty(K)&&Mt(i,s,K,null,c,J);for(fe in c)J=c[fe],ee=l[fe],!c.hasOwnProperty(fe)||J===ee||J==null&&ee==null||Mt(i,s,fe,J,c,ee)}var lg=null,ug=null;function bf(i){return i.nodeType===9?i:i.ownerDocument}function PT(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function NT(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function cg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var hg=null;function VI(){var i=window.event;return i&&i.type==="popstate"?i===hg?!1:(hg=i,!0):(hg=null,!1)}var VT=typeof setTimeout=="function"?setTimeout:void 0,kI=typeof clearTimeout=="function"?clearTimeout:void 0,kT=typeof Promise=="function"?Promise:void 0,LI=typeof queueMicrotask=="function"?queueMicrotask:typeof kT<"u"?function(i){return kT.resolve(null).then(i).catch(UI)}:VT;function UI(i){setTimeout(function(){throw i})}function Ys(i){return i==="head"}function LT(i,s){var l=s,c=0,m=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var b=i.ownerDocument;if(l&1&&Gu(b.documentElement),l&2&&Gu(b.body),l&4)for(l=b.head,Gu(l),b=l.firstChild;b;){var S=b.nextSibling,L=b.nodeName;b[ke]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=S}}if(m===0){i.removeChild(y),ec(s);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);ec(s)}function fg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":fg(l),Ze(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function jI(i,s,l,c){for(;i.nodeType===1;){var m=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[ke])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=ti(i.nextSibling),i===null)break}return null}function FI(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ti(i.nextSibling),i===null))return null;return i}function dg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function BI(i,s){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")s();else{var c=function(){s(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function ti(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var mg=null;function UT(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return i;s--}else l==="/$"&&s++}i=i.previousSibling}return null}function jT(i,s,l){switch(s=bf(l),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Gu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ze(i)}var Hr=new Map,FT=new Set;function wf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ps=me.d;me.d={f:zI,r:HI,D:qI,C:$I,L:GI,m:KI,X:QI,S:YI,M:XI};function zI(){var i=ps.f(),s=mf();return i||s}function HI(i){var s=Nt(i);s!==null&&s.tag===5&&s.type==="form"?aE(s):ps.r(i)}var vl=typeof document>"u"?null:document;function BT(i,s,l){var c=vl;if(c&&typeof s=="string"&&s){var m=rn(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),FT.has(m)||(FT.add(m),i={rel:i,crossOrigin:l,href:s},c.querySelector(m)===null&&(s=c.createElement("link"),Dn(s,"link",i),Je(s),c.head.appendChild(s)))}}function qI(i){ps.D(i),BT("dns-prefetch",i,null)}function $I(i,s){ps.C(i,s),BT("preconnect",i,s)}function GI(i,s,l){ps.L(i,s,l);var c=vl;if(c&&i&&s){var m='link[rel="preload"][as="'+rn(s)+'"]';s==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+rn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+rn(l.imageSizes)+'"]')):m+='[href="'+rn(i)+'"]';var y=m;switch(s){case"style":y=_l(i);break;case"script":y=El(i)}Hr.has(y)||(i=g({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Hr.set(y,i),c.querySelector(m)!==null||s==="style"&&c.querySelector(Ku(y))||s==="script"&&c.querySelector(Yu(y))||(s=c.createElement("link"),Dn(s,"link",i),Je(s),c.head.appendChild(s)))}}function KI(i,s){ps.m(i,s);var l=vl;if(l&&i){var c=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+rn(c)+'"][href="'+rn(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=El(i)}if(!Hr.has(y)&&(i=g({rel:"modulepreload",href:i},s),Hr.set(y,i),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Yu(y)))return}c=l.createElement("link"),Dn(c,"link",i),Je(c),l.head.appendChild(c)}}}function YI(i,s,l){ps.S(i,s,l);var c=vl;if(c&&i){var m=rt(c).hoistableStyles,y=_l(i);s=s||"default";var b=m.get(y);if(!b){var S={loading:0,preload:null};if(b=c.querySelector(Ku(y)))S.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Hr.get(y))&&pg(i,l);var L=b=c.createElement("link");Je(L),Dn(L,"link",i),L._p=new Promise(function(W,oe){L.onload=W,L.onerror=oe}),L.addEventListener("load",function(){S.loading|=1}),L.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Sf(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:S},m.set(y,b)}}}function QI(i,s){ps.X(i,s);var l=vl;if(l&&i){var c=rt(l).hoistableScripts,m=El(i),y=c.get(m);y||(y=l.querySelector(Yu(m)),y||(i=g({src:i,async:!0},s),(s=Hr.get(m))&&gg(i,s),y=l.createElement("script"),Je(y),Dn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function XI(i,s){ps.M(i,s);var l=vl;if(l&&i){var c=rt(l).hoistableScripts,m=El(i),y=c.get(m);y||(y=l.querySelector(Yu(m)),y||(i=g({src:i,async:!0,type:"module"},s),(s=Hr.get(m))&&gg(i,s),y=l.createElement("script"),Je(y),Dn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function zT(i,s,l,c){var m=(m=He.current)?wf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=_l(l.href),l=rt(m).hoistableStyles,c=l.get(s),c||(c={type:"style",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=_l(l.href);var y=rt(m).hoistableStyles,b=y.get(i);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,b),(y=m.querySelector(Ku(i)))&&!y._p&&(b.instance=y,b.state.loading=5),Hr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Hr.set(i,l),y||WI(m,i,l,b.state))),s&&c===null)throw Error(r(528,""));return b}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=El(l),l=rt(m).hoistableScripts,c=l.get(s),c||(c={type:"script",instance:null,count:0,state:null},l.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function _l(i){return'href="'+rn(i)+'"'}function Ku(i){return'link[rel="stylesheet"]['+i+"]"}function HT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function WI(i,s,l,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),Dn(s,"link",l),Je(s),i.head.appendChild(s))}function El(i){return'[src="'+rn(i)+'"]'}function Yu(i){return"script[async]"+i}function qT(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+rn(l.href)+'"]');if(c)return s.instance=c,Je(c),c;var m=g({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Je(c),Dn(c,"style",m),Sf(c,l.precedence,i),s.instance=c;case"stylesheet":m=_l(l.href);var y=i.querySelector(Ku(m));if(y)return s.state.loading|=4,s.instance=y,Je(y),y;c=HT(l),(m=Hr.get(m))&&pg(c,m),y=(i.ownerDocument||i).createElement("link"),Je(y);var b=y;return b._p=new Promise(function(S,L){b.onload=S,b.onerror=L}),Dn(y,"link",c),s.state.loading|=4,Sf(y,l.precedence,i),s.instance=y;case"script":return y=El(l.src),(m=i.querySelector(Yu(y)))?(s.instance=m,Je(m),m):(c=l,(m=Hr.get(y))&&(c=g({},l),gg(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Je(m),Dn(m,"link",c),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Sf(c,l.precedence,i));return s.instance}function Sf(i,s,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,b=0;b<c.length;b++){var S=c[b];if(S.dataset.precedence===s)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function pg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function gg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var xf=null;function $T(i,s,l){if(xf===null){var c=new Map,m=xf=new Map;m.set(l,c)}else m=xf,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),m=0;m<l.length;m++){var y=l[m];if(!(y[ke]||y[ve]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(s)||"";b=i+b;var S=c.get(b);S?S.push(y):c.set(b,[y])}}return c}function GT(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function ZI(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function KT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Qu=null;function JI(){}function e2(i,s,l){if(Qu===null)throw Error(r(475));var c=Qu;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=_l(l.href),y=i.querySelector(Ku(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Af.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=y,Je(y);return}y=i.ownerDocument||i,l=HT(l),(m=Hr.get(m))&&pg(l,m),y=y.createElement("link"),Je(y);var b=y;b._p=new Promise(function(S,L){b.onload=S,b.onerror=L}),Dn(y,"link",l),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=Af.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function t2(){if(Qu===null)throw Error(r(475));var i=Qu;return i.stylesheets&&i.count===0&&yg(i,i.stylesheets),0<i.count?function(s){var l=setTimeout(function(){if(i.stylesheets&&yg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Af(){if(this.count--,this.count===0){if(this.stylesheets)yg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rf=null;function yg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rf=new Map,s.forEach(n2,i),Rf=null,Af.call(i))}function n2(i,s){if(!(s.state.loading&4)){var l=Rf.get(i);if(l)var c=l.get(null);else{l=new Map,Rf.set(i,l);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var b=m[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),c=b)}c&&l.set(null,c)}m=s.instance,b=m.getAttribute("data-precedence"),y=l.get(b)||c,y===c&&l.set(null,m),l.set(b,m),this.count++,c=Af.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var Xu={$$typeof:G,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function r2(i,s,l,c,m,y,b,S){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function YT(i,s,l,c,m,y,b,S,L,W,oe,fe){return i=new r2(i,s,l,b,S,L,W,fe),s=1,y===!0&&(s|=24),y=pr(3,null,null,s),i.current=y,y.stateNode=i,s=Zm(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:s},np(y),i}function QT(i){return i?(i=Wo,i):Wo}function XT(i,s,l,c,m,y){m=QT(m),c.context===null?c.context=m:c.pendingContext=m,c=Vs(s),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=ks(i,c,s),l!==null&&(Er(l,i,s),Au(l,i,s))}function WT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function vg(i,s){WT(i,s),(i=i.alternate)&&WT(i,s)}function ZT(i){if(i.tag===13){var s=Xo(i,67108864);s!==null&&Er(s,i,67108864),vg(i,67108864)}}var Cf=!0;function i2(i,s,l,c){var m=re.T;re.T=null;var y=me.p;try{me.p=2,_g(i,s,l,c)}finally{me.p=y,re.T=m}}function s2(i,s,l,c){var m=re.T;re.T=null;var y=me.p;try{me.p=8,_g(i,s,l,c)}finally{me.p=y,re.T=m}}function _g(i,s,l,c){if(Cf){var m=Eg(c);if(m===null)ag(i,s,c,Df,l),eb(i,c);else if(o2(m,i,s,l,c))c.stopPropagation();else if(eb(i,c),s&4&&-1<a2.indexOf(i)){for(;m!==null;){var y=Nt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=Vn(y.pendingLanes);if(b!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;b;){var L=1<<31-je(b);S.entanglements[1]|=L,b&=~L}Ai(y),(Rt&6)===0&&(ff=xn()+500,Hu(0))}}break;case 13:S=Xo(y,2),S!==null&&Er(S,y,2),mf(),vg(y,2)}if(y=Eg(c),y===null&&ag(i,s,c,Df,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else ag(i,s,c,null,l)}}function Eg(i){return i=Nr(i),Tg(i)}var Df=null;function Tg(i){if(Df=null,i=vt(i),i!==null){var s=o(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=u(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Df=i,null}function JT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pa()){case Gi:return 2;case Ki:return 8;case yn:case z:return 32;case Z:return 268435456;default:return 32}default:return 32}}var bg=!1,Qs=null,Xs=null,Ws=null,Wu=new Map,Zu=new Map,Zs=[],a2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eb(i,s){switch(i){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Xs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Wu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(s.pointerId)}}function Ju(i,s,l,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Nt(s),s!==null&&ZT(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function o2(i,s,l,c,m){switch(s){case"focusin":return Qs=Ju(Qs,i,s,l,c,m),!0;case"dragenter":return Xs=Ju(Xs,i,s,l,c,m),!0;case"mouseover":return Ws=Ju(Ws,i,s,l,c,m),!0;case"pointerover":var y=m.pointerId;return Wu.set(y,Ju(Wu.get(y)||null,i,s,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Zu.set(y,Ju(Zu.get(y)||null,i,s,l,c,m)),!0}return!1}function tb(i){var s=vt(i.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=u(l),s!==null){i.blockedOn=s,te(i.priority,function(){if(l.tag===13){var c=_r();c=fi(c);var m=Xo(l,c);m!==null&&Er(m,l,c),vg(l,c)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function If(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Eg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Wi=c,l.target.dispatchEvent(c),Wi=null}else return s=Nt(l),s!==null&&ZT(s),i.blockedOn=l,!1;s.shift()}return!0}function nb(i,s,l){If(i)&&l.delete(s)}function l2(){bg=!1,Qs!==null&&If(Qs)&&(Qs=null),Xs!==null&&If(Xs)&&(Xs=null),Ws!==null&&If(Ws)&&(Ws=null),Wu.forEach(nb),Zu.forEach(nb)}function Mf(i,s){i.blockedOn===s&&(i.blockedOn=null,bg||(bg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,l2)))}var Of=null;function rb(i){Of!==i&&(Of=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Of===i&&(Of=null);for(var s=0;s<i.length;s+=3){var l=i[s],c=i[s+1],m=i[s+2];if(typeof c!="function"){if(Tg(c||l)===null)continue;break}var y=Nt(l);y!==null&&(i.splice(s,3),s-=3,Tp(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function ec(i){function s(L){return Mf(L,i)}Qs!==null&&Mf(Qs,i),Xs!==null&&Mf(Xs,i),Ws!==null&&Mf(Ws,i),Wu.forEach(s),Zu.forEach(s);for(var l=0;l<Zs.length;l++){var c=Zs[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Zs.length&&(l=Zs[0],l.blockedOn===null);)tb(l),l.blockedOn===null&&Zs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],b=m[xe]||null;if(typeof y=="function")b||rb(l);else if(b){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,b=y[xe]||null)S=b.formAction;else if(Tg(m)!==null)continue}else S=b.action;typeof S=="function"?l[c+1]=S:(l.splice(c,3),c-=3),rb(l)}}}function wg(i){this._internalRoot=i}Pf.prototype.render=wg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,c=_r();XT(l,c,i,s,null,null)},Pf.prototype.unmount=wg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;XT(i.current,2,null,i,null,null),mf(),s[De]=null}};function Pf(i){this._internalRoot=i}Pf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Y();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Zs.length&&s!==0&&s<Zs[l].priority;l++);Zs.splice(l,0,i),l===0&&tb(i)}};var ib=e.version;if(ib!=="19.1.0")throw Error(r(527,ib,"19.1.0"));me.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var u2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{pe=Nf.inject(u2),le=Nf}catch{}}return nc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var l=!1,c="",m=EE,y=TE,b=bE,S=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=YT(i,1,!1,null,null,l,c,m,y,b,S,null),i[De]=s.current,sg(i),new wg(s)},nc.hydrateRoot=function(i,s,l){if(!a(i))throw Error(r(299));var c=!1,m="",y=EE,b=TE,S=bE,L=null,W=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(L=l.unstable_transitionCallbacks),l.formState!==void 0&&(W=l.formState)),s=YT(i,1,!0,s,l??null,c,m,y,b,S,L,W),s.context=QT(null),l=s.current,c=_r(),c=fi(c),m=Vs(c),m.callback=null,ks(l,m,c),l=c,s.current.lanes=l,Dr(s,l),Ai(s),i[De]=s.current,sg(i),new Pf(s)},nc.version="19.1.0",nc}var mb;function _2(){if(mb)return xg.exports;mb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xg.exports=v2(),xg.exports}var E2=_2(),H=ov();const Gr=eA(H);var rc={},pb;function T2(){if(pb)return rc;pb=1,Object.defineProperty(rc,"__esModule",{value:!0}),rc.parse=u,rc.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,w){const A=new o,V=E.length;if(V<2)return A;const O=(w==null?void 0:w.decode)||g;let I=0;do{const j=E.indexOf("=",I);if(j===-1)break;const G=E.indexOf(";",I),ae=G===-1?V:G;if(j>ae){I=E.lastIndexOf(";",j-1)+1;continue}const D=h(E,I,j),ne=d(E,j,D),N=E.slice(D,ne);if(A[N]===void 0){let x=h(E,j+1,ae),C=d(E,ae,x);const k=O(E.slice(x,C));A[N]=k}I=ae+1}while(I<V);return A}function h(E,w,A){do{const V=E.charCodeAt(w);if(V!==32&&V!==9)return w}while(++w<A);return A}function d(E,w,A){for(;w>A;){const V=E.charCodeAt(--w);if(V!==32&&V!==9)return w+1}return A}function p(E,w,A){const V=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const O=V(w);if(!e.test(O))throw new TypeError(`argument val is invalid: ${w}`);let I=E+"="+O;if(!A)return I;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);I+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);I+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);I+="; Path="+A.path}if(A.expires){if(!v(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);I+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(I+="; HttpOnly"),A.secure&&(I+="; Secure"),A.partitioned&&(I+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return I}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function v(E){return a.call(E)==="[object Date]"}return rc}T2();/**
 * react-router v7.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tA=t=>{throw TypeError(t)},b2=(t,e,n)=>e.has(t)||tA("Cannot "+n),Ig=(t,e,n)=>(b2(t,e,"read from private field"),n?n.call(t):e.get(t)),w2=(t,e,n)=>e.has(t)?tA("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),gb="popstate";function S2(t={}){function e(r,a){let{pathname:o,search:u,hash:h}=r.location;return Mc("",{pathname:o,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:ya(a)}return A2(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Jt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function x2(){return Math.random().toString(36).substring(2,10)}function yb(t,e){return{usr:t.state,key:t.key,idx:e}}function Mc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Aa(e):e,state:n,key:e&&e.key||r||x2()}}function ya({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function A2(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:o=!1}=r,u=a.history,h="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let O=g(),I=O==null?null:O-p;p=O,d&&d({action:h,location:V.location,delta:I})}function E(O,I){h="PUSH";let j=Mc(V.location,O,I);p=g()+1;let G=yb(j,p),ae=V.createHref(j);try{u.pushState(G,"",ae)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;a.location.assign(ae)}o&&d&&d({action:h,location:V.location,delta:1})}function w(O,I){h="REPLACE";let j=Mc(V.location,O,I);p=g();let G=yb(j,p),ae=V.createHref(j);u.replaceState(G,"",ae),o&&d&&d({action:h,location:V.location,delta:0})}function A(O){let I=a.location.origin!=="null"?a.location.origin:a.location.href,j=typeof O=="string"?O:ya(O);return j=j.replace(/ $/,"%20"),st(I,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,I)}let V={get action(){return h},get location(){return t(a,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(gb,v),d=O,()=>{a.removeEventListener(gb,v),d=null}},createHref(O){return e(a,O)},createURL:A,encodeLocation(O){let I=A(O);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:E,replace:w,go(O){return u.go(O)}};return V}var hc,vb=class{constructor(t){if(w2(this,hc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Ig(this,hc).has(t))return Ig(this,hc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Ig(this,hc).set(t,e)}};hc=new WeakMap;var R2=new Set(["lazy","caseSensitive","path","id","index","children"]);function C2(t){return R2.has(t)}var D2=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function I2(t){return D2.has(t)}function M2(t){return t.index===!0}function dd(t,e,n=[],r={}){return t.map((a,o)=>{let u=[...n,String(o)],h=typeof a.id=="string"?a.id:u.join("-");if(st(a.index!==!0||!a.children,"Cannot specify children on an index route"),st(!r[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),M2(a)){let d={...a,...e(a),id:h};return r[h]=d,d}else{let d={...a,...e(a),id:h,children:void 0};return r[h]=d,a.children&&(d.children=dd(a.children,e,u,r)),d}})}function ra(t,e,n="/"){return Qf(t,e,n,!1)}function Qf(t,e,n,r){let a=typeof e=="string"?Aa(e):e,o=Xr(a.pathname||"/",n);if(o==null)return null;let u=nA(t);P2(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=q2(o);h=z2(u[d],p,r)}return h}function O2(t,e){let{route:n,pathname:r,params:a}=t;return{id:n.id,pathname:r,params:a,data:e[n.id],handle:n.handle}}function nA(t,e=[],n=[],r=""){let a=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(st(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Mi([r,d.relativePath]),g=n.concat(d);o.children&&o.children.length>0&&(st(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),nA(o.children,e,g,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:F2(p,o.index),routesMeta:g})};return t.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,u);else for(let d of rA(o.path))a(o,u,d)}),e}function rA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let u=rA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function P2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var N2=/^:[\w-]+$/,V2=3,k2=2,L2=1,U2=10,j2=-2,_b=t=>t==="*";function F2(t,e){let n=t.split("/"),r=n.length;return n.some(_b)&&(r+=j2),e&&(r+=k2),n.filter(a=>!_b(a)).reduce((a,o)=>a+(N2.test(o)?V2:o===""?L2:U2),r)}function B2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function z2(t,e,n=!1){let{routesMeta:r}=t,a={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",v=md({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),E=d.route;if(!v&&p&&n&&!r[r.length-1].route.index&&(v=md({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Mi([o,v.pathname]),pathnameBase:K2(Mi([o,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(o=Mi([o,v.pathnameBase]))}return u}function md(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=H2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let o=a[0],u=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:v},E)=>{if(g==="*"){let A=h[E]||"";u=o.slice(0,o.length-A.length).replace(/(.)\/+$/,"$1")}const w=h[E];return v&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:u,pattern:t}}function H2(t,e=!1,n=!0){Jt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function q2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $2(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Aa(t):t;return{pathname:n?n.startsWith("/")?n:G2(n,e):e,search:Y2(r),hash:Q2(a)}}function G2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Mg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xd(t){let e=iA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Wd(t,e,n,r=!1){let a;typeof t=="string"?a=Aa(t):(a={...t},st(!a.pathname||!a.pathname.includes("?"),Mg("?","pathname","search",a)),st(!a.pathname||!a.pathname.includes("#"),Mg("#","pathname","hash",a)),st(!a.search||!a.search.includes("#"),Mg("#","search","hash",a)));let o=t===""||a.pathname==="",u=o?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),v-=1;a.pathname=E.join("/")}h=v>=0?e[v]:"/"}let d=$2(a,h),p=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Mi=t=>t.join("/").replace(/\/\/+/g,"/"),K2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Y2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Q2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,pd=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Oc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var sA=["POST","PUT","PATCH","DELETE"],X2=new Set(sA),W2=["GET",...sA],Z2=new Set(W2),J2=new Set([301,302,303,307,308]),eM=new Set([307,308]),Og={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},tM={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ic={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nM=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),aA="remix-router-transitions",oA=Symbol("ResetLoaderData");function rM(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";st(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.mapRouteProperties||nM,a={},o=dd(t.routes,r,void 0,a),u,h=t.basename||"/",d=t.dataStrategy||uM,p={unstable_middleware:!1,...t.future},g=null,v=new Set,E=null,w=null,A=null,V=t.hydrationData!=null,O=ra(o,t.history.location,h),I=!1,j=null;if(O==null&&!t.patchRoutesOnNavigation){let q=Kr(404,{pathname:t.history.location.pathname}),{matches:Y,route:te}=Pb(o);O=Y,j={[te.id]:q}}O&&!t.hydrationData&&hi(O,o,t.history.location.pathname).active&&(O=null);let G;if(O)if(O.some(q=>q.route.lazy))G=!1;else if(!O.some(q=>q.route.loader))G=!0;else{let q=t.hydrationData?t.hydrationData.loaderData:null,Y=t.hydrationData?t.hydrationData.errors:null;if(Y){let te=O.findIndex(ue=>Y[ue.route.id]!==void 0);G=O.slice(0,te+1).every(ue=>!fy(ue.route,q,Y))}else G=O.every(te=>!fy(te.route,q,Y))}else{G=!1,O=[];let q=hi(null,o,t.history.location.pathname);q.active&&q.matches&&(I=!0,O=q.matches)}let ae,D={historyAction:t.history.action,location:t.history.location,matches:O,initialized:G,navigation:Og,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||j,fetchers:new Map,blockers:new Map},ne="POP",N=!1,x,C=!1,k=new Map,U=null,F=!1,M=!1,ze=new Set,Ne=new Map,re=0,me=-1,be=new Map,Ue=new Set,B=new Map,he=new Map,_e=new Set,ge=new Map,Me,Ge=null;function He(){if(g=t.history.listen(({action:q,location:Y,delta:te})=>{if(Me){Me(),Me=void 0;return}Jt(ge.size===0||te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ue=Rr({currentLocation:D.location,nextLocation:Y,historyAction:q});if(ue&&te!=null){let ve=new Promise(xe=>{Me=xe});t.history.go(te*-1),nr(ue,{state:"blocked",location:Y,proceed(){nr(ue,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),ve.then(()=>t.history.go(te))},reset(){let xe=new Map(D.blockers);xe.set(ue,ic),wt({blockers:xe})}});return}return Sn(q,Y)}),n){TM(e,k);let q=()=>bM(e,k);e.addEventListener("pagehide",q),U=()=>e.removeEventListener("pagehide",q)}return D.initialized||Sn("POP",D.location,{initialHydration:!0}),ae}function jt(){g&&g(),U&&U(),v.clear(),x&&x.abort(),D.fetchers.forEach((q,Y)=>we(Y)),D.blockers.forEach((q,Y)=>Vn(Y))}function bt(q){return v.add(q),()=>v.delete(q)}function wt(q,Y={}){D={...D,...q};let te=[],ue=[];D.fetchers.forEach((ve,xe)=>{ve.state==="idle"&&(_e.has(xe)?te.push(xe):ue.push(xe))}),_e.forEach(ve=>{!D.fetchers.has(ve)&&!Ne.has(ve)&&te.push(ve)}),[...v].forEach(ve=>ve(D,{deletedFetchers:te,viewTransitionOpts:Y.viewTransitionOpts,flushSync:Y.flushSync===!0})),te.forEach(ve=>we(ve)),ue.forEach(ve=>D.fetchers.delete(ve))}function gn(q,Y,{flushSync:te}={}){var Se,Oe;let ue=D.actionData!=null&&D.navigation.formMethod!=null&&ri(D.navigation.formMethod)&&D.navigation.state==="loading"&&((Se=q.state)==null?void 0:Se._isRedirect)!==!0,ve;Y.actionData?Object.keys(Y.actionData).length>0?ve=Y.actionData:ve=null:ue?ve=D.actionData:ve=null;let xe=Y.loaderData?Mb(D.loaderData,Y.loaderData,Y.matches||[],Y.errors):D.loaderData,De=D.blockers;De.size>0&&(De=new Map(De),De.forEach((ke,Ze)=>De.set(Ze,ic)));let Ie=N===!0||D.navigation.formMethod!=null&&ri(D.navigation.formMethod)&&((Oe=q.state)==null?void 0:Oe._isRedirect)!==!0;u&&(o=u,u=void 0),F||ne==="POP"||(ne==="PUSH"?t.history.push(q,q.state):ne==="REPLACE"&&t.history.replace(q,q.state));let Pe;if(ne==="POP"){let ke=k.get(D.location.pathname);ke&&ke.has(q.pathname)?Pe={currentLocation:D.location,nextLocation:q}:k.has(q.pathname)&&(Pe={currentLocation:q,nextLocation:D.location})}else if(C){let ke=k.get(D.location.pathname);ke?ke.add(q.pathname):(ke=new Set([q.pathname]),k.set(D.location.pathname,ke)),Pe={currentLocation:D.location,nextLocation:q}}wt({...Y,actionData:ve,loaderData:xe,historyAction:ne,location:q,initialized:!0,navigation:Og,revalidation:"idle",restoreScrollPosition:Dr(q,Y.matches||D.matches),preventScrollReset:Ie,blockers:De},{viewTransitionOpts:Pe,flushSync:te===!0}),ne="POP",N=!1,C=!1,F=!1,M=!1,Ge==null||Ge.resolve(),Ge=null}async function Nn(q,Y){if(typeof q=="number"){t.history.go(q);return}let te=hy(D.location,D.matches,h,q,Y==null?void 0:Y.fromRouteId,Y==null?void 0:Y.relative),{path:ue,submission:ve,error:xe}=Eb(!1,te,Y),De=D.location,Ie=Mc(D.location,ue,Y&&Y.state);Ie={...Ie,...t.history.encodeLocation(Ie)};let Pe=Y&&Y.replace!=null?Y.replace:void 0,Se="PUSH";Pe===!0?Se="REPLACE":Pe===!1||ve!=null&&ri(ve.formMethod)&&ve.formAction===D.location.pathname+D.location.search&&(Se="REPLACE");let Oe=Y&&"preventScrollReset"in Y?Y.preventScrollReset===!0:void 0,ke=(Y&&Y.flushSync)===!0,Ze=Rr({currentLocation:De,nextLocation:Ie,historyAction:Se});if(Ze){nr(Ze,{state:"blocked",location:Ie,proceed(){nr(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),Nn(q,Y)},reset(){let vt=new Map(D.blockers);vt.set(Ze,ic),wt({blockers:vt})}});return}await Sn(Se,Ie,{submission:ve,pendingError:xe,preventScrollReset:Oe,replace:Y&&Y.replace,enableViewTransition:Y&&Y.viewTransition,flushSync:ke})}function Sr(){Ge||(Ge=wM()),se(),wt({revalidation:"loading"});let q=Ge.promise;return D.navigation.state==="submitting"?q:D.navigation.state==="idle"?(Sn(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),q):(Sn(ne||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:C===!0}),q)}async function Sn(q,Y,te){x&&x.abort(),x=null,ne=q,F=(te&&te.startUninterruptedRevalidation)===!0,Wr(D.location,D.matches),N=(te&&te.preventScrollReset)===!0,C=(te&&te.enableViewTransition)===!0;let ue=u||o,ve=te&&te.overrideNavigation,xe=te!=null&&te.initialHydration&&D.matches&&D.matches.length>0&&!I?D.matches:ra(ue,Y,h),De=(te&&te.flushSync)===!0;if(xe&&D.initialized&&!M&&gM(D.location,Y)&&!(te&&te.submission&&ri(te.submission.formMethod))){gn(Y,{matches:xe},{flushSync:De});return}let Ie=hi(xe,ue,Y.pathname);if(Ie.active&&Ie.matches&&(xe=Ie.matches),!xe){let{error:Et,notFoundMatches:rt,route:Je}=Cr(Y.pathname);gn(Y,{matches:rt,loaderData:{},errors:{[Je.id]:Et}},{flushSync:De});return}x=new AbortController;let Pe=Tl(t.history,Y,x.signal,te&&te.submission),Se=new vb(t.unstable_getContext?await t.unstable_getContext():void 0),Oe;if(te&&te.pendingError)Oe=[fo(xe).route.id,{type:"error",error:te.pendingError}];else if(te&&te.submission&&ri(te.submission.formMethod)){let Et=await xr(Pe,Y,te.submission,xe,Se,Ie.active,{replace:te.replace,flushSync:De});if(Et.shortCircuited)return;if(Et.pendingActionResult){let[rt,Je]=Et.pendingActionResult;if(Tr(Je)&&Oc(Je.error)&&Je.error.status===404){x=null,gn(Y,{matches:Et.matches,loaderData:{},errors:{[rt]:Je.error}});return}}xe=Et.matches||xe,Oe=Et.pendingActionResult,ve=Pg(Y,te.submission),De=!1,Ie.active=!1,Pe=Tl(t.history,Pe.url,Pe.signal)}let{shortCircuited:ke,matches:Ze,loaderData:vt,errors:Nt}=await $i(Pe,Y,xe,Se,Ie.active,ve,te&&te.submission,te&&te.fetcherSubmission,te&&te.replace,te&&te.initialHydration===!0,De,Oe);ke||(x=null,gn(Y,{matches:Ze||xe,...Ob(Oe),loaderData:vt,errors:Nt}))}async function xr(q,Y,te,ue,ve,xe,De={}){se();let Ie=_M(Y,te);if(wt({navigation:Ie},{flushSync:De.flushSync===!0}),xe){let Oe=await Kn(ue,Y.pathname,q.signal);if(Oe.type==="aborted")return{shortCircuited:!0};if(Oe.type==="error"){let ke=fo(Oe.partialMatches).route.id;return{matches:Oe.partialMatches,pendingActionResult:[ke,{type:"error",error:Oe.error}]}}else if(Oe.matches)ue=Oe.matches;else{let{notFoundMatches:ke,error:Ze,route:vt}=Cr(Y.pathname);return{matches:ke,pendingActionResult:[vt.id,{type:"error",error:Ze}]}}}let Pe,Se=fc(ue,Y);if(!Se.route.action&&!Se.route.lazy)Pe={type:"error",error:Kr(405,{method:q.method,pathname:Y.pathname,routeId:Se.route.id})};else{let Oe=await z("action",q,[Se],ue,ve,null);if(Pe=Oe[Se.route.id],!Pe){for(let ke of ue)if(Oe[ke.route.id]){Pe=Oe[ke.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(mo(Pe)){let Oe;return De&&De.replace!=null?Oe=De.replace:Oe=Cb(Pe.response.headers.get("Location"),new URL(q.url),h)===D.location.pathname+D.location.search,await yn(q,Pe,!0,{submission:te,replace:Oe}),{shortCircuited:!0}}if(Tr(Pe)){let Oe=fo(ue,Se.route.id);return(De&&De.replace)!==!0&&(ne="PUSH"),{matches:ue,pendingActionResult:[Oe.route.id,Pe]}}return{matches:ue,pendingActionResult:[Se.route.id,Pe]}}async function $i(q,Y,te,ue,ve,xe,De,Ie,Pe,Se,Oe,ke){let Ze=xe||Pg(Y,De),vt=De||Ie||Vb(Ze),Nt=!F&&!Se;if(ve){if(Nt){let ft=ci(ke);wt({navigation:Ze,...ft!==void 0?{actionData:ft}:{}},{flushSync:Oe})}let at=await Kn(te,Y.pathname,q.signal);if(at.type==="aborted")return{shortCircuited:!0};if(at.type==="error"){let ft=fo(at.partialMatches).route.id;return{matches:at.partialMatches,loaderData:{},errors:{[ft]:at.error}}}else if(at.matches)te=at.matches;else{let{error:ft,notFoundMatches:Or,route:mi}=Cr(Y.pathname);return{matches:Or,loaderData:{},errors:{[mi.id]:ft}}}}let Et=u||o,[rt,Je]=bb(t.history,D,te,vt,Y,Se===!0,M,ze,_e,B,Ue,Et,h,ke);if(me=++re,rt.length===0&&Je.length===0){let at=Ar();return gn(Y,{matches:te,loaderData:{},errors:ke&&Tr(ke[1])?{[ke[0]]:ke[1].error}:null,...Ob(ke),...at?{fetchers:new Map(D.fetchers)}:{}},{flushSync:Oe}),{shortCircuited:!0}}if(Nt){let at={};if(!ve){at.navigation=Ze;let ft=ci(ke);ft!==void 0&&(at.actionData=ft)}Je.length>0&&(at.fetchers=xn(Je)),wt(at,{flushSync:Oe})}Je.forEach(at=>{ht(at.key),at.controller&&Ne.set(at.key,at.controller)});let Ir=()=>Je.forEach(at=>ht(at.key));x&&x.signal.addEventListener("abort",Ir);let{loaderResults:Mr,fetcherResults:Yt}=await Z(te,rt,Je,q,ue);if(q.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Ir),Je.forEach(at=>Ne.delete(at.key));let nn=Vf(Mr);if(nn)return await yn(q,nn.result,!0,{replace:Pe}),{shortCircuited:!0};if(nn=Vf(Yt),nn)return Ue.add(nn.key),await yn(q,nn.result,!0,{replace:Pe}),{shortCircuited:!0};let{loaderData:Is,errors:di}=Ib(D,te,Mr,ke,Je,Yt);Se&&D.errors&&(di={...D.errors,...di});let Yn=Ar(),Yi=tr(me),hr=Yn||Yi||Je.length>0;return{matches:te,loaderData:Is,errors:di,...hr?{fetchers:new Map(D.fetchers)}:{}}}function ci(q){if(q&&!Tr(q[1]))return{[q[0]]:q[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function xn(q){return q.forEach(Y=>{let te=D.fetchers.get(Y.key),ue=sc(void 0,te?te.data:void 0);D.fetchers.set(Y.key,ue)}),new Map(D.fetchers)}async function Pa(q,Y,te,ue){ht(q);let ve=(ue&&ue.flushSync)===!0,xe=u||o,De=hy(D.location,D.matches,h,te,Y,ue==null?void 0:ue.relative),Ie=ra(xe,De,h),Pe=hi(Ie,xe,De);if(Pe.active&&Pe.matches&&(Ie=Pe.matches),!Ie){pe(q,Y,Kr(404,{pathname:De}),{flushSync:ve});return}let{path:Se,submission:Oe,error:ke}=Eb(!0,De,ue);if(ke){pe(q,Y,ke,{flushSync:ve});return}let Ze=fc(Ie,Se),vt=new vb(t.unstable_getContext?await t.unstable_getContext():void 0),Nt=(ue&&ue.preventScrollReset)===!0;if(Oe&&ri(Oe.formMethod)){await Gi(q,Y,Se,Ze,Ie,vt,Pe.active,ve,Nt,Oe);return}B.set(q,{routeId:Y,path:Se}),await Ki(q,Y,Se,Ze,Ie,vt,Pe.active,ve,Nt,Oe)}async function Gi(q,Y,te,ue,ve,xe,De,Ie,Pe,Se){se(),B.delete(q);function Oe(St){if(!St.route.action&&!St.route.lazy){let fr=Kr(405,{method:Se.formMethod,pathname:te,routeId:Y});return pe(q,Y,fr,{flushSync:Ie}),!0}return!1}if(!De&&Oe(ue))return;let ke=D.fetchers.get(q);Te(q,EM(Se,ke),{flushSync:Ie});let Ze=new AbortController,vt=Tl(t.history,te,Ze.signal,Se);if(De){let St=await Kn(ve,te,vt.signal,q);if(St.type==="aborted")return;if(St.type==="error"){pe(q,Y,St.error,{flushSync:Ie});return}else if(St.matches){if(ve=St.matches,ue=fc(ve,te),Oe(ue))return}else{pe(q,Y,Kr(404,{pathname:te}),{flushSync:Ie});return}}Ne.set(q,Ze);let Nt=re,rt=(await z("action",vt,[ue],ve,xe,q))[ue.route.id];if(vt.signal.aborted){Ne.get(q)===Ze&&Ne.delete(q);return}if(_e.has(q)){if(mo(rt)||Tr(rt)){Te(q,ta(void 0));return}}else{if(mo(rt))if(Ne.delete(q),me>Nt){Te(q,ta(void 0));return}else return Ue.add(q),Te(q,sc(Se)),yn(vt,rt,!1,{fetcherSubmission:Se,preventScrollReset:Pe});if(Tr(rt)){pe(q,Y,rt.error);return}}let Je=D.navigation.location||D.location,Ir=Tl(t.history,Je,Ze.signal),Mr=u||o,Yt=D.navigation.state!=="idle"?ra(Mr,D.navigation.location,h):D.matches;st(Yt,"Didn't find any matches after fetcher action");let nn=++re;be.set(q,nn);let Is=sc(Se,rt.data);D.fetchers.set(q,Is);let[di,Yn]=bb(t.history,D,Yt,Se,Je,!1,M,ze,_e,B,Ue,Mr,h,[ue.route.id,rt]);Yn.filter(St=>St.key!==q).forEach(St=>{let fr=St.key,Qi=D.fetchers.get(fr),ka=sc(void 0,Qi?Qi.data:void 0);D.fetchers.set(fr,ka),ht(fr),St.controller&&Ne.set(fr,St.controller)}),wt({fetchers:new Map(D.fetchers)});let Yi=()=>Yn.forEach(St=>ht(St.key));Ze.signal.addEventListener("abort",Yi);let{loaderResults:hr,fetcherResults:at}=await Z(Yt,di,Yn,Ir,xe);if(Ze.signal.aborted)return;Ze.signal.removeEventListener("abort",Yi),be.delete(q),Ne.delete(q),Yn.forEach(St=>Ne.delete(St.key));let ft=Vf(hr);if(ft)return yn(Ir,ft.result,!1,{preventScrollReset:Pe});if(ft=Vf(at),ft)return Ue.add(ft.key),yn(Ir,ft.result,!1,{preventScrollReset:Pe});let{loaderData:Or,errors:mi}=Ib(D,Yt,hr,void 0,Yn,at);if(D.fetchers.has(q)){let St=ta(rt.data);D.fetchers.set(q,St)}tr(nn),D.navigation.state==="loading"&&nn>me?(st(ne,"Expected pending action"),x&&x.abort(),gn(D.navigation.location,{matches:Yt,loaderData:Or,errors:mi,fetchers:new Map(D.fetchers)})):(wt({errors:mi,loaderData:Mb(D.loaderData,Or,Yt,mi),fetchers:new Map(D.fetchers)}),M=!1)}async function Ki(q,Y,te,ue,ve,xe,De,Ie,Pe,Se){let Oe=D.fetchers.get(q);Te(q,sc(Se,Oe?Oe.data:void 0),{flushSync:Ie});let ke=new AbortController,Ze=Tl(t.history,te,ke.signal);if(De){let rt=await Kn(ve,te,Ze.signal,q);if(rt.type==="aborted")return;if(rt.type==="error"){pe(q,Y,rt.error,{flushSync:Ie});return}else if(rt.matches)ve=rt.matches,ue=fc(ve,te);else{pe(q,Y,Kr(404,{pathname:te}),{flushSync:Ie});return}}Ne.set(q,ke);let vt=re,Et=(await z("loader",Ze,[ue],ve,xe,q))[ue.route.id];if(Ne.get(q)===ke&&Ne.delete(q),!Ze.signal.aborted){if(_e.has(q)){Te(q,ta(void 0));return}if(mo(Et))if(me>vt){Te(q,ta(void 0));return}else{Ue.add(q),await yn(Ze,Et,!1,{preventScrollReset:Pe});return}if(Tr(Et)){pe(q,Y,Et.error);return}Te(q,ta(Et.data))}}async function yn(q,Y,te,{submission:ue,fetcherSubmission:ve,preventScrollReset:xe,replace:De}={}){Y.response.headers.has("X-Remix-Revalidate")&&(M=!0);let Ie=Y.response.headers.get("Location");st(Ie,"Expected a Location header on the redirect Response"),Ie=Cb(Ie,new URL(q.url),h);let Pe=Mc(D.location,Ie,{_isRedirect:!0});if(n){let Nt=!1;if(Y.response.headers.has("X-Remix-Reload-Document"))Nt=!0;else if(lv.test(Ie)){const Et=t.history.createURL(Ie);Nt=Et.origin!==e.location.origin||Xr(Et.pathname,h)==null}if(Nt){De?e.location.replace(Ie):e.location.assign(Ie);return}}x=null;let Se=De===!0||Y.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:ke,formEncType:Ze}=D.navigation;!ue&&!ve&&Oe&&ke&&Ze&&(ue=Vb(D.navigation));let vt=ue||ve;if(eM.has(Y.response.status)&&vt&&ri(vt.formMethod))await Sn(Se,Pe,{submission:{...vt,formAction:Ie},preventScrollReset:xe||N,enableViewTransition:te?C:void 0});else{let Nt=Pg(Pe,ue);await Sn(Se,Pe,{overrideNavigation:Nt,fetcherSubmission:ve,preventScrollReset:xe||N,enableViewTransition:te?C:void 0})}}async function z(q,Y,te,ue,ve,xe){let De,Ie={};try{De=await hM(d,q,Y,te,ue,xe,a,r,ve)}catch(Pe){return te.forEach(Se=>{Ie[Se.route.id]={type:"error",error:Pe}}),Ie}for(let[Pe,Se]of Object.entries(De))if(yM(Se)){let Oe=Se.result;Ie[Pe]={type:"redirect",response:mM(Oe,Y,Pe,ue,h)}}else Ie[Pe]=await dM(Se);return Ie}async function Z(q,Y,te,ue,ve){let xe=z("loader",ue,Y,q,ve,null),De=Promise.all(te.map(async Se=>{if(Se.matches&&Se.match&&Se.controller){let ke=(await z("loader",Tl(t.history,Se.path,Se.controller.signal),[Se.match],Se.matches,ve,Se.key))[Se.match.route.id];return{[Se.key]:ke}}else return Promise.resolve({[Se.key]:{type:"error",error:Kr(404,{pathname:Se.path})}})})),Ie=await xe,Pe=(await De).reduce((Se,Oe)=>Object.assign(Se,Oe),{});return{loaderResults:Ie,fetcherResults:Pe}}function se(){M=!0,B.forEach((q,Y)=>{Ne.has(Y)&&ze.add(Y),ht(Y)})}function Te(q,Y,te={}){D.fetchers.set(q,Y),wt({fetchers:new Map(D.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function pe(q,Y,te,ue={}){let ve=fo(D.matches,Y);we(q),wt({errors:{[ve.route.id]:te},fetchers:new Map(D.fetchers)},{flushSync:(ue&&ue.flushSync)===!0})}function le(q){return he.set(q,(he.get(q)||0)+1),_e.has(q)&&_e.delete(q),D.fetchers.get(q)||tM}function we(q){let Y=D.fetchers.get(q);Ne.has(q)&&!(Y&&Y.state==="loading"&&be.has(q))&&ht(q),B.delete(q),be.delete(q),Ue.delete(q),_e.delete(q),ze.delete(q),D.fetchers.delete(q)}function je(q){let Y=(he.get(q)||0)-1;Y<=0?(he.delete(q),_e.add(q)):he.set(q,Y),wt({fetchers:new Map(D.fetchers)})}function ht(q){let Y=Ne.get(q);Y&&(Y.abort(),Ne.delete(q))}function Ft(q){for(let Y of q){let te=le(Y),ue=ta(te.data);D.fetchers.set(Y,ue)}}function Ar(){let q=[],Y=!1;for(let te of Ue){let ue=D.fetchers.get(te);st(ue,`Expected fetcher: ${te}`),ue.state==="loading"&&(Ue.delete(te),q.push(te),Y=!0)}return Ft(q),Y}function tr(q){let Y=[];for(let[te,ue]of be)if(ue<q){let ve=D.fetchers.get(te);st(ve,`Expected fetcher: ${te}`),ve.state==="loading"&&(ht(te),be.delete(te),Y.push(te))}return Ft(Y),Y.length>0}function cr(q,Y){let te=D.blockers.get(q)||ic;return ge.get(q)!==Y&&ge.set(q,Y),te}function Vn(q){D.blockers.delete(q),ge.delete(q)}function nr(q,Y){let te=D.blockers.get(q)||ic;st(te.state==="unblocked"&&Y.state==="blocked"||te.state==="blocked"&&Y.state==="blocked"||te.state==="blocked"&&Y.state==="proceeding"||te.state==="blocked"&&Y.state==="unblocked"||te.state==="proceeding"&&Y.state==="unblocked",`Invalid blocker state transition: ${te.state} -> ${Y.state}`);let ue=new Map(D.blockers);ue.set(q,Y),wt({blockers:ue})}function Rr({currentLocation:q,nextLocation:Y,historyAction:te}){if(ge.size===0)return;ge.size>1&&Jt(!1,"A router only supports one blocker at a time");let ue=Array.from(ge.entries()),[ve,xe]=ue[ue.length-1],De=D.blockers.get(ve);if(!(De&&De.state==="proceeding")&&xe({currentLocation:q,nextLocation:Y,historyAction:te}))return ve}function Cr(q){let Y=Kr(404,{pathname:q}),te=u||o,{matches:ue,route:ve}=Pb(te);return{notFoundMatches:ue,route:ve,error:Y}}function Na(q,Y,te){if(E=q,A=Y,w=te||null,!V&&D.navigation===Og){V=!0;let ue=Dr(D.location,D.matches);ue!=null&&wt({restoreScrollPosition:ue})}return()=>{E=null,A=null,w=null}}function Ds(q,Y){return w&&w(q,Y.map(ue=>O2(ue,D.loaderData)))||q.key}function Wr(q,Y){if(E&&A){let te=Ds(q,Y);E[te]=A()}}function Dr(q,Y){if(E){let te=Ds(q,Y),ue=E[te];if(typeof ue=="number")return ue}return null}function hi(q,Y,te){if(t.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:Qf(Y,te,h,!0)}}else return{active:!0,matches:Qf(Y,te,h,!0)||[]};return{active:!1,matches:null}}async function Kn(q,Y,te,ue){if(!t.patchRoutesOnNavigation)return{type:"success",matches:q};let ve=q;for(;;){let xe=u==null,De=u||o,Ie=a;try{await t.patchRoutesOnNavigation({signal:te,path:Y,matches:ve,fetcherKey:ue,patch:(Oe,ke)=>{te.aborted||Sb(Oe,ke,De,Ie,r)}})}catch(Oe){return{type:"error",error:Oe,partialMatches:ve}}finally{xe&&!te.aborted&&(o=[...o])}if(te.aborted)return{type:"aborted"};let Pe=ra(De,Y,h);if(Pe)return{type:"success",matches:Pe};let Se=Qf(De,Y,h,!0);if(!Se||ve.length===Se.length&&ve.every((Oe,ke)=>Oe.route.id===Se[ke].route.id))return{type:"success",matches:null};ve=Se}}function Va(q){a={},u=dd(q,r,void 0,a)}function fi(q,Y){let te=u==null;Sb(q,Y,u||o,a,r),te&&(o=[...o],wt({}))}return ae={get basename(){return h},get future(){return p},get state(){return D},get routes(){return o},get window(){return e},initialize:He,subscribe:bt,enableScrollRestoration:Na,navigate:Nn,fetch:Pa,revalidate:Sr,createHref:q=>t.history.createHref(q),encodeLocation:q=>t.history.encodeLocation(q),getFetcher:le,deleteFetcher:je,dispose:jt,getBlocker:cr,deleteBlocker:Vn,patchRoutes:fi,_internalFetchControllers:Ne,_internalSetRoutes:Va},ae}function iM(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function hy(t,e,n,r,a,o){let u,h;if(a){u=[];for(let p of e)if(u.push(p),p.route.id===a){h=p;break}}else u=e,h=e[e.length-1];let d=Wd(r||".",Xd(u),Xr(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&h){let p=uv(d.search);if(h.route.index&&!p)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&p){let g=new URLSearchParams(d.search),v=g.getAll("index");g.delete("index"),v.filter(w=>w).forEach(w=>g.append("index",w));let E=g.toString();d.search=E?`?${E}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:Mi([n,d.pathname])),ya(d)}function Eb(t,e,n){if(!n||!iM(n))return{path:e};if(n.formMethod&&!vM(n.formMethod))return{path:e,error:Kr(405,{method:n.formMethod})};let r=()=>({path:e,error:Kr(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=fA(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ri(o))return r();let v=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((E,[w,A])=>`${E}${w}=${A}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:v}}}else if(n.formEncType==="application/json"){if(!ri(o))return r();try{let v=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:v,text:void 0}}}catch{return r()}}}st(typeof FormData=="function","FormData is not available in this environment");let h,d;if(n.formData)h=dy(n.formData),d=n.formData;else if(n.body instanceof FormData)h=dy(n.body),d=n.body;else if(n.body instanceof URLSearchParams)h=n.body,d=Db(h);else if(n.body==null)h=new URLSearchParams,d=new FormData;else try{h=new URLSearchParams(n.body),d=Db(h)}catch{return r()}let p={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(ri(p.formMethod))return{path:e,submission:p};let g=Aa(e);return t&&g.search&&uv(g.search)&&h.append("index",""),g.search=`?${h}`,{path:ya(g),submission:p}}function Tb(t,e,n=!1){let r=t.findIndex(a=>a.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function bb(t,e,n,r,a,o,u,h,d,p,g,v,E,w){let A=w?Tr(w[1])?w[1].error:w[1].data:void 0,V=t.createURL(e.location),O=t.createURL(a),I=n;o&&e.errors?I=Tb(n,Object.keys(e.errors)[0],!0):w&&Tr(w[1])&&(I=Tb(n,w[0]));let j=w?w[1].statusCode:void 0,G=j&&j>=400,ae=I.filter((ne,N)=>{let{route:x}=ne;if(x.lazy)return!0;if(x.loader==null)return!1;if(o)return fy(x,e.loaderData,e.errors);if(sM(e.loaderData,e.matches[N],ne))return!0;let C=e.matches[N],k=ne;return wb(ne,{currentUrl:V,currentParams:C.params,nextUrl:O,nextParams:k.params,...r,actionResult:A,actionStatus:j,defaultShouldRevalidate:G?!1:u||V.pathname+V.search===O.pathname+O.search||V.search!==O.search||aM(C,k)})}),D=[];return p.forEach((ne,N)=>{if(o||!n.some(F=>F.route.id===ne.routeId)||d.has(N))return;let x=ra(v,ne.path,E);if(!x){D.push({key:N,routeId:ne.routeId,path:ne.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(N),k=fc(x,ne.path),U=!1;g.has(N)?U=!1:h.has(N)?(h.delete(N),U=!0):C&&C.state!=="idle"&&C.data===void 0?U=u:U=wb(k,{currentUrl:V,currentParams:e.matches[e.matches.length-1].params,nextUrl:O,nextParams:n[n.length-1].params,...r,actionResult:A,actionStatus:j,defaultShouldRevalidate:G?!1:u}),U&&D.push({key:N,routeId:ne.routeId,path:ne.path,matches:x,match:k,controller:new AbortController})}),[ae,D]}function fy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,a=n!=null&&n[t.id]!==void 0;return!r&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!a}function sM(t,e,n){let r=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return r||a}function aM(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function wb(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Sb(t,e,n,r,a){let o;if(t){let d=r[t];st(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let u=e.filter(d=>!o.some(p=>lA(d,p))),h=dd(u,a,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...h)}function lA(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var a;return(a=e.children)==null?void 0:a.some(o=>lA(n,o))}):!1}var xb=new WeakMap,uA=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let a=n[e.id];if(st(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let o=a.lazy[t];if(!o)return;let u=xb.get(a);u||(u={},xb.set(a,u));let h=u[t];if(h)return h;let d=(async()=>{let p=C2(t),v=a[t]!==void 0&&t!=="hasErrorBoundary";if(p)Jt(!p,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(v)Jt(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let E=await o();E!=null&&(Object.assign(a,{[t]:E}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(E=>E===void 0)&&(a.lazy=void 0))})();return u[t]=d,d},Ab=new WeakMap;function oM(t,e,n,r){let a=n[t.id];if(st(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=Ab.get(a);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let g=(async()=>{st(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),E={};for(let w in v){let A=v[w];if(A===void 0)continue;let V=I2(w),I=a[w]!==void 0&&w!=="hasErrorBoundary";V?Jt(!V,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):I?Jt(!I,`Route "${a.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):E[w]=A}Object.assign(a,E),Object.assign(a,{...r(a),lazy:void 0})})();return Ab.set(a,g),{lazyRoutePromise:g,lazyHandlerPromise:g}}let o=Object.keys(t.lazy),u=[],h;for(let p of o){let g=uA({key:p,route:t,manifest:n,mapRouteProperties:r});g&&(u.push(g),p===e&&(h=g))}return{lazyRoutePromise:Promise.all(u).then(()=>{}),lazyHandlerPromise:h}}function cA(t){return t!==void 0}function lM(t,e,n){let r=t.map(({route:a})=>{if(!(typeof a.lazy!="object"||!a.lazy.unstable_middleware))return uA({key:"unstable_middleware",route:a,manifest:e,mapRouteProperties:n})}).filter(cA);return r.length>0?Promise.all(r):void 0}async function Rb(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,o)=>{n[e[o].route.id]=a}),n}async function uM(t){return t.matches.some(e=>e.route.unstable_middleware)?cM(t,!1,()=>Rb(t),(e,n)=>({[n]:{type:"error",result:e}})):Rb(t)}async function cM(t,e,n,r){let{matches:a,request:o,params:u,context:h}=t,d={handlerResult:void 0};try{let p=a.flatMap(v=>v.route.unstable_middleware?v.route.unstable_middleware.map(E=>[v.route.id,E]):[]),g=await hA({request:o,params:u,context:h},p,e,d,n);return e?g:d.handlerResult}catch(p){if(!d.middlewareError)throw p;let g=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,g):g}}async function hA(t,e,n,r,a,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let h=e[o];if(!h)return r.handlerResult=await a(),r.handlerResult;let[d,p]=h,g=!1,v,E=async()=>{if(g)throw new Error("You may only call `next()` once per middleware");g=!0,await hA(t,e,n,r,a,o+1)};try{let w=await p({request:t.request,params:t.params,context:t.context},E);return g?w===void 0?v:w:E()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:d,error:w}):r.middlewareError={routeId:d,error:w},w}}async function hM(t,e,n,r,a,o,u,h,d){let p=lM(a,u,h),g=a.map(A=>oM(A.route,e,u,h));p&&await p;let v=a.map((A,V)=>{let{lazyRoutePromise:O,lazyHandlerPromise:I}=g[V],j=r.some(ae=>ae.route.id===A.route.id);return{...A,shouldLoad:j,resolve:async ae=>(ae&&n.method==="GET"&&(A.route.lazy||A.route.loader)&&(j=!0),j?fM({type:e,request:n,match:A,lazyHandlerPromise:I,lazyRoutePromise:O,handlerOverride:ae,scopedContext:d}):Promise.resolve({type:"data",result:void 0}))}}),E=await t({matches:v,request:n,params:a[0].params,fetcherKey:o,context:d}),w=g.flatMap(A=>Object.values(A).filter(cA));try{await Promise.all(w)}catch{}return E}async function fM({type:t,request:e,match:n,lazyHandlerPromise:r,lazyRoutePromise:a,handlerOverride:o,scopedContext:u}){let h,d,p=g=>{let v,E=new Promise((V,O)=>v=O);d=()=>v(),e.signal.addEventListener("abort",d);let w=V=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${t}" [routeId: ${n.route.id}]`)):g({request:e,params:n.params,context:u},...V!==void 0?[V]:[]),A=(async()=>{try{return{type:"data",result:await(o?o(O=>w(O)):w())}}catch(V){return{type:"error",result:V}}})();return Promise.race([A,E])};try{let g=n.route[t];if(r||a)if(g){let v,[E]=await Promise.all([p(g).catch(w=>{v=w}),r,a]);if(v!==void 0)throw v;h=E}else if(await r,g=n.route[t],g)[h]=await Promise.all([p(g),a]);else if(t==="action"){let v=new URL(e.url),E=v.pathname+v.search;throw Kr(405,{method:e.method,pathname:E,routeId:n.route.id})}else return{type:"data",result:void 0};else if(g)h=await p(g);else{let v=new URL(e.url),E=v.pathname+v.search;throw Kr(404,{pathname:E})}}catch(g){return{type:"error",result:g}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function dM(t){var r,a,o,u,h,d;let{result:e,type:n}=t;if(dA(e)){let p;try{let g=e.headers.get("Content-Type");g&&/\bapplication\/json\b/.test(g)?e.body==null?p=null:p=await e.json():p=await e.text()}catch(g){return{type:"error",error:g}}return n==="error"?{type:"error",error:new pd(e.status,e.statusText,p),statusCode:e.status,headers:e.headers}:{type:"data",data:p,statusCode:e.status,headers:e.headers}}return n==="error"?Nb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(a=e.init)!=null&&a.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new pd(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Oc(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Oc(e)?e.status:void 0}:Nb(e)?{type:"data",data:e.data,statusCode:(h=e.init)==null?void 0:h.status,headers:(d=e.init)!=null&&d.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function mM(t,e,n,r,a){let o=t.headers.get("Location");if(st(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!lv.test(o)){let u=r.slice(0,r.findIndex(h=>h.route.id===n)+1);o=hy(new URL(e.url),u,a,o),t.headers.set("Location",o)}return t}function Cb(t,e,n){if(lv.test(t)){let r=t,a=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Xr(a.pathname,n)!=null;if(a.origin===e.origin&&o)return a.pathname+a.search+a.hash}return t}function Tl(t,e,n,r){let a=t.createURL(fA(e)).toString(),o={signal:n};if(r&&ri(r.formMethod)){let{formMethod:u,formEncType:h}=r;o.method=u.toUpperCase(),h==="application/json"?(o.headers=new Headers({"Content-Type":h}),o.body=JSON.stringify(r.json)):h==="text/plain"?o.body=r.text:h==="application/x-www-form-urlencoded"&&r.formData?o.body=dy(r.formData):o.body=r.formData}return new Request(a,o)}function dy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Db(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function pM(t,e,n,r=!1,a=!1){let o={},u=null,h,d=!1,p={},g=n&&Tr(n[1])?n[1].error:void 0;return t.forEach(v=>{if(!(v.route.id in e))return;let E=v.route.id,w=e[E];if(st(!mo(w),"Cannot handle redirect results in processLoaderData"),Tr(w)){let A=w.error;if(g!==void 0&&(A=g,g=void 0),u=u||{},a)u[E]=A;else{let V=fo(t,E);u[V.route.id]==null&&(u[V.route.id]=A)}r||(o[E]=oA),d||(d=!0,h=Oc(w.error)?w.error.status:500),w.headers&&(p[E]=w.headers)}else o[E]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(h=w.statusCode),w.headers&&(p[E]=w.headers)}),g!==void 0&&n&&(u={[n[0]]:g},o[n[0]]=void 0),{loaderData:o,errors:u,statusCode:h||200,loaderHeaders:p}}function Ib(t,e,n,r,a,o){let{loaderData:u,errors:h}=pM(e,n,r);return a.forEach(d=>{let{key:p,match:g,controller:v}=d,E=o[p];if(st(E,"Did not find corresponding fetcher result"),!(v&&v.signal.aborted))if(Tr(E)){let w=fo(t.matches,g==null?void 0:g.route.id);h&&h[w.route.id]||(h={...h,[w.route.id]:E.error}),t.fetchers.delete(p)}else if(mo(E))st(!1,"Unhandled fetcher revalidation redirect");else{let w=ta(E.data);t.fetchers.set(p,w)}}),{loaderData:u,errors:h}}function Mb(t,e,n,r){let a=Object.entries(e).filter(([,o])=>o!==oA).reduce((o,[u,h])=>(o[u]=h,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(a[u]=t[u]),r&&r.hasOwnProperty(u))break}return a}function Ob(t){return t?Tr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function fo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Pb(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Kr(t,{pathname:e,routeId:n,method:r,type:a,message:o}={}){let u="Unknown Server Error",h="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?h=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(h="Unable to encode submission body")):t===403?(u="Forbidden",h=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",h=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?h=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(h=`Invalid request method "${r.toUpperCase()}"`)),new pd(t||500,u,new Error(h),!0)}function Vf(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,a]=e[n];if(mo(a))return{key:r,result:a}}}function fA(t){let e=typeof t=="string"?Aa(t):t;return ya({...e,hash:""})}function gM(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function yM(t){return dA(t.result)&&J2.has(t.result.status)}function Tr(t){return t.type==="error"}function mo(t){return(t&&t.type)==="redirect"}function Nb(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function dA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function vM(t){return Z2.has(t.toUpperCase())}function ri(t){return X2.has(t.toUpperCase())}function uv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function fc(t,e){let n=typeof e=="string"?Aa(e).search:e.search;if(t[t.length-1].route.index&&uv(n||""))return t[t.length-1];let r=iA(t);return r[r.length-1]}function Vb(t){let{formMethod:e,formAction:n,formEncType:r,text:a,formData:o,json:u}=t;if(!(!e||!n||!r)){if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function Pg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function _M(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function sc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function EM(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function ta(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function TM(t,e){try{let n=t.sessionStorage.getItem(aA);if(n){let r=JSON.parse(n);for(let[a,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(a,new Set(o||[]))}}catch{}}function bM(t,e){if(e.size>0){let n={};for(let[r,a]of e)n[r]=[...a];try{t.sessionStorage.setItem(aA,JSON.stringify(n))}catch(r){Jt(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function wM(){let t,e,n=new Promise((r,a)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{a(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Do=H.createContext(null);Do.displayName="DataRouter";var Jc=H.createContext(null);Jc.displayName="DataRouterState";var cv=H.createContext({isTransitioning:!1});cv.displayName="ViewTransition";var mA=H.createContext(new Map);mA.displayName="Fetchers";var SM=H.createContext(null);SM.displayName="Await";var li=H.createContext(null);li.displayName="Navigation";var Zd=H.createContext(null);Zd.displayName="Location";var ui=H.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var hv=H.createContext(null);hv.displayName="RouteError";function xM(t,{relative:e}={}){st(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=H.useContext(li),{hash:a,pathname:o,search:u}=eh(t,{relative:e}),h=o;return n!=="/"&&(h=o==="/"?n:Mi([n,o])),r.createHref({pathname:h,search:u,hash:a})}function Ql(){return H.useContext(Zd)!=null}function Ra(){return st(Ql(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Zd).location}var pA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gA(t){H.useContext(li).static||H.useLayoutEffect(t)}function Io(){let{isDataRoute:t}=H.useContext(ui);return t?FM():AM()}function AM(){st(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=H.useContext(Do),{basename:e,navigator:n}=H.useContext(li),{matches:r}=H.useContext(ui),{pathname:a}=Ra(),o=JSON.stringify(Xd(r)),u=H.useRef(!1);return gA(()=>{u.current=!0}),H.useCallback((d,p={})=>{if(Jt(u.current,pA),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=Wd(d,JSON.parse(o),a,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Mi([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,o,a,t])}var RM=H.createContext(null);function CM(t){let e=H.useContext(ui).outlet;return e&&H.createElement(RM.Provider,{value:t},e)}function eh(t,{relative:e}={}){let{matches:n}=H.useContext(ui),{pathname:r}=Ra(),a=JSON.stringify(Xd(n));return H.useMemo(()=>Wd(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function DM(t,e,n,r){st(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=H.useContext(li),{matches:u}=H.useContext(ui),h=u[u.length-1],d=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",v=h&&h.route;{let j=v&&v.path||"";yA(p,!v||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let E=Ra(),w;w=E;let A=w.pathname||"/",V=A;if(g!=="/"){let j=g.replace(/^\//,"").split("/");V="/"+A.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=!o&&n&&n.matches&&n.matches.length>0?n.matches:ra(t,{pathname:V});return Jt(v||O!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Jt(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),NM(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Mi([g,a.encodeLocation?a.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:Mi([g,a.encodeLocation?a.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),u,n,r)}function IM(){let t=jM(),e=Oc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:o},"ErrorBoundary")," or"," ",H.createElement("code",{style:o},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:a},n):null,u)}var MM=H.createElement(IM,null),OM=class extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?H.createElement(ui.Provider,{value:this.props.routeContext},H.createElement(hv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function PM({routeContext:t,match:e,children:n}){let r=H.useContext(Do);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(ui.Provider,{value:t},n)}function NM(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n==null?void 0:n.errors;if(o!=null){let d=a.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);st(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:g,errors:v}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,g)=>{let v,E=!1,w=null,A=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,w=p.route.errorElement||MM,u&&(h<0&&g===0?(yA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):h===g&&(E=!0,A=p.route.hydrateFallbackElement||null)));let V=e.concat(a.slice(0,g+1)),O=()=>{let I;return v?I=w:E?I=A:p.route.Component?I=H.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=d,H.createElement(PM,{match:p,routeContext:{outlet:d,matches:V,isDataRoute:n!=null},children:I})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?H.createElement(OM,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:O(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):O()},null)}function fv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VM(t){let e=H.useContext(Do);return st(e,fv(t)),e}function kM(t){let e=H.useContext(Jc);return st(e,fv(t)),e}function LM(t){let e=H.useContext(ui);return st(e,fv(t)),e}function dv(t){let e=LM(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function UM(){return dv("useRouteId")}function jM(){var r;let t=H.useContext(hv),e=kM("useRouteError"),n=dv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function FM(){let{router:t}=VM("useNavigate"),e=dv("useNavigate"),n=H.useRef(!1);return gA(()=>{n.current=!0}),H.useCallback(async(a,o={})=>{Jt(n.current,pA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var kb={};function yA(t,e,n){!e&&!kb[t]&&(kb[t]=!0,Jt(!1,n))}var Lb={};function Ub(t,e){!t&&!Lb[e]&&(Lb[e]=!0,console.warn(e))}function BM(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&Jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:H.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&Jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:H.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&Jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:H.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var zM=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function HM({router:t,flushSync:e}){let[n,r]=H.useState(t.state),[a,o]=H.useState(),[u,h]=H.useState({isTransitioning:!1}),[d,p]=H.useState(),[g,v]=H.useState(),[E,w]=H.useState(),A=H.useRef(new Map),V=H.useCallback((G,{deletedFetchers:ae,flushSync:D,viewTransitionOpts:ne})=>{G.fetchers.forEach((x,C)=>{x.data!==void 0&&A.current.set(C,x.data)}),ae.forEach(x=>A.current.delete(x)),Ub(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(Ub(ne==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ne||!N){e&&D?e(()=>r(G)):H.startTransition(()=>r(G));return}if(e&&D){e(()=>{g&&(d&&d.resolve(),g.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})});let x=t.window.document.startViewTransition(()=>{e(()=>r(G))});x.finished.finally(()=>{e(()=>{p(void 0),v(void 0),o(void 0),h({isTransitioning:!1})})}),e(()=>v(x));return}g?(d&&d.resolve(),g.skipTransition(),w({state:G,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation})):(o(G),h({isTransitioning:!0,flushSync:!1,currentLocation:ne.currentLocation,nextLocation:ne.nextLocation}))},[t.window,e,g,d]);H.useLayoutEffect(()=>t.subscribe(V),[t,V]),H.useEffect(()=>{u.isTransitioning&&!u.flushSync&&p(new zM)},[u]),H.useEffect(()=>{if(d&&a&&t.window){let G=a,ae=d.promise,D=t.window.document.startViewTransition(async()=>{H.startTransition(()=>r(G)),await ae});D.finished.finally(()=>{p(void 0),v(void 0),o(void 0),h({isTransitioning:!1})}),v(D)}},[a,d,t.window]),H.useEffect(()=>{d&&a&&n.location.key===a.location.key&&d.resolve()},[d,g,n.location,a]),H.useEffect(()=>{!u.isTransitioning&&E&&(o(E.state),h({isTransitioning:!0,flushSync:!1,currentLocation:E.currentLocation,nextLocation:E.nextLocation}),w(void 0))},[u.isTransitioning,E]);let O=H.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:G=>t.navigate(G),push:(G,ae,D)=>t.navigate(G,{state:ae,preventScrollReset:D==null?void 0:D.preventScrollReset}),replace:(G,ae,D)=>t.navigate(G,{replace:!0,state:ae,preventScrollReset:D==null?void 0:D.preventScrollReset})}),[t]),I=t.basename||"/",j=H.useMemo(()=>({router:t,navigator:O,static:!1,basename:I}),[t,O,I]);return H.createElement(H.Fragment,null,H.createElement(Do.Provider,{value:j},H.createElement(Jc.Provider,{value:n},H.createElement(mA.Provider,{value:A.current},H.createElement(cv.Provider,{value:u},H.createElement(YM,{basename:I,location:n.location,navigationType:n.historyAction,navigator:O},H.createElement(qM,{routes:t.routes,future:t.future,state:n})))))),null)}var qM=H.memo($M);function $M({routes:t,future:e,state:n}){return DM(t,void 0,n,e)}function GM({to:t,replace:e,state:n,relative:r}){st(Ql(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=H.useContext(li);Jt(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=H.useContext(ui),{pathname:u}=Ra(),h=Io(),d=Wd(t,Xd(o),u,r==="path"),p=JSON.stringify(d);return H.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:r})},[h,p,r,e,n]),null}function KM(t){return CM(t.context)}function YM({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:o=!1}){st(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=H.useMemo(()=>({basename:u,navigator:a,static:o,future:{}}),[u,a,o]);typeof n=="string"&&(n=Aa(n));let{pathname:d="/",search:p="",hash:g="",state:v=null,key:E="default"}=n,w=H.useMemo(()=>{let A=Xr(d,u);return A==null?null:{location:{pathname:A,search:p,hash:g,state:v,key:E},navigationType:r}},[u,d,p,g,v,E,r]);return Jt(w!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:H.createElement(li.Provider,{value:h},H.createElement(Zd.Provider,{children:e,value:w}))}var Xf="get",Wf="application/x-www-form-urlencoded";function Jd(t){return t!=null&&typeof t.tagName=="string"}function QM(t){return Jd(t)&&t.tagName.toLowerCase()==="button"}function XM(t){return Jd(t)&&t.tagName.toLowerCase()==="form"}function WM(t){return Jd(t)&&t.tagName.toLowerCase()==="input"}function ZM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JM(t,e){return t.button===0&&(!e||e==="_self")&&!ZM(t)}var kf=null;function eO(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var tO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(t){return t!=null&&!tO.has(t)?(Jt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Wf}"`),null):t}function nO(t,e){let n,r,a,o,u;if(XM(t)){let h=t.getAttribute("action");r=h?Xr(h,e):null,n=t.getAttribute("method")||Xf,a=Ng(t.getAttribute("enctype"))||Wf,o=new FormData(t)}else if(QM(t)||WM(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Xr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Xf,a=Ng(t.getAttribute("formenctype"))||Ng(h.getAttribute("enctype"))||Wf,o=new FormData(h,t),!eO()){let{name:p,type:g,value:v}=t;if(g==="image"){let E=p?`${p}.`:"";o.append(`${E}x`,"0"),o.append(`${E}y`,"0")}else p&&o.append(p,v)}}else{if(Jd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xf,r=null,a=Wf,u=t}return o&&a==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:o,body:u}}function mv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function rO(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iO(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function sO(t,e,n){let r=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let u=await rO(o,n);return u.links?u.links():[]}return[]}));return uO(r.flat(1).filter(iO).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function jb(t,e,n,r,a,o){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,h=(d,p)=>{var g;return n[p].pathname!==d.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>u(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{var v;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let E=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function aO(t,e,{includeHydrateFallback:n}={}){return oO(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function oO(t){return[...new Set(t)]}function lO(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function uO(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let o=JSON.stringify(lO(a));return n.has(o)||(n.add(o),r.push({key:o,link:a})),r},[])}function cO(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Xr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vA(){let t=H.useContext(Do);return mv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function hO(){let t=H.useContext(Jc);return mv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var pv=H.createContext(void 0);pv.displayName="FrameworkContext";function _A(){let t=H.useContext(pv);return mv(t,"You must render this element inside a <HydratedRouter> element"),t}function fO(t,e){let n=H.useContext(pv),[r,a]=H.useState(!1),[o,u]=H.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=e,E=H.useRef(null);H.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let V=I=>{I.forEach(j=>{u(j.isIntersecting)})},O=new IntersectionObserver(V,{threshold:.5});return E.current&&O.observe(E.current),()=>{O.disconnect()}}},[t]),H.useEffect(()=>{if(r){let V=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(V)}}},[r]);let w=()=>{a(!0)},A=()=>{a(!1),u(!1)};return n?t!=="intent"?[o,E,{}]:[o,E,{onFocus:ac(h,w),onBlur:ac(d,A),onMouseEnter:ac(p,w),onMouseLeave:ac(g,A),onTouchStart:ac(v,w)}]:[!1,E,{}]}function ac(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dO({page:t,...e}){let{router:n}=vA(),r=H.useMemo(()=>ra(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?H.createElement(pO,{page:t,matches:r,...e}):null}function mO(t){let{manifest:e,routeModules:n}=_A(),[r,a]=H.useState([]);return H.useEffect(()=>{let o=!1;return sO(t,e,n).then(u=>{o||a(u)}),()=>{o=!0}},[t,e,n]),r}function pO({page:t,matches:e,...n}){let r=Ra(),{manifest:a,routeModules:o}=_A(),{basename:u}=vA(),{loaderData:h,matches:d}=hO(),p=H.useMemo(()=>jb(t,e,d,a,r,"data"),[t,e,d,a,r]),g=H.useMemo(()=>jb(t,e,d,a,r,"assets"),[t,e,d,a,r]),v=H.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,V=!1;if(e.forEach(I=>{var G;let j=a.routes[I.route.id];!j||!j.hasLoader||(!p.some(ae=>ae.route.id===I.route.id)&&I.route.id in h&&((G=o[I.route.id])!=null&&G.shouldRevalidate)||j.hasClientLoader?V=!0:A.add(I.route.id))}),A.size===0)return[];let O=cO(t,u);return V&&A.size>0&&O.searchParams.set("_routes",e.filter(I=>A.has(I.route.id)).map(I=>I.route.id).join(",")),[O.pathname+O.search]},[u,h,r,a,p,e,t,o]),E=H.useMemo(()=>aO(g,a),[g,a]),w=mO(g);return H.createElement(H.Fragment,null,v.map(A=>H.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),E.map(A=>H.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),w.map(({key:A,link:V})=>H.createElement("link",{key:A,...V})))}function gO(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var EA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{EA&&(window.__reactRouterVersion="7.5.0")}catch{}function yO(t,e){return rM({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:S2({window:e==null?void 0:e.window}),hydrationData:vO(),routes:t,mapRouteProperties:BM,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function vO(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:_O(t.errors)}),t}function _O(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,a]of e)if(a&&a.__type==="RouteErrorResponse")n[r]=new pd(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let o=window[a.__subType];if(typeof o=="function")try{let u=new o(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let o=new Error(a.message);o.stack="",n[r]=o}}else n[r]=a;return n}var TA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pc=H.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:o,replace:u,state:h,target:d,to:p,preventScrollReset:g,viewTransition:v,...E},w){let{basename:A}=H.useContext(li),V=typeof p=="string"&&TA.test(p),O,I=!1;if(typeof p=="string"&&V&&(O=p,EA))try{let C=new URL(window.location.href),k=p.startsWith("//")?new URL(C.protocol+p):new URL(p),U=Xr(k.pathname,A);k.origin===C.origin&&U!=null?p=U+k.search+k.hash:I=!0}catch{Jt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=xM(p,{relative:a}),[G,ae,D]=fO(r,E),ne=bO(p,{replace:u,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:v});function N(C){e&&e(C),C.defaultPrevented||ne(C)}let x=H.createElement("a",{...E,...D,href:O||j,onClick:I||o?e:N,ref:gO(w,ae),target:d,"data-discover":!V&&n==="render"?"true":void 0});return G&&!V?H.createElement(H.Fragment,null,x,H.createElement(dO,{page:j})):x});Pc.displayName="Link";var Oi=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:o,to:u,viewTransition:h,children:d,...p},g){let v=eh(u,{relative:p.relative}),E=Ra(),w=H.useContext(Jc),{navigator:A,basename:V}=H.useContext(li),O=w!=null&&RO(v)&&h===!0,I=A.encodeLocation?A.encodeLocation(v).pathname:v.pathname,j=E.pathname,G=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(j=j.toLowerCase(),G=G?G.toLowerCase():null,I=I.toLowerCase()),G&&V&&(G=Xr(G,V)||G);const ae=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let D=j===I||!a&&j.startsWith(I)&&j.charAt(ae)==="/",ne=G!=null&&(G===I||!a&&G.startsWith(I)&&G.charAt(I.length)==="/"),N={isActive:D,isPending:ne,isTransitioning:O},x=D?e:void 0,C;typeof r=="function"?C=r(N):C=[r,D?"active":null,ne?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(N):o;return H.createElement(Pc,{...p,"aria-current":x,className:C,ref:g,style:k,to:u,viewTransition:h},typeof d=="function"?d(N):d)});Oi.displayName="NavLink";var EO=H.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:o,method:u=Xf,action:h,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:v,...E},w)=>{let A=xO(),V=AO(h,{relative:p}),O=u.toLowerCase()==="get"?"get":"post",I=typeof h=="string"&&TA.test(h),j=G=>{if(d&&d(G),G.defaultPrevented)return;G.preventDefault();let ae=G.nativeEvent.submitter,D=(ae==null?void 0:ae.getAttribute("formmethod"))||u;A(ae||G.currentTarget,{fetcherKey:e,method:D,navigate:n,replace:a,state:o,relative:p,preventScrollReset:g,viewTransition:v})};return H.createElement("form",{ref:w,method:O,action:V,onSubmit:r?d:j,...E,"data-discover":!I&&t==="render"?"true":void 0})});EO.displayName="Form";function TO(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bA(t){let e=H.useContext(Do);return st(e,TO(t)),e}function bO(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:o,viewTransition:u}={}){let h=Io(),d=Ra(),p=eh(t,{relative:o});return H.useCallback(g=>{if(JM(g,e)){g.preventDefault();let v=n!==void 0?n:ya(d)===ya(p);h(t,{replace:v,state:r,preventScrollReset:a,relative:o,viewTransition:u})}},[d,h,p,n,r,e,t,a,o,u])}var wO=0,SO=()=>`__${String(++wO)}__`;function xO(){let{router:t}=bA("useSubmit"),{basename:e}=H.useContext(li),n=UM();return H.useCallback(async(r,a={})=>{let{action:o,method:u,encType:h,formData:d,body:p}=nO(r,e);if(a.navigate===!1){let g=a.fetcherKey||SO();await t.fetch(g,n,a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function AO(t,{relative:e}={}){let{basename:n}=H.useContext(li),r=H.useContext(ui);st(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),o={...eh(t||".",{relative:e})},u=Ra();if(t==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();o.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Mi([n,o.pathname])),ya(o)}function RO(t,e={}){let n=H.useContext(cv);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bA("useViewTransitionState"),a=eh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return md(a.pathname,u)!=null||md(a.pathname,o)!=null}new TextEncoder;const CO=()=>{};var Fb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},DO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const o=t[n++];e[r++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(o&63)<<6|u&63)}}return e.join("")},SA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const o=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,g=o>>2,v=(o&3)<<4|h>>4;let E=(h&15)<<2|p>>6,w=p&63;d||(w=64,u||(E=64)),r.push(n[g],n[v],n[E],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const o=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,o==null||h==null||p==null||v==null)throw new IO;const E=o<<2|h>>4;if(r.push(E),p!==64){const w=h<<4&240|p>>2;if(r.push(w),v!==64){const A=p<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MO=function(t){const e=wA(t);return SA.encodeByteArray(e,!0)},gd=function(t){return MO(t).replace(/\./g,"")},xA=function(t){try{return SA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=()=>OO().__FIREBASE_DEFAULTS__,NO=()=>{if(typeof process>"u"||typeof Fb>"u")return;const t=Fb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},VO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xA(t[1]);return e&&JSON.parse(e)},em=()=>{try{return CO()||PO()||NO()||VO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AA=t=>{var e,n;return(n=(e=em())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kO=t=>{const e=AA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RA=()=>{var t;return(t=em())===null||t===void 0?void 0:t.config},CA=t=>{var e;return(e=em())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gd(JSON.stringify(n)),gd(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function FO(){var t;const e=(t=em())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qO(){const t=$n();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $O(){return!FO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GO(){try{return typeof indexedDB=="object"}catch{return!1}}function KO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var o;e(((o=a.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="FirebaseError";class As extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YO,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,th.prototype.create)}}class th{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,o=this.errors[e],u=o?QO(o,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new As(a,h,r)}}function QO(t,e){return t.replace(XO,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const XO=/\{\$([^}]+)}/g;function WO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const o=t[a],u=e[a];if(Bb(o)&&Bb(u)){if(!bo(o,u))return!1}else if(o!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function Bb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,o]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(o)}}),e}function mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZO(t,e){const n=new JO(t,e);return n.subscribe.bind(n)}class JO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Vg),a.error===void 0&&(a.error=Vg),a.complete===void 0&&(a.complete=Vg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t&&t._delegate?t._delegate:t}class wo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rP(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:a});r.resolve(o)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nP(t){return t===co?void 0:t}function rP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ut||(ut={}));const sP={debug:ut.DEBUG,verbose:ut.VERBOSE,info:ut.INFO,warn:ut.WARN,error:ut.ERROR,silent:ut.SILENT},aP=ut.INFO,oP={[ut.DEBUG]:"log",[ut.VERBOSE]:"log",[ut.INFO]:"info",[ut.WARN]:"warn",[ut.ERROR]:"error"},lP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=oP[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gv{constructor(e){this.name=e,this._logLevel=aP,this._logHandler=lP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ut.DEBUG,...e),this._logHandler(this,ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ut.VERBOSE,...e),this._logHandler(this,ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ut.INFO,...e),this._logHandler(this,ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ut.WARN,...e),this._logHandler(this,ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ut.ERROR,...e),this._logHandler(this,ut.ERROR,...e)}}const uP=(t,e)=>e.some(n=>t instanceof n);let zb,Hb;function cP(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hP(){return Hb||(Hb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DA=new WeakMap,my=new WeakMap,IA=new WeakMap,kg=new WeakMap,yv=new WeakMap;function fP(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(ca(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&DA.set(n,t)}).catch(()=>{}),yv.set(e,t),e}function dP(t){if(my.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});my.set(t,e)}let py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return my.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ca(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mP(t){py=t(py)}function pP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lg(this),e,...n);return IA.set(r,e.sort?e.sort():[e]),ca(r)}:hP().includes(t)?function(...e){return t.apply(Lg(this),e),ca(DA.get(this))}:function(...e){return ca(t.apply(Lg(this),e))}}function gP(t){return typeof t=="function"?pP(t):(t instanceof IDBTransaction&&dP(t),uP(t,cP())?new Proxy(t,py):t)}function ca(t){if(t instanceof IDBRequest)return fP(t);if(kg.has(t))return kg.get(t);const e=gP(t);return e!==t&&(kg.set(t,e),yv.set(e,t)),e}const Lg=t=>yv.get(t);function yP(t,e,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const u=indexedDB.open(t,e),h=ca(u);return r&&u.addEventListener("upgradeneeded",d=>{r(ca(u.result),d.oldVersion,d.newVersion,ca(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const vP=["get","getKey","getAll","getAllKeys","count"],_P=["put","add","delete","clear"],Ug=new Map;function qb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ug.get(e))return Ug.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=_P.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||vP.includes(n)))return;const o=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&d.done]))[0]};return Ug.set(e,o),o}mP(t=>({...t,get:(e,n,r)=>qb(e,n)||t.get(e,n,r),has:(e,n)=>!!qb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TP(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function TP(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gy="@firebase/app",$b="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new gv("@firebase/app"),bP="@firebase/app-compat",wP="@firebase/analytics-compat",SP="@firebase/analytics",xP="@firebase/app-check-compat",AP="@firebase/app-check",RP="@firebase/auth",CP="@firebase/auth-compat",DP="@firebase/database",IP="@firebase/data-connect",MP="@firebase/database-compat",OP="@firebase/functions",PP="@firebase/functions-compat",NP="@firebase/installations",VP="@firebase/installations-compat",kP="@firebase/messaging",LP="@firebase/messaging-compat",UP="@firebase/performance",jP="@firebase/performance-compat",FP="@firebase/remote-config",BP="@firebase/remote-config-compat",zP="@firebase/storage",HP="@firebase/storage-compat",qP="@firebase/firestore",$P="@firebase/vertexai",GP="@firebase/firestore-compat",KP="firebase",YP="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",QP={[gy]:"fire-core",[bP]:"fire-core-compat",[SP]:"fire-analytics",[wP]:"fire-analytics-compat",[AP]:"fire-app-check",[xP]:"fire-app-check-compat",[RP]:"fire-auth",[CP]:"fire-auth-compat",[DP]:"fire-rtdb",[IP]:"fire-data-connect",[MP]:"fire-rtdb-compat",[OP]:"fire-fn",[PP]:"fire-fn-compat",[NP]:"fire-iid",[VP]:"fire-iid-compat",[kP]:"fire-fcm",[LP]:"fire-fcm-compat",[UP]:"fire-perf",[jP]:"fire-perf-compat",[FP]:"fire-rc",[BP]:"fire-rc-compat",[zP]:"fire-gcs",[HP]:"fire-gcs-compat",[qP]:"fire-fst",[GP]:"fire-fst-compat",[$P]:"fire-vertex","fire-js":"fire-js",[KP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=new Map,XP=new Map,vy=new Map;function Gb(t,e){try{t.container.addComponent(e)}catch(n){Ts.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jl(t){const e=t.name;if(vy.has(e))return Ts.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of yd.values())Gb(n,t);for(const n of XP.values())Gb(n,t);return!0}function vv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new th("app","Firebase",WP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=YP;function MA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yy,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw ha.create("bad-app-name",{appName:String(a)});if(n||(n=RA()),!n)throw ha.create("no-options");const o=yd.get(a);if(o){if(bo(n,o.options)&&bo(r,o.config))return o;throw ha.create("duplicate-app",{appName:a})}const u=new iP(a);for(const d of vy.values())u.addComponent(d);const h=new ZP(n,r,u);return yd.set(a,h),h}function OA(t=yy){const e=yd.get(t);if(!e&&t===yy&&RA())return MA();if(!e)throw ha.create("no-app",{appName:t});return e}function fa(t,e,n){var r;let a=(r=QP[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${a}" with version "${e}":`];o&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ts.warn(h.join(" "));return}jl(new wo(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="firebase-heartbeat-database",eN=1,Nc="firebase-heartbeat-store";let jg=null;function PA(){return jg||(jg=yP(JP,eN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),jg}async function tN(t){try{const n=(await PA()).transaction(Nc),r=await n.objectStore(Nc).get(NA(t));return await n.done,r}catch(e){if(e instanceof As)Ts.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(n.message)}}}async function Kb(t,e){try{const r=(await PA()).transaction(Nc,"readwrite");await r.objectStore(Nc).put(e,NA(t)),await r.done}catch(n){if(n instanceof As)Ts.warn(n.message);else{const r=ha.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ts.warn(r.message)}}}function NA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=1024,rN=30;class iN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Yb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>rN){const u=oN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ts.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yb(),{heartbeatsToSend:r,unsentEntries:a}=sN(this._heartbeatsCache.heartbeats),o=gd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ts.warn(n),""}}}function Yb(){return new Date().toISOString().substring(0,10)}function sN(t,e=nN){const n=[];let r=t.slice();for(const a of t){const o=n.find(u=>u.agent===a.agent);if(o){if(o.dates.push(a.date),Qb(n)>e){o.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Qb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GO()?KO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Kb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Kb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Qb(t){return gd(JSON.stringify({version:2,heartbeats:t})).length}function oN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(t){jl(new wo("platform-logger",e=>new EP(e),"PRIVATE")),jl(new wo("heartbeat",e=>new iN(e),"PRIVATE")),fa(gy,$b,t),fa(gy,$b,"esm2017"),fa("fire-js","")}lN("");function _v(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function VA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uN=VA,kA=new th("auth","Firebase",VA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new gv("@firebase/auth");function cN(t,...e){vd.logLevel<=ut.WARN&&vd.warn(`Auth (${Xl}): ${t}`,...e)}function Zf(t,...e){vd.logLevel<=ut.ERROR&&vd.error(`Auth (${Xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(t,...e){throw Ev(t,...e)}function Pi(t,...e){return Ev(t,...e)}function LA(t,e,n){const r=Object.assign(Object.assign({},uN()),{[e]:n});return new th("auth","Firebase",r).create(e,{appName:t.name})}function Es(t){return LA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ev(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kA.create(t,...e)}function Ke(t,e,...n){if(!t)throw Ev(e,...n)}function vs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zf(e),new Error(e)}function bs(t,e){t||vs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hN(){return Xb()==="http:"||Xb()==="https:"}function Xb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hN()||zO()||"connection"in navigator)?navigator.onLine:!0}function dN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,n){this.shortDelay=e,this.longDelay=n,bs(n>e,"Short delay should be less than long delay!"),this.isMobile=jO()||HO()}get(){return fN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t,e){bs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;vs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;vs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;vs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],gN=new rh(3e4,6e4);function Rs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cs(t,e,n,r,a={}){return jA(t,a,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=nh(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},o);return BO()||(p.referrerPolicy="no-referrer"),UA.fetch()(await FA(t,t.config.apiHost,n,h),p)})}async function jA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mN),e);try{const a=new vN(t),o=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Lf(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Lf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw Lf(t,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw LA(t,g,p);oi(t,g)}}catch(a){if(a instanceof As)throw a;oi(t,"network-request-failed",{message:String(a)})}}async function ih(t,e,n,r,a={}){const o=await Cs(t,e,n,r,a);return"mfaPendingCredential"in o&&oi(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function FA(t,e,n,r){const a=`${e}${n}?${r}`,o=t,u=o.config.emulator?Tv(t.config,a):`${t.config.apiScheme}://${a}`;return pN.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function yN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),gN.get())})}}function Lf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Pi(t,e,r);return a.customData._tokenResponse=n,a}function Wb(t){return t!==void 0&&t.enterprise!==void 0}class _N{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EN(t,e){return Cs(t,"GET","/v2/recaptchaConfig",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,e){return Cs(t,"POST","/v1/accounts:delete",e)}async function _d(t,e){return Cs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bN(t,e=!1){const n=Gn(t),r=await n.getIdToken(e),a=bv(r);Ke(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:a,token:r,authTime:Ec(Fg(a.auth_time)),issuedAtTime:Ec(Fg(a.iat)),expirationTime:Ec(Fg(a.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Fg(t){return Number(t)*1e3}function bv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{const a=xA(n);return a?JSON.parse(a):(Zf("Failed to decode base64 JWT payload"),null)}catch(a){return Zf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Zb(t){const e=bv(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof As&&wN(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function wN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ed(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Vc(t,_d(n,{idToken:r}));Ke(a==null?void 0:a.users.length,n,"internal-error");const o=a.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?BA(o.providerUserInfo):[],h=AN(t.providerData,u),d=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Ey(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function xN(t){const e=Gn(t);await Ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function AN(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function BA(t){return t.map(e=>{var{providerId:n}=e,r=_v(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){const n=await jA(t,{},async()=>{const r=nh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:o}=t.config,u=await FA(t,a,"/v1/token",`key=${o}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",UA.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CN(t,e){return Cs(t,"POST","/v2/accounts:revokeToken",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=Zb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:o}=await RN(e,n);this.updateTokensAndExpiration(r,a,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:o}=n,u=new Vl;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ke(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),o&&(Ke(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return vs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,o=_v(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ey(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Vc(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bN(this,e)}reload(){return xN(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Es(this.auth));const e=await this.getIdToken();return await Vc(this,TN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,o,u,h,d,p,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(a=n.email)!==null&&a!==void 0?a:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(u=n.photoURL)!==null&&u!==void 0?u:void 0,V=(h=n.tenantId)!==null&&h!==void 0?h:void 0,O=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,I=(p=n.createdAt)!==null&&p!==void 0?p:void 0,j=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:G,emailVerified:ae,isAnonymous:D,providerData:ne,stsTokenManager:N}=n;Ke(G&&N,e,"internal-error");const x=Vl.fromJSON(this.name,N);Ke(typeof G=="string",e,"internal-error"),ea(v,e.name),ea(E,e.name),Ke(typeof ae=="boolean",e,"internal-error"),Ke(typeof D=="boolean",e,"internal-error"),ea(w,e.name),ea(A,e.name),ea(V,e.name),ea(O,e.name),ea(I,e.name),ea(j,e.name);const C=new ai({uid:G,auth:e,email:E,emailVerified:ae,displayName:v,isAnonymous:D,photoURL:A,phoneNumber:w,tenantId:V,stsTokenManager:x,createdAt:I,lastLoginAt:j});return ne&&Array.isArray(ne)&&(C.providerData=ne.map(k=>Object.assign({},k))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,n,r=!1){const a=new Vl;a.updateFromServerResponse(n);const o=new ai({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Ed(o),o}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ke(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?BA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(o!=null&&o.length),h=new Vl;h.updateFromIdToken(r);const d=new ai({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Ey(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Map;function _s(t){bs(t instanceof Function,"Expected a class definition");let e=Jb.get(t);return e?(bs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zA.type="NONE";const ew=zA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jf(t,e,n){return`firebase:${t}:${e}:${n}`}class kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:o}=this.auth;this.fullUserKey=Jf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Jf("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _d(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new kl(_s(ew),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=a[0]||_s(ew);const u=Jf(r,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(u);if(g){let v;if(typeof g=="string"){const E=await _d(e,{idToken:g}).catch(()=>{});if(!E)break;v=await ai._fromGetAccountInfoResponse(e,E,g)}else v=ai._fromJSON(e,g);p!==o&&(h=v),o=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new kl(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(u)}catch{}})),new kl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YA(e))return"Blackberry";if(QA(e))return"Webos";if(qA(e))return"Safari";if((e.includes("chrome/")||$A(e))&&!e.includes("edge/"))return"Chrome";if(KA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HA(t=$n()){return/firefox\//i.test(t)}function qA(t=$n()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $A(t=$n()){return/crios\//i.test(t)}function GA(t=$n()){return/iemobile/i.test(t)}function KA(t=$n()){return/android/i.test(t)}function YA(t=$n()){return/blackberry/i.test(t)}function QA(t=$n()){return/webos/i.test(t)}function wv(t=$n()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DN(t=$n()){var e;return wv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IN(){return qO()&&document.documentMode===10}function XA(t=$n()){return wv(t)||KA(t)||QA(t)||YA(t)||/windows phone/i.test(t)||GA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(t,e=[]){let n;switch(t){case"Browser":n=tw($n());break;case"Worker":n=`${tw($n())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e={}){return Cs(t,"GET","/v2/passwordPolicy",Rs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=6;class NN{constructor(e){var n,r,a,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:PN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nw(this),this.idTokenSubscription=new nw(this),this.beforeStateQueue=new MN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=_s(n)),this._initializationPromise=this.queue(async()=>{var r,a,o;if(!this._deleted&&(this.persistenceManager=await kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _d(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(a=d.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Es(this));const n=e?Gn(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_s(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ON(this),n=new NN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new th("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await CN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&_s(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await kl.create(this,[_s(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&cN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ca(t){return Gn(t)}class nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZO(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kN(t){tm=t}function ZA(t){return tm.loadJS(t)}function LN(){return tm.recaptchaEnterpriseScript}function UN(){return tm.gapiScript}function jN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class FN{constructor(){this.enterprise=new BN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class BN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zN="recaptcha-enterprise",JA="NO_RECAPTCHA";class HN{constructor(e){this.type=zN,this.auth=Ca(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{EN(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new _N(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,u(p.siteKey)}}).catch(d=>{h(d)})})}function a(o,u,h){const d=window.grecaptcha;Wb(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{u(p)}).catch(()=>{u(JA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FN().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!n&&Wb(window.grecaptcha))a(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=LN();d.length!==0&&(d+=h),ZA(d).then(()=>{a(h,o,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function rw(t,e,n,r=!1,a=!1){const o=new HN(t);let u;if(a)u=JA;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Td(t,e,n,r,a){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await rw(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await rw(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(t,e){const n=vv(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),o=n.getOptions();if(bo(o,e??{}))return a;oi(a,"already-initialized")}return n.initialize({options:e})}function $N(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_s);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GN(t,e,n){const r=Ca(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,o=eR(e),{host:u,port:h}=KN(e),d=h===null?"":`:${h}`,p={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(bo(p,r.config.emulator)&&bo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,YN()}function eR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KN(t){const e=eR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const o=a[1];return{host:o,port:iw(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:iw(u)}}}function iw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return vs("not implemented")}_getIdTokenResponse(e){return vs("not implemented")}_linkToIdToken(e,n){return vs("not implemented")}_getReauthenticationResolver(e){return vs("not implemented")}}async function QN(t,e){return Cs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(t,e){return ih(t,"POST","/v1/accounts:signInWithPassword",Rs(t,e))}async function WN(t,e){return Cs(t,"POST","/v1/accounts:sendOobCode",Rs(t,e))}async function ZN(t,e){return WN(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(t,e){return ih(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}async function eV(t,e){return ih(t,"POST","/v1/accounts:signInWithEmailLink",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc extends Sv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new kc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new kc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Td(e,n,"signInWithPassword",XN);case"emailLink":return JN(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Td(e,r,"signUpPassword",QN);case"emailLink":return eV(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t,e){return ih(t,"POST","/v1/accounts:signInWithIdp",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="http://localhost";class So extends Sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new So(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,o=_v(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new So(r,a);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Ll(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ll(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ll(e,n)}buildRequest(){const e={requestUri:tV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rV(t){const e=dc(mc(t)).link,n=e?dc(mc(e)).deep_link_id:null,r=dc(mc(t)).deep_link_id;return(r?dc(mc(r)).link:null)||r||n||e||t}class xv{constructor(e){var n,r,a,o,u,h;const d=dc(mc(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,v=nV((a=d.mode)!==null&&a!==void 0?a:null);Ke(p&&g&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=rV(e);try{return new xv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(){this.providerId=Wl.PROVIDER_ID}static credential(e,n){return kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xv.parseLink(n);return Ke(r,"argument-error"),kc._fromEmailAndCode(e,r.code,r.tenantId)}}Wl.PROVIDER_ID="password";Wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends tR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends sh{constructor(){super("facebook.com")}static credential(e){return So._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch{return null}}}ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa extends sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return So._fromParams({providerId:sa.PROVIDER_ID,signInMethod:sa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sa.credentialFromTaggedObject(e)}static credentialFromError(e){return sa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sa.credential(n,r)}catch{return null}}}sa.GOOGLE_SIGN_IN_METHOD="google.com";sa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends sh{constructor(){super("github.com")}static credential(e){return So._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends sh{constructor(){super("twitter.com")}static credential(e,n){return So._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return oa.credential(n,r)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e){return ih(t,"POST","/v1/accounts:signUp",Rs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const o=await ai._fromIdTokenResponse(e,r,a),u=sw(r);return new xo({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=sw(r);return new xo({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function sw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends As{constructor(e,n,r,a){var o;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,bd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new bd(e,n,r,a)}}function nR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bd._fromErrorAndOperation(t,o,e,r):o})}async function sV(t,e,n=!1){const r=await Vc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e,n=!1){const{auth:r}=t;if(Yr(r.app))return Promise.reject(Es(r));const a="reauthenticate";try{const o=await Vc(t,nR(r,a,e,t),n);Ke(o.idToken,r,"internal-error");const u=bv(o.idToken);Ke(u,r,"internal-error");const{sub:h}=u;return Ke(t.uid===h,r,"user-mismatch"),xo._forOperation(t,a,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&oi(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t,e,n=!1){if(Yr(t.app))return Promise.reject(Es(t));const r="signIn",a=await nR(t,r,e),o=await xo._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(o.user),o}async function oV(t,e){return rR(Ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t){const e=Ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lV(t,e,n){const r=Ca(t);await Td(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ZN)}async function uV(t,e,n){if(Yr(t.app))return Promise.reject(Es(t));const r=Ca(t),u=await Td(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&iR(t),d}),h=await xo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function cV(t,e,n){return Yr(t.app)?Promise.reject(Es(t)):oV(Gn(t),Wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&iR(t),r})}function hV(t,e,n,r){return Gn(t).onIdTokenChanged(e,n,r)}function fV(t,e,n){return Gn(t).beforeAuthStateChanged(e,n)}function dV(t,e,n,r){return Gn(t).onAuthStateChanged(e,n,r)}function mV(t){return Gn(t).signOut()}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=1e3,gV=10;class aR extends sR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);IN()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,gV):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}aR.type="LOCAL";const yV=aR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends sR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oR.type="SESSION";const lR=oR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new nm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:o}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,o)),d=await vV(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const p=Av("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(E.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function EV(t){Ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function TV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function wV(){return uR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firebaseLocalStorageDb",SV=1,Sd="firebaseLocalStorage",hR="fbase_key";class ah{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rm(t,e){return t.transaction([Sd],e?"readwrite":"readonly").objectStore(Sd)}function xV(){const t=indexedDB.deleteDatabase(cR);return new ah(t).toPromise()}function Ty(){const t=indexedDB.open(cR,SV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Sd,{keyPath:hR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Sd)?e(r):(r.close(),await xV(),e(await Ty()))})})}async function aw(t,e,n){const r=rm(t,!0).put({[hR]:e,value:n});return new ah(r).toPromise()}async function AV(t,e){const n=rm(t,!1).get(e),r=await new ah(n).toPromise();return r===void 0?null:r.value}function ow(t,e){const n=rm(t,!0).delete(e);return new ah(n).toPromise()}const RV=800,CV=3;class fR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return uR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nm._getInstance(wV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await TV(),!this.activeServiceWorker)return;this.sender=new _V(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ty();return await aw(e,wd,"1"),await ow(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>AV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const o=rm(a,!1).getAll();return new ah(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:o}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fR.type="LOCAL";const DV=fR;new rh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t,e){return e?_s(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv extends Sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MV(t){return rR(t.auth,new Rv(t),t.bypassAuthState)}function OV(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),aV(n,new Rv(t),t.bypassAuthState)}async function PV(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),sV(n,new Rv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,r,a,o=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MV;case"linkViaPopup":case"linkViaRedirect":return PV;case"reauthViaPopup":case"reauthViaRedirect":return OV;default:oi(this.auth,"internal-error")}}resolve(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new rh(2e3,1e4);class Cl extends dR{constructor(e,n,r,a,o){super(e,n,a,o),this.provider=r,this.authWindow=null,this.pollId=null,Cl.currentPopupAction&&Cl.currentPopupAction.cancel(),Cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const e=Av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NV.get())};e()}}Cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="pendingRedirect",ed=new Map;class kV extends dR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ed.get(this.auth._key());if(!e){try{const r=await LV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ed.set(this.auth._key(),e)}return this.bypassAuthState||ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LV(t,e){const n=FV(e),r=jV(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function UV(t,e){ed.set(t._key(),e)}function jV(t){return _s(t._redirectPersistence)}function FV(t){return Jf(VV,t.config.apiKey,t.name)}async function BV(t,e,n=!1){if(Yr(t.app))return Promise.reject(Es(t));const r=Ca(t),a=IV(r,e),u=await new kV(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=10*60*1e3;class HV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!mR(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zV&&this.cachedEventUids.clear(),this.cachedEventUids.has(lw(e))}saveEventToCache(e){this.cachedEventUids.add(lw(e)),this.lastProcessedEventTime=Date.now()}}function lw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function mR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,e={}){return Cs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,KV=/^https?/;async function YV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $V(t);for(const n of e)try{if(QV(n))return}catch{}oi(t,"unauthorized-domain")}function QV(t){const e=_y(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!KV.test(n))return!1;if(GV.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new rh(3e4,6e4);function uw(){const t=Ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WV(t){return new Promise((e,n)=>{var r,a,o;function u(){uw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uw(),n(Pi(t,"network-request-failed"))},timeout:XV.get()})}if(!((a=(r=Ni().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((o=Ni().gapi)===null||o===void 0)&&o.load)u();else{const h=jN("iframefcb");return Ni()[h]=()=>{gapi.load?u():n(Pi(t,"network-request-failed"))},ZA(`${UN()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw td=null,e})}let td=null;function ZV(t){return td=td||WV(t),td}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new rh(5e3,15e3),ek="__/auth/iframe",tk="emulator/auth/iframe",nk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ik(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tv(e,tk):`https://${t.config.authDomain}/${ek}`,r={apiKey:e.apiKey,appName:t.name,v:Xl},a=rk.get(t.config.apiHost);a&&(r.eid=a);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${nh(r).slice(1)}`}async function sk(t){const e=await ZV(t),n=Ni().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:ik(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nk,dontclear:!0},r=>new Promise(async(a,o)=>{await r.restyle({setHideOnLeave:!1});const u=Pi(t,"network-request-failed"),h=Ni().setTimeout(()=>{o(u)},JV.get());function d(){Ni().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ok=500,lk=600,uk="_blank",ck="http://localhost";class cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hk(t,e,n,r=ok,a=lk){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},ak),{width:r.toString(),height:a.toString(),top:o,left:u}),p=$n().toLowerCase();n&&(h=$A(p)?uk:n),HA(p)&&(e=e||ck,d.scrollbars="yes");const g=Object.entries(d).reduce((E,[w,A])=>`${E}${w}=${A},`,"");if(DN(p)&&h!=="_self")return fk(e||"",h),new cw(null);const v=window.open(e||"",h,g);Ke(v,t,"popup-blocked");try{v.focus()}catch{}return new cw(v)}function fk(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk="__/auth/handler",mk="emulator/auth/handler",pk=encodeURIComponent("fac");async function hw(t,e,n,r,a,o){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xl,eventId:a};if(e instanceof tR){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",WO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof sh){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),p=d?`#${pk}=${encodeURIComponent(d)}`:"";return`${gk(t)}?${nh(h).slice(1)}${p}`}function gk({config:t}){return t.emulator?Tv(t,mk):`https://${t.authDomain}/${dk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="webStorageSupport";class yk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lR,this._completeRedirectFn=BV,this._overrideRedirectResult=UV}async _openPopup(e,n,r,a){var o;bs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await hw(e,n,r,_y(),a);return hk(e,u,Av())}async _openRedirect(e,n,r,a){await this._originValidation(e);const o=await hw(e,n,r,_y(),a);return EV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:o}=this.eventManagers[n];return a?Promise.resolve(a):(bs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await sk(e),r=new HV(e);return n.register("authEvent",a=>(Ke(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bg,{type:Bg},a=>{var o;const u=(o=a==null?void 0:a[0])===null||o===void 0?void 0:o[Bg];u!==void 0&&n(!!u),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=YV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XA()||qA()||wv()}}const vk=yk;var fw="@firebase/auth",dw="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Tk(t){jl(new wo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ke(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WA(t)},p=new VN(r,a,o,d);return $N(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jl(new wo("auth-internal",e=>{const n=Ca(e.getProvider("auth").getImmediate());return(r=>new _k(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fa(fw,dw,Ek(t)),fa(fw,dw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=5*60,wk=CA("authIdTokenMaxAge")||bk;let mw=null;const Sk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>wk)return;const a=n==null?void 0:n.token;mw!==a&&(mw=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function xk(t=OA()){const e=vv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qN(t,{popupRedirectResolver:vk,persistence:[DV,yV,lR]}),r=CA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=Sk(o.toString());fV(n,u,()=>u(n.currentUser)),hV(n,h=>u(h))}}const a=AA("auth");return a&&GN(n,`http://${a}`),n}function Ak(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const o=Pi("internal-error");o.customData=a,n(o)},r.type="text/javascript",r.charset="UTF-8",Ak().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Tk("Browser");var Rk="firebase",Ck="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fa(Rk,Ck,"app");const Dk={apiKey:"AIzaSyAIb7p4xmmlK1jI9Hoz0tXjDTHa0oRGfqU",authDomain:"luxuryhotels-96bd6.firebaseapp.com",projectId:"luxuryhotels-96bd6",storageBucket:"luxuryhotels-96bd6.firebasestorage.app",messagingSenderId:"333137289489",appId:"1:333137289489:web:0e693989de2f74aa9f6cb0"},pR=MA(Dk),oc=xk(pR),gR=H.createContext({authData:null,signUp:()=>Promise.resolve({isSuccess:!1,errorMessage:"Not implemented"}),signIn:()=>Promise.resolve({isSuccess:!1,errorMessage:"Not implemented"}),signOut:()=>Promise.resolve({isSuccess:!1,errorMessage:"Not implemented"}),resetPassword:()=>Promise.resolve({isSuccess:!1,errorMessage:"Not implemented"}),isAuthenticating:!1}),Mo=()=>H.useContext(gR),Ik=({children:t})=>{const[e,n]=H.useState(null),[r,a]=H.useState(!1),o=g=>typeof g=="string"?{errorMessage:g,isSuccess:!1}:g instanceof Error?{errorMessage:g.message,isSuccess:!1}:{errorMessage:"Unknown error occurred",isSuccess:!1},u=async(g,v)=>{try{return a(!0),{user:(await uV(oc,g,v)).user,isSuccess:!0}}catch(E){return console.error("Sign up error:",E),o(E)}finally{a(!1)}},h=async(g,v)=>{try{return a(!0),{user:(await cV(oc,g,v)).user,isSuccess:!0}}catch(E){return console.error("Sign in error:",E),o(E)}finally{a(!1)}},d=async()=>{try{return a(!0),await mV(oc),{isSuccess:!0}}catch(g){return console.error("Sign out error:",g),o(g)}finally{a(!1)}},p=async g=>{try{return await lV(oc,g),{isSuccess:!0}}catch(v){return console.error("Password reset error:",v),o(v)}};return H.useEffect(()=>{const g=dV(oc,v=>{n(v)});return()=>g()},[]),P.jsx(gR.Provider,{value:{authData:e,signIn:h,signOut:d,signUp:u,resetPassword:p,isAuthenticating:r},children:t})};var pw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,yR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,x){function C(){}C.prototype=x.prototype,N.D=x.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(k,U,F){for(var M=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)M[ze-2]=arguments[ze];return x.prototype[U].apply(k,M)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,x,C){C||(C=0);var k=Array(16);if(typeof x=="string")for(var U=0;16>U;++U)k[U]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(U=0;16>U;++U)k[U]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=N.g[0],C=N.g[1],U=N.g[2];var F=N.g[3],M=x+(F^C&(U^F))+k[0]+3614090360&4294967295;x=C+(M<<7&4294967295|M>>>25),M=F+(U^x&(C^U))+k[1]+3905402710&4294967295,F=x+(M<<12&4294967295|M>>>20),M=U+(C^F&(x^C))+k[2]+606105819&4294967295,U=F+(M<<17&4294967295|M>>>15),M=C+(x^U&(F^x))+k[3]+3250441966&4294967295,C=U+(M<<22&4294967295|M>>>10),M=x+(F^C&(U^F))+k[4]+4118548399&4294967295,x=C+(M<<7&4294967295|M>>>25),M=F+(U^x&(C^U))+k[5]+1200080426&4294967295,F=x+(M<<12&4294967295|M>>>20),M=U+(C^F&(x^C))+k[6]+2821735955&4294967295,U=F+(M<<17&4294967295|M>>>15),M=C+(x^U&(F^x))+k[7]+4249261313&4294967295,C=U+(M<<22&4294967295|M>>>10),M=x+(F^C&(U^F))+k[8]+1770035416&4294967295,x=C+(M<<7&4294967295|M>>>25),M=F+(U^x&(C^U))+k[9]+2336552879&4294967295,F=x+(M<<12&4294967295|M>>>20),M=U+(C^F&(x^C))+k[10]+4294925233&4294967295,U=F+(M<<17&4294967295|M>>>15),M=C+(x^U&(F^x))+k[11]+2304563134&4294967295,C=U+(M<<22&4294967295|M>>>10),M=x+(F^C&(U^F))+k[12]+1804603682&4294967295,x=C+(M<<7&4294967295|M>>>25),M=F+(U^x&(C^U))+k[13]+4254626195&4294967295,F=x+(M<<12&4294967295|M>>>20),M=U+(C^F&(x^C))+k[14]+2792965006&4294967295,U=F+(M<<17&4294967295|M>>>15),M=C+(x^U&(F^x))+k[15]+1236535329&4294967295,C=U+(M<<22&4294967295|M>>>10),M=x+(U^F&(C^U))+k[1]+4129170786&4294967295,x=C+(M<<5&4294967295|M>>>27),M=F+(C^U&(x^C))+k[6]+3225465664&4294967295,F=x+(M<<9&4294967295|M>>>23),M=U+(x^C&(F^x))+k[11]+643717713&4294967295,U=F+(M<<14&4294967295|M>>>18),M=C+(F^x&(U^F))+k[0]+3921069994&4294967295,C=U+(M<<20&4294967295|M>>>12),M=x+(U^F&(C^U))+k[5]+3593408605&4294967295,x=C+(M<<5&4294967295|M>>>27),M=F+(C^U&(x^C))+k[10]+38016083&4294967295,F=x+(M<<9&4294967295|M>>>23),M=U+(x^C&(F^x))+k[15]+3634488961&4294967295,U=F+(M<<14&4294967295|M>>>18),M=C+(F^x&(U^F))+k[4]+3889429448&4294967295,C=U+(M<<20&4294967295|M>>>12),M=x+(U^F&(C^U))+k[9]+568446438&4294967295,x=C+(M<<5&4294967295|M>>>27),M=F+(C^U&(x^C))+k[14]+3275163606&4294967295,F=x+(M<<9&4294967295|M>>>23),M=U+(x^C&(F^x))+k[3]+4107603335&4294967295,U=F+(M<<14&4294967295|M>>>18),M=C+(F^x&(U^F))+k[8]+1163531501&4294967295,C=U+(M<<20&4294967295|M>>>12),M=x+(U^F&(C^U))+k[13]+2850285829&4294967295,x=C+(M<<5&4294967295|M>>>27),M=F+(C^U&(x^C))+k[2]+4243563512&4294967295,F=x+(M<<9&4294967295|M>>>23),M=U+(x^C&(F^x))+k[7]+1735328473&4294967295,U=F+(M<<14&4294967295|M>>>18),M=C+(F^x&(U^F))+k[12]+2368359562&4294967295,C=U+(M<<20&4294967295|M>>>12),M=x+(C^U^F)+k[5]+4294588738&4294967295,x=C+(M<<4&4294967295|M>>>28),M=F+(x^C^U)+k[8]+2272392833&4294967295,F=x+(M<<11&4294967295|M>>>21),M=U+(F^x^C)+k[11]+1839030562&4294967295,U=F+(M<<16&4294967295|M>>>16),M=C+(U^F^x)+k[14]+4259657740&4294967295,C=U+(M<<23&4294967295|M>>>9),M=x+(C^U^F)+k[1]+2763975236&4294967295,x=C+(M<<4&4294967295|M>>>28),M=F+(x^C^U)+k[4]+1272893353&4294967295,F=x+(M<<11&4294967295|M>>>21),M=U+(F^x^C)+k[7]+4139469664&4294967295,U=F+(M<<16&4294967295|M>>>16),M=C+(U^F^x)+k[10]+3200236656&4294967295,C=U+(M<<23&4294967295|M>>>9),M=x+(C^U^F)+k[13]+681279174&4294967295,x=C+(M<<4&4294967295|M>>>28),M=F+(x^C^U)+k[0]+3936430074&4294967295,F=x+(M<<11&4294967295|M>>>21),M=U+(F^x^C)+k[3]+3572445317&4294967295,U=F+(M<<16&4294967295|M>>>16),M=C+(U^F^x)+k[6]+76029189&4294967295,C=U+(M<<23&4294967295|M>>>9),M=x+(C^U^F)+k[9]+3654602809&4294967295,x=C+(M<<4&4294967295|M>>>28),M=F+(x^C^U)+k[12]+3873151461&4294967295,F=x+(M<<11&4294967295|M>>>21),M=U+(F^x^C)+k[15]+530742520&4294967295,U=F+(M<<16&4294967295|M>>>16),M=C+(U^F^x)+k[2]+3299628645&4294967295,C=U+(M<<23&4294967295|M>>>9),M=x+(U^(C|~F))+k[0]+4096336452&4294967295,x=C+(M<<6&4294967295|M>>>26),M=F+(C^(x|~U))+k[7]+1126891415&4294967295,F=x+(M<<10&4294967295|M>>>22),M=U+(x^(F|~C))+k[14]+2878612391&4294967295,U=F+(M<<15&4294967295|M>>>17),M=C+(F^(U|~x))+k[5]+4237533241&4294967295,C=U+(M<<21&4294967295|M>>>11),M=x+(U^(C|~F))+k[12]+1700485571&4294967295,x=C+(M<<6&4294967295|M>>>26),M=F+(C^(x|~U))+k[3]+2399980690&4294967295,F=x+(M<<10&4294967295|M>>>22),M=U+(x^(F|~C))+k[10]+4293915773&4294967295,U=F+(M<<15&4294967295|M>>>17),M=C+(F^(U|~x))+k[1]+2240044497&4294967295,C=U+(M<<21&4294967295|M>>>11),M=x+(U^(C|~F))+k[8]+1873313359&4294967295,x=C+(M<<6&4294967295|M>>>26),M=F+(C^(x|~U))+k[15]+4264355552&4294967295,F=x+(M<<10&4294967295|M>>>22),M=U+(x^(F|~C))+k[6]+2734768916&4294967295,U=F+(M<<15&4294967295|M>>>17),M=C+(F^(U|~x))+k[13]+1309151649&4294967295,C=U+(M<<21&4294967295|M>>>11),M=x+(U^(C|~F))+k[4]+4149444226&4294967295,x=C+(M<<6&4294967295|M>>>26),M=F+(C^(x|~U))+k[11]+3174756917&4294967295,F=x+(M<<10&4294967295|M>>>22),M=U+(x^(F|~C))+k[2]+718787259&4294967295,U=F+(M<<15&4294967295|M>>>17),M=C+(F^(U|~x))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+x&4294967295,N.g[1]=N.g[1]+(U+(M<<21&4294967295|M>>>11))&4294967295,N.g[2]=N.g[2]+U&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.u=function(N,x){x===void 0&&(x=N.length);for(var C=x-this.blockSize,k=this.B,U=this.h,F=0;F<x;){if(U==0)for(;F<=C;)a(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<x;)if(k[U++]=N.charCodeAt(F++),U==this.blockSize){a(this,k),U=0;break}}else for(;F<x;)if(k[U++]=N[F++],U==this.blockSize){a(this,k),U=0;break}}this.h=U,this.o+=x},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var x=1;x<N.length-8;++x)N[x]=0;var C=8*this.o;for(x=N.length-8;x<N.length;++x)N[x]=C&255,C/=256;for(this.u(N),N=Array(16),x=C=0;4>x;++x)for(var k=0;32>k;k+=8)N[C++]=this.g[x]>>>k&255;return N};function o(N,x){var C=h;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=x(N)}function u(N,x){this.h=x;for(var C=[],k=!0,U=N.length-1;0<=U;U--){var F=N[U]|0;k&&F==x||(C[U]=F,k=!1)}this.g=C}var h={};function d(N){return-128<=N&&128>N?o(N,function(x){return new u([x|0],0>x?-1:0)}):new u([N|0],0>N?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return v;if(0>N)return O(p(-N));for(var x=[],C=1,k=0;N>=C;k++)x[k]=N/C|0,C*=4294967296;return new u(x,0)}function g(N,x){if(N.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(N.charAt(0)=="-")return O(g(N.substring(1),x));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(x,8)),k=v,U=0;U<N.length;U+=8){var F=Math.min(8,N.length-U),M=parseInt(N.substring(U,U+F),x);8>F?(F=p(Math.pow(x,F)),k=k.j(F).add(p(M))):(k=k.j(C),k=k.add(p(M)))}return k}var v=d(0),E=d(1),w=d(16777216);t=u.prototype,t.m=function(){if(V(this))return-O(this).m();for(var N=0,x=1,C=0;C<this.g.length;C++){var k=this.i(C);N+=(0<=k?k:4294967296+k)*x,x*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(A(this))return"0";if(V(this))return"-"+O(this).toString(N);for(var x=p(Math.pow(N,6)),C=this,k="";;){var U=ae(C,x).g;C=I(C,U.j(x));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=U,A(C))return F+k;for(;6>F.length;)F="0"+F;k=F+k}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function A(N){if(N.h!=0)return!1;for(var x=0;x<N.g.length;x++)if(N.g[x]!=0)return!1;return!0}function V(N){return N.h==-1}t.l=function(N){return N=I(this,N),V(N)?-1:A(N)?0:1};function O(N){for(var x=N.g.length,C=[],k=0;k<x;k++)C[k]=~N.g[k];return new u(C,~N.h).add(E)}t.abs=function(){return V(this)?O(this):this},t.add=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],k=0,U=0;U<=x;U++){var F=k+(this.i(U)&65535)+(N.i(U)&65535),M=(F>>>16)+(this.i(U)>>>16)+(N.i(U)>>>16);k=M>>>16,F&=65535,M&=65535,C[U]=M<<16|F}return new u(C,C[C.length-1]&-2147483648?-1:0)};function I(N,x){return N.add(O(x))}t.j=function(N){if(A(this)||A(N))return v;if(V(this))return V(N)?O(this).j(O(N)):O(O(this).j(N));if(V(N))return O(this.j(O(N)));if(0>this.l(w)&&0>N.l(w))return p(this.m()*N.m());for(var x=this.g.length+N.g.length,C=[],k=0;k<2*x;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(var U=0;U<N.g.length;U++){var F=this.i(k)>>>16,M=this.i(k)&65535,ze=N.i(U)>>>16,Ne=N.i(U)&65535;C[2*k+2*U]+=M*Ne,j(C,2*k+2*U),C[2*k+2*U+1]+=F*Ne,j(C,2*k+2*U+1),C[2*k+2*U+1]+=M*ze,j(C,2*k+2*U+1),C[2*k+2*U+2]+=F*ze,j(C,2*k+2*U+2)}for(k=0;k<x;k++)C[k]=C[2*k+1]<<16|C[2*k];for(k=x;k<2*x;k++)C[k]=0;return new u(C,0)};function j(N,x){for(;(N[x]&65535)!=N[x];)N[x+1]+=N[x]>>>16,N[x]&=65535,x++}function G(N,x){this.g=N,this.h=x}function ae(N,x){if(A(x))throw Error("division by zero");if(A(N))return new G(v,v);if(V(N))return x=ae(O(N),x),new G(O(x.g),O(x.h));if(V(x))return x=ae(N,O(x)),new G(O(x.g),x.h);if(30<N.g.length){if(V(N)||V(x))throw Error("slowDivide_ only works with positive integers.");for(var C=E,k=x;0>=k.l(N);)C=D(C),k=D(k);var U=ne(C,1),F=ne(k,1);for(k=ne(k,2),C=ne(C,2);!A(k);){var M=F.add(k);0>=M.l(N)&&(U=U.add(C),F=M),k=ne(k,1),C=ne(C,1)}return x=I(N,U.j(x)),new G(U,x)}for(U=v;0<=N.l(x);){for(C=Math.max(1,Math.floor(N.m()/x.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),F=p(C),M=F.j(x);V(M)||0<M.l(N);)C-=k,F=p(C),M=F.j(x);A(F)&&(F=E),U=U.add(F),N=I(N,M)}return new G(U,N)}t.A=function(N){return ae(this,N).h},t.and=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],k=0;k<x;k++)C[k]=this.i(k)&N.i(k);return new u(C,this.h&N.h)},t.or=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],k=0;k<x;k++)C[k]=this.i(k)|N.i(k);return new u(C,this.h|N.h)},t.xor=function(N){for(var x=Math.max(this.g.length,N.g.length),C=[],k=0;k<x;k++)C[k]=this.i(k)^N.i(k);return new u(C,this.h^N.h)};function D(N){for(var x=N.g.length+1,C=[],k=0;k<x;k++)C[k]=N.i(k)<<1|N.i(k-1)>>>31;return new u(C,N.h)}function ne(N,x){var C=x>>5;x%=32;for(var k=N.g.length-C,U=[],F=0;F<k;F++)U[F]=0<x?N.i(F+C)>>>x|N.i(F+C+1)<<32-x:N.i(F+C);return new u(U,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yR=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,da=u}).apply(typeof pw<"u"?pw:typeof self<"u"?self:typeof window<"u"?window:{});var Uf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vR,pc,_R,nd,by,ER,TR,bR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,T){return f==Array.prototype||f==Object.prototype||(f[_]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uf=="object"&&Uf];for(var _=0;_<f.length;++_){var T=f[_];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(f,_){if(_)e:{var T=r;f=f.split(".");for(var R=0;R<f.length-1;R++){var Q=f[R];if(!(Q in T))break e;T=T[Q]}f=f[f.length-1],R=T[f],_=_(R),_!=R&&_!=null&&e(T,f,{configurable:!0,writable:!0,value:_})}}function o(f,_){f instanceof String&&(f+="");var T=0,R=!1,Q={next:function(){if(!R&&T<f.length){var ie=T++;return{value:_(ie,f[ie]),done:!1}}return R=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(f){return f||function(){return o(this,function(_,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function p(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function g(f,_,T){return f.call.apply(f.bind,arguments)}function v(f,_,T){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,R),f.apply(_,Q)}}return function(){return f.apply(_,arguments)}}function E(f,_,T){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,E.apply(null,arguments)}function w(f,_){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function A(f,_){function T(){}T.prototype=_.prototype,f.aa=_.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(R,Q,ie){for(var Ee=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)Ee[dt-2]=arguments[dt];return _.prototype[Q].apply(R,Ee)}}function V(f){const _=f.length;if(0<_){const T=Array(_);for(let R=0;R<_;R++)T[R]=f[R];return T}return[]}function O(f,_){for(let T=1;T<arguments.length;T++){const R=arguments[T];if(d(R)){const Q=f.length||0,ie=R.length||0;f.length=Q+ie;for(let Ee=0;Ee<ie;Ee++)f[Q+Ee]=R[Ee]}else f.push(R)}}class I{constructor(_,T){this.i=_,this.j=T,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function j(f){return/^[\s\xa0]*$/.test(f)}function G(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ae(f){return ae[" "](f),f}ae[" "]=function(){};var D=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function ne(f,_,T){for(const R in f)_.call(T,f[R],R,f)}function N(f,_){for(const T in f)_.call(void 0,f[T],T,f)}function x(f){const _={};for(const T in f)_[T]=f[T];return _}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(f,_){let T,R;for(let Q=1;Q<arguments.length;Q++){R=arguments[Q];for(T in R)f[T]=R[T];for(let ie=0;ie<C.length;ie++)T=C[ie],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function U(f){var _=1;f=f.split(":");const T=[];for(;0<_&&f.length;)T.push(f.shift()),_--;return f.length&&T.push(f.join(":")),T}function F(f){h.setTimeout(()=>{throw f},0)}function M(){var f=Ue;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class ze{constructor(){this.h=this.g=null}add(_,T){const R=Ne.get();R.set(_,T),this.h?this.h.next=R:this.g=R,this.h=R}}var Ne=new I(()=>new re,f=>f.reset());class re{constructor(){this.next=this.g=this.h=null}set(_,T){this.h=_,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let me,be=!1,Ue=new ze,B=()=>{const f=h.Promise.resolve(void 0);me=()=>{f.then(he)}};var he=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(T){F(T)}var _=Ne;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}be=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,_),h.removeEventListener("test",T,_)}catch{}return f}();function Ge(f,_){if(ge.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(D){e:{try{ae(_.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(_=null)}}else T=="mouseover"?_=f.fromElement:T=="mouseout"&&(_=f.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:He[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ge.aa.h.call(this)}}A(Ge,ge);var He={2:"touch",3:"pen",4:"mouse"};Ge.prototype.h=function(){Ge.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var jt="closure_listenable_"+(1e6*Math.random()|0),bt=0;function wt(f,_,T,R,Q){this.listener=f,this.proxy=null,this.src=_,this.type=T,this.capture=!!R,this.ha=Q,this.key=++bt,this.da=this.fa=!1}function gn(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Nn(f){this.src=f,this.g={},this.h=0}Nn.prototype.add=function(f,_,T,R,Q){var ie=f.toString();f=this.g[ie],f||(f=this.g[ie]=[],this.h++);var Ee=Sn(f,_,R,Q);return-1<Ee?(_=f[Ee],T||(_.fa=!1)):(_=new wt(_,this.src,ie,!!R,Q),_.fa=T,f.push(_)),_};function Sr(f,_){var T=_.type;if(T in f.g){var R=f.g[T],Q=Array.prototype.indexOf.call(R,_,void 0),ie;(ie=0<=Q)&&Array.prototype.splice.call(R,Q,1),ie&&(gn(_),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Sn(f,_,T,R){for(var Q=0;Q<f.length;++Q){var ie=f[Q];if(!ie.da&&ie.listener==_&&ie.capture==!!T&&ie.ha==R)return Q}return-1}var xr="closure_lm_"+(1e6*Math.random()|0),$i={};function ci(f,_,T,R,Q){if(Array.isArray(_)){for(var ie=0;ie<_.length;ie++)ci(f,_[ie],T,R,Q);return null}return T=Te(T),f&&f[jt]?f.K(_,T,p(R)?!!R.capture:!1,Q):xn(f,_,T,!1,R,Q)}function xn(f,_,T,R,Q,ie){if(!_)throw Error("Invalid event type");var Ee=p(Q)?!!Q.capture:!!Q,dt=Z(f);if(dt||(f[xr]=dt=new Nn(f)),T=dt.add(_,T,R,Ee,ie),T.proxy)return T;if(R=Pa(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)Me||(Q=Ee),Q===void 0&&(Q=!1),f.addEventListener(_.toString(),R,Q);else if(f.attachEvent)f.attachEvent(yn(_.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function Pa(){function f(T){return _.call(f.src,f.listener,T)}const _=z;return f}function Gi(f,_,T,R,Q){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)Gi(f,_[ie],T,R,Q);else R=p(R)?!!R.capture:!!R,T=Te(T),f&&f[jt]?(f=f.i,_=String(_).toString(),_ in f.g&&(ie=f.g[_],T=Sn(ie,T,R,Q),-1<T&&(gn(ie[T]),Array.prototype.splice.call(ie,T,1),ie.length==0&&(delete f.g[_],f.h--)))):f&&(f=Z(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Sn(_,T,R,Q)),(T=-1<f?_[f]:null)&&Ki(T))}function Ki(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[jt])Sr(_.i,f);else{var T=f.type,R=f.proxy;_.removeEventListener?_.removeEventListener(T,R,f.capture):_.detachEvent?_.detachEvent(yn(T),R):_.addListener&&_.removeListener&&_.removeListener(R),(T=Z(_))?(Sr(T,f),T.h==0&&(T.src=null,_[xr]=null)):gn(f)}}}function yn(f){return f in $i?$i[f]:$i[f]="on"+f}function z(f,_){if(f.da)f=!0;else{_=new Ge(_,this);var T=f.listener,R=f.ha||f.src;f.fa&&Ki(f),f=T.call(R,_)}return f}function Z(f){return f=f[xr],f instanceof Nn?f:null}var se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(f){return typeof f=="function"?f:(f[se]||(f[se]=function(_){return f.handleEvent(_)}),f[se])}function pe(){_e.call(this),this.i=new Nn(this),this.M=this,this.F=null}A(pe,_e),pe.prototype[jt]=!0,pe.prototype.removeEventListener=function(f,_,T,R){Gi(this,f,_,T,R)};function le(f,_){var T,R=f.F;if(R)for(T=[];R;R=R.F)T.push(R);if(f=f.M,R=_.type||_,typeof _=="string")_=new ge(_,f);else if(_ instanceof ge)_.target=_.target||f;else{var Q=_;_=new ge(R,f),k(_,Q)}if(Q=!0,T)for(var ie=T.length-1;0<=ie;ie--){var Ee=_.g=T[ie];Q=we(Ee,R,!0,_)&&Q}if(Ee=_.g=f,Q=we(Ee,R,!0,_)&&Q,Q=we(Ee,R,!1,_)&&Q,T)for(ie=0;ie<T.length;ie++)Ee=_.g=T[ie],Q=we(Ee,R,!1,_)&&Q}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var T=f.g[_],R=0;R<T.length;R++)gn(T[R]);delete f.g[_],f.h--}}this.F=null},pe.prototype.K=function(f,_,T,R){return this.i.add(String(f),_,!1,T,R)},pe.prototype.L=function(f,_,T,R){return this.i.add(String(f),_,!0,T,R)};function we(f,_,T,R){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var Q=!0,ie=0;ie<_.length;++ie){var Ee=_[ie];if(Ee&&!Ee.da&&Ee.capture==T){var dt=Ee.listener,un=Ee.ha||Ee.src;Ee.fa&&Sr(f.i,Ee),Q=dt.call(un,R)!==!1&&Q}}return Q&&!R.defaultPrevented}function je(f,_,T){if(typeof f=="function")T&&(f=E(f,T));else if(f&&typeof f.handleEvent=="function")f=E(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(f,_||0)}function ht(f){f.g=je(()=>{f.g=null,f.i&&(f.i=!1,ht(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class Ft extends _e{constructor(_,T){super(),this.m=_,this.l=T,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(f){_e.call(this),this.h=f,this.g={}}A(Ar,_e);var tr=[];function cr(f){ne(f.g,function(_,T){this.g.hasOwnProperty(T)&&Ki(_)},f),f.g={}}Ar.prototype.N=function(){Ar.aa.N.call(this),cr(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=h.JSON.stringify,nr=h.JSON.parse,Rr=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Cr(){}Cr.prototype.h=null;function Na(f){return f.h||(f.h=f.i())}function Ds(){}var Wr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){ge.call(this,"d")}A(Dr,ge);function hi(){ge.call(this,"c")}A(hi,ge);var Kn={},Va=null;function fi(){return Va=Va||new pe}Kn.La="serverreachability";function q(f){ge.call(this,Kn.La,f)}A(q,ge);function Y(f){const _=fi();le(_,new q(_))}Kn.STAT_EVENT="statevent";function te(f,_){ge.call(this,Kn.STAT_EVENT,f),this.stat=_}A(te,ge);function ue(f){const _=fi();le(_,new te(_,f))}Kn.Ma="timingevent";function ve(f,_){ge.call(this,Kn.Ma,f),this.size=_}A(ve,ge);function xe(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},_)}function De(){this.g=!0}De.prototype.xa=function(){this.g=!1};function Ie(f,_,T,R,Q,ie){f.info(function(){if(f.g)if(ie)for(var Ee="",dt=ie.split("&"),un=0;un<dt.length;un++){var mt=dt[un].split("=");if(1<mt.length){var _n=mt[0];mt=mt[1];var cn=_n.split("_");Ee=2<=cn.length&&cn[1]=="type"?Ee+(_n+"="+mt+"&"):Ee+(_n+"=redacted&")}}else Ee=null;else Ee=ie;return"XMLHTTP REQ ("+R+") [attempt "+Q+"]: "+_+`
`+T+`
`+Ee})}function Pe(f,_,T,R,Q,ie,Ee){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+Q+"]: "+_+`
`+T+`
`+ie+" "+Ee})}function Se(f,_,T,R){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+ke(f,T)+(R?" "+R:"")})}function Oe(f,_){f.info(function(){return"TIMEOUT: "+_})}De.prototype.info=function(){};function ke(f,_){if(!f.g)return _;if(!_)return null;try{var T=JSON.parse(_);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var R=T[f];if(!(2>R.length)){var Q=R[1];if(Array.isArray(Q)&&!(1>Q.length)){var ie=Q[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(var Ee=1;Ee<Q.length;Ee++)Q[Ee]=""}}}}return Vn(T)}catch{return _}}var Ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nt;function Et(){}A(Et,Cr),Et.prototype.g=function(){return new XMLHttpRequest},Et.prototype.i=function(){return{}},Nt=new Et;function rt(f,_,T,R){this.j=f,this.i=_,this.l=T,this.R=R||1,this.U=new Ar(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Je}function Je(){this.i=null,this.g="",this.h=!1}var Ir={},Mr={};function Yt(f,_,T){f.L=1,f.v=ja(dr(_)),f.m=T,f.P=!0,nn(f,null)}function nn(f,_){f.F=Date.now(),Yn(f),f.A=dr(f.v);var T=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),lu(T.i,"t",R),f.C=0,T=f.j.J,f.h=new Je,f.g=Ih(f.j,T?_:null,!f.m),0<f.O&&(f.M=new Ft(E(f.Y,f,f.g),f.O)),_=f.U,T=f.g,R=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(tr[0]=Q.toString()),Q=tr);for(var ie=0;ie<Q.length;ie++){var Ee=ci(T,Q[ie],R||_.handleEvent,!1,_.h||_);if(!Ee)break;_.g[Ee.key]=Ee}_=f.H?x(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),Y(),Ie(f.i,f.u,f.A,f.l,f.R,f.m)}rt.prototype.ca=function(f){f=f.target;const _=this.M;_&&kr(f)==3?_.j():this.Y(f)},rt.prototype.Y=function(f){try{if(f==this.g)e:{const cn=kr(this.g);var _=this.g.Ba();const ns=this.g.Z();if(!(3>cn)&&(cn!=3||this.g&&(this.h.h||this.g.oa()||bh(this.g)))){this.J||cn!=4||_==7||(_==8||0>=ns?Y(3):Y(2)),hr(this);var T=this.g.Z();this.X=T;t:if(Is(this)){var R=bh(this.g);f="";var Q=R.length,ie=kr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),at(this);var Ee="";break t}this.h.i=new h.TextDecoder}for(_=0;_<Q;_++)this.h.h=!0,f+=this.h.i.decode(R[_],{stream:!(ie&&_==Q-1)});R.length=0,this.h.g+=f,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=T==200,Pe(this.i,this.u,this.A,this.l,this.R,cn,T),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,un=this.g;if((dt=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(dt)){var mt=dt;break t}}mt=null}if(T=mt)Se(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Or(this,T);else{this.o=!1,this.s=3,ue(12),ft(this),at(this);break e}}if(this.P){T=!0;let An;for(;!this.J&&this.C<Ee.length;)if(An=di(this,Ee),An==Mr){cn==4&&(this.s=4,ue(14),T=!1),Se(this.i,this.l,null,"[Incomplete Response]");break}else if(An==Ir){this.s=4,ue(15),Se(this.i,this.l,Ee,"[Invalid Chunk]"),T=!1;break}else Se(this.i,this.l,An,null),Or(this,An);if(Is(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),cn!=4||Ee.length!=0||this.h.h||(this.s=1,ue(16),T=!1),this.o=this.o&&T,!T)Se(this.i,this.l,Ee,"[Invalid Chunked Response]"),ft(this),at(this);else if(0<Ee.length&&!this.W){this.W=!0;var _n=this.j;_n.g==this&&_n.ba&&!_n.M&&(_n.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),Ka(_n),_n.M=!0,ue(11))}}else Se(this.i,this.l,Ee,null),Or(this,Ee);cn==4&&ft(this),this.o&&!this.J&&(cn==4?Rh(this.j,this):(this.o=!1,Yn(this)))}else Om(this.g),T==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,ue(12)):(this.s=0,ue(13)),ft(this),at(this)}}}catch{}finally{}};function Is(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function di(f,_){var T=f.C,R=_.indexOf(`
`,T);return R==-1?Mr:(T=Number(_.substring(T,R)),isNaN(T)?Ir:(R+=1,R+T>_.length?Mr:(_=_.slice(R,R+T),f.C=R+T,_)))}rt.prototype.cancel=function(){this.J=!0,ft(this)};function Yn(f){f.S=Date.now()+f.I,Yi(f,f.I)}function Yi(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=xe(E(f.ba,f),_)}function hr(f){f.B&&(h.clearTimeout(f.B),f.B=null)}rt.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Oe(this.i,this.A),this.L!=2&&(Y(),ue(17)),ft(this),this.s=2,at(this)):Yi(this,this.S-f)};function at(f){f.j.G==0||f.J||Rh(f.j,f)}function ft(f){hr(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,cr(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function Or(f,_){try{var T=f.j;if(T.G!=0&&(T.g==f||ka(T.h,f))){if(!f.K&&ka(T.h,f)&&T.G==3){try{var R=T.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var Q=R;if(Q[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)$o(T),Ho(T);else break e;du(T),ue(18)}}else T.za=Q[1],0<T.za-T.T&&37500>Q[2]&&T.F&&T.v==0&&!T.C&&(T.C=xe(E(T.Za,T),6e3));if(1>=Qi(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else ts(T,11)}else if((f.K||T.g==f)&&$o(T),!j(_))for(Q=T.Da.g.parse(_),_=0;_<Q.length;_++){let mt=Q[_];if(T.T=mt[0],mt=mt[1],T.G==2)if(mt[0]=="c"){T.K=mt[1],T.ia=mt[2];const _n=mt[3];_n!=null&&(T.la=_n,T.j.info("VER="+T.la));const cn=mt[4];cn!=null&&(T.Aa=cn,T.j.info("SVER="+T.Aa));const ns=mt[5];ns!=null&&typeof ns=="number"&&0<ns&&(R=1.5*ns,T.L=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const An=f.g;if(An){const Ti=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var ie=R.h;ie.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(ko(ie,ie.h),ie.h=null))}if(R.D){const pu=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;pu&&(R.ya=pu,Dt(R.I,R.D,pu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),R=T;var Ee=f;if(R.qa=Dh(R,R.J?R.ia:null,R.W),Ee.K){Qn(R.h,Ee);var dt=Ee,un=R.L;un&&(dt.I=un),dt.B&&(hr(dt),Yn(dt)),R.g=Ee}else xh(R);0<T.i.length&&qo(T)}else mt[0]!="stop"&&mt[0]!="close"||ts(T,7);else T.G==3&&(mt[0]=="stop"||mt[0]=="close"?mt[0]=="stop"?ts(T,7):hu(T):mt[0]!="noop"&&T.l&&T.l.ta(mt),T.v=0)}}Y(4)}catch{}}var mi=class{constructor(f,_){this.g=f,this.map=_}};function St(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fr(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Qi(f){return f.h?1:f.g?f.g.size:0}function ka(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function ko(f,_){f.g?f.g.add(_):f.h=_}function Qn(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}St.prototype.cancel=function(){if(this.i=iu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function iu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const T of f.g.values())_=_.concat(T.D);return _}return V(f.i)}function Cm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var _=[],T=f.length,R=0;R<T;R++)_.push(f[R]);return _}_=[],T=0;for(R in f)_[T++]=f[R];return _}function Lo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var _=[];f=f.length;for(var T=0;T<f;T++)_.push(T);return _}_=[],T=0;for(const R in f)_[T++]=R;return _}}}function su(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var T=Lo(f),R=Cm(f),Q=R.length,ie=0;ie<Q;ie++)_.call(void 0,R[ie],T&&T[ie],f)}var La=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dm(f,_){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var R=f[T].indexOf("="),Q=null;if(0<=R){var ie=f[T].substring(0,R);Q=f[T].substring(R+1)}else ie=f[T];_(ie,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function rn(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof rn){this.h=f.h,Ua(this,f.j),this.o=f.o,this.g=f.g,Ms(this,f.s),this.l=f.l;var _=f.i,T=new Wi;T.i=_.i,_.g&&(T.g=new Map(_.g),T.h=_.h),Xi(this,T),this.m=f.m}else f&&(_=String(f).match(La))?(this.h=!1,Ua(this,_[1]||"",!0),this.o=Pr(_[2]||""),this.g=Pr(_[3]||"",!0),Ms(this,_[4]),this.l=Pr(_[5]||"",!0),Xi(this,_[6]||"",!0),this.m=Pr(_[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}rn.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Fa(_,au,!0),":");var T=this.g;return(T||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Fa(_,au,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(Fa(T,T.charAt(0)=="/"?Im:ou,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",Fa(T,Uo)),f.join("")};function dr(f){return new rn(f)}function Ua(f,_,T){f.j=T?Pr(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function Ms(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Xi(f,_,T){_ instanceof Wi?(f.i=_,Eh(f.i,f.h)):(T||(_=Fa(_,Mm)),f.i=new Wi(_,f.h))}function Dt(f,_,T){f.i.set(_,T)}function ja(f){return Dt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Pr(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Fa(f,_,T){return typeof f=="string"?(f=encodeURI(f).replace(_,_h),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _h(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var au=/[#\/\?@]/g,ou=/[#\?:]/g,Im=/[#\?]/g,Mm=/[#\?@]/g,Uo=/#/g;function Wi(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Nr(f){f.g||(f.g=new Map,f.h=0,f.i&&Dm(f.i,function(_,T){f.add(decodeURIComponent(_.replace(/\+/g," ")),T)}))}t=Wi.prototype,t.add=function(f,_){Nr(this),this.i=null,f=pi(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(_),this.h+=1,this};function Zi(f,_){Nr(f),_=pi(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Ji(f,_){return Nr(f),_=pi(f,_),f.g.has(_)}t.forEach=function(f,_){Nr(this),this.g.forEach(function(T,R){T.forEach(function(Q){f.call(_,Q,R,this)},this)},this)},t.na=function(){Nr(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),T=[];for(let R=0;R<_.length;R++){const Q=f[R];for(let ie=0;ie<Q.length;ie++)T.push(_[R])}return T},t.V=function(f){Nr(this);let _=[];if(typeof f=="string")Ji(this,f)&&(_=_.concat(this.g.get(pi(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)_=_.concat(f[T])}return _},t.set=function(f,_){return Nr(this),this.i=null,f=pi(this,f),Ji(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},t.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function lu(f,_,T){Zi(f,_),0<T.length&&(f.i=null,f.g.set(pi(f,_),V(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var T=0;T<_.length;T++){var R=_[T];const ie=encodeURIComponent(String(R)),Ee=this.V(R);for(R=0;R<Ee.length;R++){var Q=ie;Ee[R]!==""&&(Q+="="+encodeURIComponent(String(Ee[R]))),f.push(Q)}}return this.i=f.join("&")};function pi(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Eh(f,_){_&&!f.j&&(Nr(f),f.i=null,f.g.forEach(function(T,R){var Q=R.toLowerCase();R!=Q&&(Zi(this,R),lu(this,Q,T))},f)),f.j=_}function Ba(f,_){const T=new De;if(h.Image){const R=new Image;R.onload=w(Vr,T,"TestLoadImage: loaded",!0,_,R),R.onerror=w(Vr,T,"TestLoadImage: error",!1,_,R),R.onabort=w(Vr,T,"TestLoadImage: abort",!1,_,R),R.ontimeout=w(Vr,T,"TestLoadImage: timeout",!1,_,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else _(!1)}function Zr(f,_){const T=new De,R=new AbortController,Q=setTimeout(()=>{R.abort(),Vr(T,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:R.signal}).then(ie=>{clearTimeout(Q),ie.ok?Vr(T,"TestPingServer: ok",!0,_):Vr(T,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(Q),Vr(T,"TestPingServer: error",!1,_)})}function Vr(f,_,T,R,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),R(T)}catch{}}function za(){this.g=new Rr}function gi(f,_,T){const R=T||"";try{su(f,function(Q,ie){let Ee=Q;p(Q)&&(Ee=Vn(Q)),_.push(R+ie+"="+encodeURIComponent(Ee))})}catch(Q){throw _.push(R+"type="+encodeURIComponent("_badmap")),Q}}function Os(f){this.l=f.Ub||null,this.j=f.eb||!1}A(Os,Cr),Os.prototype.g=function(){return new es(this.l,this.j)},Os.prototype.i=function(f){return function(){return f}}({});function es(f,_){pe.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(es,pe),t=es.prototype,t.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,vi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uu(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function uu(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?yi(this):vi(this),this.readyState==3&&uu(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,yi(this))},t.Qa=function(f){this.g&&(this.response=f,yi(this))},t.ga=function(){this.g&&yi(this)};function yi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,vi(f)}t.setRequestHeader=function(f,_){this.u.append(f,_)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var T=_.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=_.next();return f.join(`\r
`)};function vi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(es.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function cu(f){let _="";return ne(f,function(T,R){_+=R,_+=":",_+=T,_+=`\r
`}),_}function vn(f,_,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=cu(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):Dt(f,_,T))}function xt(f){pe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(xt,pe);var jo=/^https?$/i,Ha=["POST","PUT"];t=xt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,_,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nt.g(),this.v=this.o?Na(this.o):Na(Nt),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(ie){Th(this,ie);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var Q in R)T.set(Q,R[Q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ie of R.keys())T.set(ie,R.get(ie));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(ie=>ie.toLowerCase()=="content-type"),Q=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ha,_,void 0))||R||Q||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,Ee]of T)this.g.setRequestHeader(ie,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qa(this),this.u=!0,this.g.send(f),this.u=!1}catch(ie){Th(this,ie)}};function Th(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,Fo(f),_i(f)}function Fo(f){f.A||(f.A=!0,le(f,"complete"),le(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,le(this,"complete"),le(this,"abort"),_i(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_i(this,!0)),xt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bo(this):this.bb())},t.bb=function(){Bo(this)};function Bo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||kr(f)!=4||f.Z()!=2)){if(f.u&&kr(f)==4)je(f.Ea,0,f);else if(le(f,"readystatechange"),kr(f)==4){f.h=!1;try{const Ee=f.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var T;if(!(T=_)){var R;if(R=Ee===0){var Q=String(f.D).match(La)[1]||null;!Q&&h.self&&h.self.location&&(Q=h.self.location.protocol.slice(0,-1)),R=!jo.test(Q?Q.toLowerCase():"")}T=R}if(T)le(f,"complete"),le(f,"success");else{f.m=6;try{var ie=2<kr(f)?f.g.statusText:""}catch{ie=""}f.l=ie+" ["+f.Z()+"]",Fo(f)}}finally{_i(f)}}}}function _i(f,_){if(f.g){qa(f);const T=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||le(f,"ready");try{T.onreadystatechange=R}catch{}}}function qa(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function kr(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<kr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),nr(_)}};function bh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Om(f){const _={};f=(f.g&&2<=kr(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(j(f[R]))continue;var T=U(f[R]);const Q=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const ie=_[Q]||[];_[Q]=ie,ie.push(T)}N(_,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(f,_,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||_}function zo(f){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=$a("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=$a("baseRetryDelayMs",5e3,f),this.cb=$a("retryDelaySeedMs",1e4,f),this.Wa=$a("forwardChannelMaxRetries",2,f),this.wa=$a("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new St(f&&f.concurrentRequestLimit),this.Da=new za,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zo.prototype,t.la=8,t.G=1,t.connect=function(f,_,T,R){ue(0),this.W=f,this.H=_||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.I=Dh(this,null,this.W),qo(this)};function hu(f){if(wh(f),f.G==3){var _=f.U++,T=dr(f.I);if(Dt(T,"SID",f.K),Dt(T,"RID",_),Dt(T,"TYPE","terminate"),Ga(f,T),_=new rt(f,f.j,_),_.L=2,_.v=ja(dr(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=_.v,T=!0),T||(_.g=Ih(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Yn(_)}Ch(f)}function Ho(f){f.g&&(Ka(f),f.g.cancel(),f.g=null)}function wh(f){Ho(f),f.u&&(h.clearTimeout(f.u),f.u=null),$o(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function qo(f){if(!fr(f.h)&&!f.s){f.s=!0;var _=f.Ga;me||B(),be||(me(),be=!0),Ue.add(_,f),f.B=0}}function Pm(f,_){return Qi(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=xe(E(f.Ga,f,_),mu(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new rt(this,this.j,f);let ie=this.o;if(this.S&&(ie?(ie=x(ie),k(ie,this.S)):ie=this.S),this.m!==null||this.O||(Q.H=ie,ie=null),this.P)e:{for(var _=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=T;break e}if(_===4096||T===this.i.length-1){_=T+1;break e}}_=1e3}else _=1e3;_=Sh(this,Q,_),T=dr(this.I),Dt(T,"RID",f),Dt(T,"CVER",22),this.D&&Dt(T,"X-HTTP-Session-Id",this.D),Ga(this,T),ie&&(this.O?_="headers="+encodeURIComponent(String(cu(ie)))+"&"+_:this.m&&vn(T,this.m,ie)),ko(this.h,Q),this.Ua&&Dt(T,"TYPE","init"),this.P?(Dt(T,"$req",_),Dt(T,"SID","null"),Q.T=!0,Yt(Q,T,null)):Yt(Q,T,_),this.G=2}}else this.G==3&&(f?fu(this,f):this.i.length==0||fr(this.h)||fu(this))};function fu(f,_){var T;_?T=_.l:T=f.U++;const R=dr(f.I);Dt(R,"SID",f.K),Dt(R,"RID",T),Dt(R,"AID",f.T),Ga(f,R),f.m&&f.o&&vn(R,f.m,f.o),T=new rt(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Sh(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ko(f.h,T),Yt(T,R,_)}function Ga(f,_){f.H&&ne(f.H,function(T,R){Dt(_,R,T)}),f.l&&su({},function(T,R){Dt(_,R,T)})}function Sh(f,_,T){T=Math.min(f.i.length,T);var R=f.l?E(f.l.Na,f.l,f):null;e:{var Q=f.i;let ie=-1;for(;;){const Ee=["count="+T];ie==-1?0<T?(ie=Q[0].g,Ee.push("ofs="+ie)):ie=0:Ee.push("ofs="+ie);let dt=!0;for(let un=0;un<T;un++){let mt=Q[un].g;const _n=Q[un].map;if(mt-=ie,0>mt)ie=Math.max(0,Q[un].g-100),dt=!1;else try{gi(_n,Ee,"req"+mt+"_")}catch{R&&R(_n)}}if(dt){R=Ee.join("&");break e}}}return f=f.i.splice(0,T),_.D=f,R}function xh(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;me||B(),be||(me(),be=!0),Ue.add(_,f),f.v=0}}function du(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=xe(E(f.Fa,f),mu(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Ah(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=xe(E(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ue(10),Ho(this),Ah(this))};function Ka(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Ah(f){f.g=new rt(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=dr(f.qa);Dt(_,"RID","rpc"),Dt(_,"SID",f.K),Dt(_,"AID",f.T),Dt(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Dt(_,"TO",f.ja),Dt(_,"TYPE","xmlhttp"),Ga(f,_),f.m&&f.o&&vn(_,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=ja(dr(_)),T.m=null,T.P=!0,nn(T,f)}t.Za=function(){this.C!=null&&(this.C=null,Ho(this),du(this),ue(19))};function $o(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Rh(f,_){var T=null;if(f.g==_){$o(f),Ka(f),f.g=null;var R=2}else if(ka(f.h,_))T=_.D,Qn(f.h,_),R=1;else return;if(f.G!=0){if(_.o)if(R==1){T=_.m?_.m.length:0,_=Date.now()-_.F;var Q=f.B;R=fi(),le(R,new ve(R,T)),qo(f)}else xh(f);else if(Q=_.s,Q==3||Q==0&&0<_.X||!(R==1&&Pm(f,_)||R==2&&du(f)))switch(T&&0<T.length&&(_=f.h,_.i=_.i.concat(T)),Q){case 1:ts(f,5);break;case 4:ts(f,10);break;case 3:ts(f,6);break;default:ts(f,2)}}}function mu(f,_){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*_}function ts(f,_){if(f.j.info("Error code "+_),_==2){var T=E(f.fb,f),R=f.Xa;const Q=!R;R=new rn(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ua(R,"https"),ja(R),Q?Ba(R.toString(),T):Zr(R.toString(),T)}else ue(2);f.G=0,f.l&&f.l.sa(_),Ch(f),wh(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Ch(f){if(f.G=0,f.ka=[],f.l){const _=iu(f.h);(_.length!=0||f.i.length!=0)&&(O(f.ka,_),O(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function Dh(f,_,T){var R=T instanceof rn?dr(T):new rn(T);if(R.g!="")_&&(R.g=_+"."+R.g),Ms(R,R.s);else{var Q=h.location;R=Q.protocol,_=_?_+"."+Q.hostname:Q.hostname,Q=+Q.port;var ie=new rn(null);R&&Ua(ie,R),_&&(ie.g=_),Q&&Ms(ie,Q),T&&(ie.l=T),R=ie}return T=f.D,_=f.ya,T&&_&&Dt(R,T,_),Dt(R,"VER",f.la),Ga(f,R),R}function Ih(f,_,T){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new xt(new Os({eb:T})):new xt(f.pa),_.Ha(f.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mh(){}t=Mh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Go(){}Go.prototype.g=function(f,_){return new Xn(f,_)};function Xn(f,_){pe.call(this),this.g=new zo(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!j(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!j(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new Ei(this)}A(Xn,pe),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){hu(this.g)},Xn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=Vn(f),f=T);_.i.push(new mi(_.Ya++,f)),_.G==3&&qo(_)},Xn.prototype.N=function(){this.g.l=null,delete this.j,hu(this.g),delete this.g,Xn.aa.N.call(this)};function Oh(f){Dr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const T in _){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}A(Oh,Dr);function Ph(){hi.call(this),this.status=1}A(Ph,hi);function Ei(f){this.g=f}A(Ei,Mh),Ei.prototype.ua=function(){le(this.g,"a")},Ei.prototype.ta=function(f){le(this.g,new Oh(f))},Ei.prototype.sa=function(f){le(this.g,new Ph)},Ei.prototype.ra=function(){le(this.g,"b")},Go.prototype.createWebChannel=Go.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,bR=function(){return new Go},TR=function(){return fi()},ER=Kn,by={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ze.NO_ERROR=0,Ze.TIMEOUT=8,Ze.HTTP_ERROR=6,nd=Ze,vt.COMPLETE="complete",_R=vt,Ds.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",pe.prototype.listen=pe.prototype.K,pc=Ds,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,vR=xt}).apply(typeof Uf<"u"?Uf:typeof self<"u"?self:typeof window<"u"?window:{});const gw="@firebase/firestore",yw="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new gv("@firebase/firestore");function Sl(){return Ao.logLevel}function Ae(t,...e){if(Ao.logLevel<=ut.DEBUG){const n=e.map(Cv);Ao.debug(`Firestore (${Zl}): ${t}`,...n)}}function ws(t,...e){if(Ao.logLevel<=ut.ERROR){const n=e.map(Cv);Ao.error(`Firestore (${Zl}): ${t}`,...n)}}function Fl(t,...e){if(Ao.logLevel<=ut.WARN){const n=e.map(Cv);Ao.warn(`Firestore (${Zl}): ${t}`,...n)}}function Cv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,wR(t,r,n)}function wR(t,e,n){let r=`FIRESTORE (${Zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ws(r),new Error(r)}function At(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||wR(e,a,r)}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends As{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}}class Ok{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Pk{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){At(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new ma;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ma,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ma)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(At(typeof r.accessToken=="string",31837,{l:r}),new SR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return At(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}class Nk{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Vk{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Nk(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kk{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){At(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const a=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>a(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(At(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Lk(40);for(let o=0;o<a.length;++o)r.length<20&&a[o]<n&&(r+=e.charAt(a[o]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function wy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return nt(r,a);{const o=xR(),u=Uk(o.encode(_w(t,n)),o.encode(_w(e,n)));return u!==0?u:nt(r,a)}}n+=r>65535?2:1}return nt(t.length,e.length)}function _w(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Uk(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return nt(t[n],e[n]);return nt(t.length,e.length)}function Bl(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=-62135596800,Tw=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Tw);return new en(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ew)throw new Le(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tw}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ew;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new en(0,0))}static max(){return new Xe(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="__name__";class Ri{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Qe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ri.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ri?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const o=Ri.compareSegments(e.get(a),n.get(a));if(o!==0)return o}return nt(e.length,n.length)}static compareSegments(e,n){const r=Ri.isNumericId(e),a=Ri.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Ri.extractNumericId(e).compare(Ri.extractNumericId(n)):wy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class Kt extends Ri{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Kt(n)}static emptyPath(){return new Kt([])}}const jk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class On extends Ri{construct(e,n,r){return new On(e,n,r)}static isValidIdentifier(e){return jk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),On.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===bw}static keyField(){return new On([bw])}static fromServerFormat(e){const n=[];let r="",a=0;const o=()=>{if(r.length===0)throw new Le(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new Le(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Le(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(o(),a++)}if(o(),u)throw new Le(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new On(n)}static emptyPath(){return new On([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Kt.fromString(e))}static fromName(e){return new Be(Kt.fromString(e).popFirst(5))}static empty(){return new Be(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=-1;function Fk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Xe.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new va(a,Be.empty(),e)}function Bk(t){return new va(t.readTime,t.key,Lc)}class va{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new va(Xe.min(),Be.empty(),Lc)}static max(){return new va(Xe.max(),Be.empty(),Lc)}}function zk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==Hk)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,a)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,a)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let a=0,o=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++o,u&&o===a&&n()},d=>r(d))}),u=!0,o===a&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(a=>a?de.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,o)=>{r.push(n.call(this,a,o))}),this.waitFor(r)}static mapArray(e,n){return new de((r,a)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;n(e[p]).next(g=>{u[p]=g,++h,h===o&&r(u)},g=>a(g))}})}static doWhile(e,n){return new de((r,a)=>{const o=()=>{e()===!0?n().next(()=>{o()},a):r()};o()})}}function $k(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}im.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv=-1;function sm(t){return t==null}function xd(t){return t===0&&1/t==-1/0}function Gk(t){return typeof t=="number"&&Number.isInteger(t)&&!xd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="";function Kk(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ww(e)),e=Yk(t.get(n),e);return ww(e)}function Yk(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const o=t.charAt(a);switch(o){case"\0":n+="";break;case RR:n+="";break;default:n+=o}}return n}function ww(t){return t+RR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Da(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n){this.comparator=e,this.root=n||Mn.EMPTY}insert(e,n){return new Ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mn.BLACK,null,null))}remove(e){return new Ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jf(this.root,e,this.comparator,!1)}getReverseIterator(){return new jf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jf(this.root,e,this.comparator,!0)}}class jf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&a&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mn{constructor(e,n,r,a,o){this.key=e,this.value=n,this.color=r??Mn.RED,this.left=a??Mn.EMPTY,this.right=o??Mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,o){return new Mn(e??this.key,n??this.value,r??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const o=r(e,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(e,n,r),null):o===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Mn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Qe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Qe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Qe(27949);return e+(this.isRed()?0:1)}}Mn.EMPTY=null,Mn.RED=!0,Mn.BLACK=!1;Mn.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe(57766)}get value(){throw Qe(16141)}get color(){throw Qe(16727)}get left(){throw Qe(29726)}get right(){throw Qe(36894)}copy(e,n,r,a,o){return this}insert(e,n,r){return new Mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xw(this.data.getIterator())}getIteratorFrom(e){return new xw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class xw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new br([])}unionWith(e){let n=new pn(On.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new DR("Invalid base64 string: "+o):o}}(e);return new Pn(n)}static fromUint8Array(e){const n=function(a){let o="";for(let u=0;u<a.length;++u)o+=String.fromCharCode(a[u]);return o}(e);return new Pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pn.EMPTY_BYTE_STRING=new Pn("");const Qk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _a(t){if(At(!!t,39018),typeof t=="string"){let e=0;const n=Qk.exec(t);if(At(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ea(t){return typeof t=="string"?Pn.fromBase64String(t):Pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="server_timestamp",MR="__type__",OR="__previous_value__",PR="__local_write_time__";function Iv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[MR])===null||n===void 0?void 0:n.stringValue)===IR}function am(t){const e=t.mapValue.fields[OR];return Iv(e)?am(e):e}function Uc(t){const e=_a(t.mapValue.fields[PR].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,n,r,a,o,u,h,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p}}const Ad="(default)";class jc{constructor(e,n){this.projectId=e,this.database=n||Ad}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Ad}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="__type__",Wk="__max__",Ff={mapValue:{}},VR="__vector__",Rd="value";function Ta(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iv(t)?4:Jk(t)?9007199254740991:Zk(t)?10:11:Qe(28295,{value:t})}function zi(t,e){if(t===e)return!0;const n=Ta(t);if(n!==Ta(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Uc(t).isEqual(Uc(e));case 3:return function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const u=_a(a.timestampValue),h=_a(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,o){return Ea(a.bytesValue).isEqual(Ea(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,o){return Zt(a.geoPointValue.latitude)===Zt(o.geoPointValue.latitude)&&Zt(a.geoPointValue.longitude)===Zt(o.geoPointValue.longitude)}(t,e);case 2:return function(a,o){if("integerValue"in a&&"integerValue"in o)return Zt(a.integerValue)===Zt(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const u=Zt(a.doubleValue),h=Zt(o.doubleValue);return u===h?xd(u)===xd(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return Bl(t.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return function(a,o){const u=a.mapValue.fields||{},h=o.mapValue.fields||{};if(Sw(u)!==Sw(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!zi(u[d],h[d])))return!1;return!0}(t,e);default:return Qe(52216,{left:t})}}function Fc(t,e){return(t.values||[]).find(n=>zi(n,e))!==void 0}function zl(t,e){if(t===e)return 0;const n=Ta(t),r=Ta(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Zt(o.integerValue||o.doubleValue),d=Zt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return Aw(t.timestampValue,e.timestampValue);case 4:return Aw(Uc(t),Uc(e));case 5:return wy(t.stringValue,e.stringValue);case 6:return function(o,u){const h=Ea(o),d=Ea(u);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let p=0;p<h.length&&p<d.length;p++){const g=nt(h[p],d[p]);if(g!==0)return g}return nt(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const h=nt(Zt(o.latitude),Zt(u.latitude));return h!==0?h:nt(Zt(o.longitude),Zt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rw(t.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,p,g;const v=o.fields||{},E=u.fields||{},w=(h=v[Rd])===null||h===void 0?void 0:h.arrayValue,A=(d=E[Rd])===null||d===void 0?void 0:d.arrayValue,V=nt(((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return V!==0?V:Rw(w,A)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===Ff.mapValue&&u===Ff.mapValue)return 0;if(o===Ff.mapValue)return 1;if(u===Ff.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=u.fields||{},g=Object.keys(p);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const E=wy(d[v],g[v]);if(E!==0)return E;const w=zl(h[d[v]],p[g[v]]);if(w!==0)return w}return nt(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Qe(23264,{Pe:n})}}function Aw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=_a(t),r=_a(e),a=nt(n.seconds,r.seconds);return a!==0?a:nt(n.nanos,r.nanos)}function Rw(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const o=zl(n[a],r[a]);if(o)return o}return nt(n.length,r.length)}function Hl(t){return Sy(t)}function Sy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=_a(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ea(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const o of n.values||[])a?a=!1:r+=",",r+=Sy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",o=!0;for(const u of r)o?o=!1:a+=",",a+=`${u}:${Sy(n.fields[u])}`;return a+"}"}(t.mapValue):Qe(61005,{value:t})}function rd(t){switch(Ta(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=am(t);return e?16+rd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ea(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,o)=>a+rd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Da(r.fields,(o,u)=>{a+=o.length+rd(u)}),a}(t.mapValue);default:throw Qe(13486,{value:t})}}function xy(t){return!!t&&"integerValue"in t}function Mv(t){return!!t&&"arrayValue"in t}function Cw(t){return!!t&&"nullValue"in t}function Dw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function id(t){return!!t&&"mapValue"in t}function Zk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NR])===null||n===void 0?void 0:n.stringValue)===VR}function Tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Da(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Jk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Wk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!id(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=On.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=Tc(u):a.push(h.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,a)}delete(e){const n=this.field(e.popLast());id(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];id(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Da(n,(a,o)=>e[a]=o);for(const a of r)delete e[a]}clone(){return new ur(Tc(this.value))}}function kR(t){const e=[];return Da(t.fields,(n,r)=>{const a=new On([n]);if(id(r)){const o=kR(r.mapValue).fields;if(o.length===0)e.push(a);else for(const u of o)e.push(a.child(u))}else e.push(a)}),new br(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,n,r,a,o,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,Xe.min(),Xe.min(),Xe.min(),ur.empty(),0)}static newFoundDocument(e,n,r,a){return new zn(e,1,n,Xe.min(),r,a,0)}static newNoDocument(e,n){return new zn(e,2,n,Xe.min(),Xe.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,Xe.min(),Xe.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.position=e,this.inclusive=n}}function Iw(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const o=e[a],u=t.position[a];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(u.referenceValue),n.key):r=zl(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function eL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class mn extends LR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nL(e,n,r):n==="array-contains"?new sL(e,r):n==="in"?new aL(e,r):n==="not-in"?new oL(e,r):n==="array-contains-any"?new lL(e,r):new mn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rL(e,r):new iL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zl(n,this.value)):n!==null&&Ta(this.value)===Ta(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends LR{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Hi(e,n)}matches(e){return UR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function UR(t){return t.op==="and"}function jR(t){return tL(t)&&UR(t)}function tL(t){for(const e of t.filters)if(e instanceof Hi)return!1;return!0}function Ay(t){if(t instanceof mn)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(jR(t))return t.filters.map(e=>Ay(e)).join(",");{const e=t.filters.map(n=>Ay(n)).join(",");return`${t.op}(${e})`}}function FR(t,e){return t instanceof mn?function(r,a){return a instanceof mn&&r.op===a.op&&r.field.isEqual(a.field)&&zi(r.value,a.value)}(t,e):t instanceof Hi?function(r,a){return a instanceof Hi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((o,u,h)=>o&&FR(u,a.filters[h]),!0):!1}(t,e):void Qe(19439)}function BR(t){return t instanceof mn?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof Hi?function(n){return n.op.toString()+" {"+n.getFilters().map(BR).join(" ,")+"}"}(t):"Filter"}class nL extends mn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class rL extends mn{constructor(e,n){super(e,"in",n),this.keys=zR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iL extends mn{constructor(e,n){super(e,"not-in",n),this.keys=zR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class sL extends mn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mv(n)&&Fc(n.arrayValue,this.value)}}class aL extends mn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fc(this.value.arrayValue,n)}}class oL extends mn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Fc(this.value.arrayValue,n)}}class lL extends mn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n=null,r=[],a=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=o,this.startAt=u,this.endAt=h,this.Ie=null}}function Ow(t,e=null,n=[],r=[],a=null,o=null,u=null){return new uL(t,e,n,r,a,o,u)}function Ov(t){const e=We(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ay(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hl(r)).join(",")),e.Ie=n}return e.Ie}function Pv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mw(t.startAt,e.startAt)&&Mw(t.endAt,e.endAt)}function Ry(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n=null,r=[],a=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function cL(t,e,n,r,a,o,u,h){return new om(t,e,n,r,a,o,u,h)}function Nv(t){return new om(t)}function Pw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hL(t){return t.collectionGroup!==null}function bc(t){const e=We(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new pn(On.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Dd(o,r))}),n.has(On.keyField().canonicalString())||e.Ee.push(new Dd(On.keyField(),r))}return e.Ee}function Vi(t){const e=We(t);return e.de||(e.de=fL(e,bc(t))),e.de}function fL(t,e){if(t.limitType==="F")return Ow(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const o=a.dir==="desc"?"asc":"desc";return new Dd(a.field,o)});const n=t.endAt?new Cd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cd(t.startAt.position,t.startAt.inclusive):null;return Ow(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cy(t,e,n){return new om(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lm(t,e){return Pv(Vi(t),Vi(e))&&t.limitType===e.limitType}function HR(t){return`${Ov(Vi(t))}|lt:${t.limitType}`}function xl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>BR(a)).join(", ")}]`),sm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>Hl(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>Hl(a)).join(",")),`Target(${r})`}(Vi(t))}; limitType=${t.limitType})`}function um(t,e){return e.isFoundDocument()&&function(r,a){const o=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,a){for(const o of bc(r))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const o of r.filters)if(!o.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,h,d){const p=Iw(u,h,d);return u.inclusive?p<=0:p<0}(r.startAt,bc(r),a)||r.endAt&&!function(u,h,d){const p=Iw(u,h,d);return u.inclusive?p>=0:p>0}(r.endAt,bc(r),a))}(t,e)}function dL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qR(t){return(e,n)=>{let r=!1;for(const a of bc(t)){const o=mL(a,e,n);if(o!==0)return o;r=r||a.field.isKeyField()}return 0}}function mL(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(o,u,h){const d=u.data.field(o),p=h.data.field(o);return d!==null&&p!==null?zl(d,p):Qe(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,o]of r)if(this.equalsFn(a,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return void(a[o]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Da(this.inner,(n,r)=>{for(const[a,o]of r)e(a,o)})}isEmpty(){return CR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new Ht(Be.comparator);function Ss(){return pL}const $R=new Ht(Be.comparator);function gc(...t){let e=$R;for(const n of t)e=e.insert(n.key,n);return e}function GR(t){let e=$R;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function po(){return wc()}function KR(){return wc()}function wc(){return new Oo(t=>t.toString(),(t,e)=>t.isEqual(e))}const gL=new Ht(Be.comparator),yL=new pn(Be.comparator);function ct(...t){let e=yL;for(const n of t)e=e.add(n);return e}const vL=new pn(nt);function _L(){return vL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xd(e)?"-0":e}}function YR(t){return{integerValue:""+t}}function EL(t,e){return Gk(e)?YR(e):Vv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this._=void 0}}function TL(t,e,n){return t instanceof Id?function(a,o){const u={fields:{[MR]:{stringValue:IR},[PR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&Iv(o)&&(o=am(o)),o&&(u.fields[OR]=o),{mapValue:u}}(n,e):t instanceof Bc?XR(t,e):t instanceof zc?WR(t,e):function(a,o){const u=QR(a,o),h=Nw(u)+Nw(a.Re);return xy(u)&&xy(a.Re)?YR(h):Vv(a.serializer,h)}(t,e)}function bL(t,e,n){return t instanceof Bc?XR(t,e):t instanceof zc?WR(t,e):n}function QR(t,e){return t instanceof Md?function(r){return xy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Id extends cm{}class Bc extends cm{constructor(e){super(),this.elements=e}}function XR(t,e){const n=ZR(e);for(const r of t.elements)n.some(a=>zi(a,r))||n.push(r);return{arrayValue:{values:n}}}class zc extends cm{constructor(e){super(),this.elements=e}}function WR(t,e){let n=ZR(e);for(const r of t.elements)n=n.filter(a=>!zi(a,r));return{arrayValue:{values:n}}}class Md extends cm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Nw(t){return Zt(t.integerValue||t.doubleValue)}function ZR(t){return Mv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function wL(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof Bc&&a instanceof Bc||r instanceof zc&&a instanceof zc?Bl(r.elements,a.elements,zi):r instanceof Md&&a instanceof Md?zi(r.Re,a.Re):r instanceof Id&&a instanceof Id}(t.transform,e.transform)}class SL{constructor(e,n){this.version=e,this.transformResults=n}}class ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hm{}function JR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new t1(t.key,ki.none()):new oh(t.key,t.data,ki.none());{const n=t.data,r=ur.empty();let a=new pn(On.comparator);for(let o of e.fields)if(!a.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),a=a.add(o)}return new Ia(t.key,r,new br(a.toArray()),ki.none())}}function xL(t,e,n){t instanceof oh?function(a,o,u){const h=a.value.clone(),d=kw(a.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Ia?function(a,o,u){if(!sd(a.precondition,o))return void o.convertToUnknownDocument(u.version);const h=kw(a.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(e1(a)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Sc(t,e,n,r){return t instanceof oh?function(o,u,h,d){if(!sd(o.precondition,u))return h;const p=o.value.clone(),g=Lw(o.fieldTransforms,d,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ia?function(o,u,h,d){if(!sd(o.precondition,u))return h;const p=Lw(o.fieldTransforms,d,u),g=u.data;return g.setAll(e1(o)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(o,u,h){return sd(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function AL(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),o=QR(r.transform,a||null);o!=null&&(n===null&&(n=ur.empty()),n.set(r.field,o))}return n||null}function Vw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Bl(r,a,(o,u)=>wL(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class oh extends hm{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ia extends hm{constructor(e,n,r,a,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function e1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kw(t,e,n){const r=new Map;At(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const o=t[a],u=o.transform,h=e.data.field(o.field);r.set(o.field,bL(u,h,n[a]))}return r}function Lw(t,e,n){const r=new Map;for(const a of t){const o=a.transform,u=n.data.field(a.field);r.set(a.field,TL(o,u,e))}return r}class t1 extends hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RL extends hm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(e.key)&&xL(o,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Sc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KR();return this.mutations.forEach(a=>{const o=e.get(a.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=n.has(a.key)?null:h;const d=JR(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ct())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,(n,r)=>Vw(n,r))&&Bl(this.baseMutations,e.baseMutations,(n,r)=>Vw(n,r))}}class kv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){At(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return gL}();const o=e.mutations;for(let u=0;u<o.length;u++)a=a.insert(o[u].key,r[u].version);return new kv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,gt;function ML(t){switch(t){case ye.OK:return Qe(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return Qe(15467,{code:t})}}function n1(t){if(t===void 0)return ws("GRPC error has no .code"),ye.UNKNOWN;switch(t){case on.OK:return ye.OK;case on.CANCELLED:return ye.CANCELLED;case on.UNKNOWN:return ye.UNKNOWN;case on.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case on.INTERNAL:return ye.INTERNAL;case on.UNAVAILABLE:return ye.UNAVAILABLE;case on.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case on.NOT_FOUND:return ye.NOT_FOUND;case on.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case on.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case on.ABORTED:return ye.ABORTED;case on.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case on.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case on.DATA_LOSS:return ye.DATA_LOSS;default:return Qe(39323,{code:t})}}(gt=on||(on={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=new da([4294967295,4294967295],0);function Uw(t){const e=xR().encode(t),n=new yR;return n.update(e),new Uint8Array(n.digest())}function jw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new da([n,r],0),new da([a,o],0)]}class Lv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yc(`Invalid padding: ${n}`);if(r<0)throw new yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=da.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(da.fromNumber(r)));return a.compare(OL)===1&&(a=new da([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Uw(e),[r,a]=jw(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Lv(o,a,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const n=Uw(e),[r,a]=jw(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,a,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n,r,a,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,lh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fm(Xe.min(),a,new Ht(nt),Ss(),ct())}}class lh{constructor(e,n,r,a,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lh(r,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class r1{constructor(e,n){this.targetId=e,this.Ce=n}}class i1{constructor(e,n,r=Pn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class Fw{constructor(){this.Fe=0,this.Me=Bw(),this.xe=Pn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ct(),n=ct(),r=ct();return this.Me.forEach((a,o)=>{switch(o){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Qe(38017,{changeType:o})}}),new lh(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Bw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,At(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PL{constructor(e){this.ze=e,this.je=new Map,this.He=Ss(),this.Je=Bf(),this.Ye=Bf(),this.Ze=new Ht(nt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Qe(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const o=a.target;if(Ry(o))if(r===0){const u=new Be(o.path);this.tt(n,u,zn.newNoDocument(u,Xe.min()))}else At(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const h=this.ct(e),d=h?this.lt(h,e,u):1;if(d!==0){this.st(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:o=0}=n;let u,h;try{u=Ea(r).toUint8Array()}catch(d){if(d instanceof DR)return Fl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Lv(u,a,o)}catch(d){return Fl(d instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.pe===0?null:h}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(o=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,o,null),a++)}),a}It(e){const n=new Map;this.je.forEach((o,u)=>{const h=this._t(u);if(h){if(o.current&&Ry(h.target)){const d=new Be(h.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,zn.newNoDocument(d,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=ct();this.Ye.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const a=new fm(e,n,this.Ze,this.He,r);return this.He=Ss(),this.Je=Bf(),this.Ye=Bf(),this.Ze=new Ht(nt),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Fw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new pn(nt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new pn(nt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ae("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Fw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Bf(){return new Ht(Be.comparator)}function Bw(){return new Ht(Be.comparator)}const NL={asc:"ASCENDING",desc:"DESCENDING"},VL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kL={and:"AND",or:"OR"};class LL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dy(t,e){return t.useProto3Json||sm(e)?e:{value:e}}function Od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function UL(t,e){return Od(t,e.toTimestamp())}function Li(t){return At(!!t,49232),Xe.fromTimestamp(function(n){const r=_a(n);return new en(r.seconds,r.nanos)}(t))}function Uv(t,e){return Iy(t,e).canonicalString()}function Iy(t,e){const n=function(a){return new Kt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function a1(t){const e=Kt.fromString(t);return At(h1(e),10190,{key:e.toString()}),e}function My(t,e){return Uv(t.databaseId,e.path)}function zg(t,e){const n=a1(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(l1(n))}function o1(t,e){return Uv(t.databaseId,e)}function jL(t){const e=a1(t);return e.length===4?Kt.emptyPath():l1(e)}function Oy(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function l1(t){return At(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function zw(t,e,n){return{name:My(t,e),fields:n.value.mapValue.fields}}function FL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Qe(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],o=function(p,g){return p.useProto3Json?(At(g===void 0||typeof g=="string",58123),Pn.fromBase64String(g||"")):(At(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Pn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const g=p.code===void 0?ye.UNKNOWN:n1(p.code);return new Le(g,p.message||"")}(u);n=new i1(r,a,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=zg(t,r.document.name),o=Li(r.document.updateTime),u=r.document.createTime?Li(r.document.createTime):Xe.min(),h=new ur({mapValue:{fields:r.document.fields}}),d=zn.newFoundDocument(a,o,u,h),p=r.targetIds||[],g=r.removedTargetIds||[];n=new ad(p,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=zg(t,r.document),o=r.readTime?Li(r.readTime):Xe.min(),u=zn.newNoDocument(a,o),h=r.removedTargetIds||[];n=new ad([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=zg(t,r.document),o=r.removedTargetIds||[];n=new ad([],o,a,null)}else{if(!("filter"in e))return Qe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:o}=r,u=new IL(a,o),h=r.targetId;n=new r1(h,u)}}return n}function BL(t,e){let n;if(e instanceof oh)n={update:zw(t,e.key,e.value)};else if(e instanceof t1)n={delete:My(t,e.key)};else if(e instanceof Ia)n={update:zw(t,e.key,e.data),updateMask:XL(e.fieldMask)};else{if(!(e instanceof RL))return Qe(16599,{ft:e.type});n={verify:My(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof Id)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Bc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof zc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Md)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Qe(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,o){return o.updateTime!==void 0?{updateTime:UL(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Qe(27497)}(t,e.precondition)),n}function zL(t,e){return t&&t.length>0?(At(e!==void 0,14353),t.map(n=>function(a,o){let u=a.updateTime?Li(a.updateTime):Li(o);return u.isEqual(Xe.min())&&(u=Li(o)),new SL(u,a.transformResults||[])}(n,e))):[]}function HL(t,e){return{documents:[o1(t,e.path)]}}function qL(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=o1(t,a);const o=function(p){if(p.length!==0)return c1(Hi.create(p,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Al(E.field),direction:KL(E.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Dy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:a}}function $L(t){let e=jL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){At(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let o=[];n.where&&(o=function(v){const E=u1(v);return E instanceof Hi&&jR(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(E=>function(A){return new Dd(Rl(A.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(v){let E;return E=typeof v=="object"?v.value:v,sm(E)?null:E}(n.limit));let d=null;n.startAt&&(d=function(v){const E=!!v.before,w=v.values||[];return new Cd(w,E)}(n.startAt));let p=null;return n.endAt&&(p=function(v){const E=!v.before,w=v.values||[];return new Cd(w,E)}(n.endAt)),cL(e,a,u,o,h,"F",d,p)}function GL(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Qe(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Rl(n.unaryFilter.field);return mn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Rl(n.unaryFilter.field);return mn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rl(n.unaryFilter.field);return mn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Rl(n.unaryFilter.field);return mn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Qe(61313);default:return Qe(60726)}}(t):t.fieldFilter!==void 0?function(n){return mn.create(Rl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Qe(58110);default:return Qe(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Hi.create(n.compositeFilter.filters.map(r=>u1(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Qe(1026)}}(n.compositeFilter.op))}(t):Qe(30097,{filter:t})}function KL(t){return NL[t]}function YL(t){return VL[t]}function QL(t){return kL[t]}function Al(t){return{fieldPath:t.canonicalString()}}function Rl(t){return On.fromServerFormat(t.fieldPath)}function c1(t){return t instanceof mn?function(n){if(n.op==="=="){if(Dw(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NAN"}};if(Cw(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dw(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NAN"}};if(Cw(n.value))return{unaryFilter:{field:Al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(n.field),op:YL(n.op),value:n.value}}}(t):t instanceof Hi?function(n){const r=n.getFilters().map(a=>c1(a));return r.length===1?r[0]:{compositeFilter:{op:QL(n.op),filters:r}}}(t):Qe(54877,{filter:t})}function XL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,r,a,o=Xe.min(),u=Xe.min(),h=Pn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.wt=e}}function ZL(t){const e=$L({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.yn=new eU}addToCollectionParentIndex(e,n){return this.yn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(va.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(va.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class eU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new pn(Kt.comparator),o=!a.has(r);return this.index[n]=a.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new pn(Kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f1=41943040;class or{static withCacheSize(e){return new or(e,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */or.DEFAULT_COLLECTION_PERCENTILE=10,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,or.DEFAULT=new or(f1,or.DEFAULT_COLLECTION_PERCENTILE,or.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),or.DISABLED=new or(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new ql(0)}static ir(){return new ql(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="LruGarbageCollector",tU=1048576;function $w([t,e],[n,r]){const a=nt(t,n);return a===0?nt(e,r):a}class nU{constructor(e){this.cr=e,this.buffer=new pn($w),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$w(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Ae(qw,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eu(n)?Ae(qw,"Ignoring IndexedDB error during garbage collection: ",n):await Jl(n)}await this.Ir(3e5)})}}class iU{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(im.le);const r=new nU(n);return this.Er.forEachTarget(e,a=>r.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(e,a=>r.Pr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Hw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hw):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,a,o,u,h,d,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,n))).next(v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(p=Date.now(),Sl()<=ut.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-g}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:v})))}}function sU(t,e){return new iU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(){this.changes=new Oo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Sc(r.mutation,a,br.empty(),en.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ct()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ct()){const a=po();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(o=>{let u=gc();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ct()))}populateOverlays(e,n,r){const a=[];return r.forEach(o=>{n.has(o)||a.push(o)}),this.documentOverlayCache.getOverlays(e,a).next(o=>{o.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,a){let o=Ss();const u=wc(),h=function(){return wc()}();return n.forEach((d,p)=>{const g=r.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof Ia)?o=o.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Sc(g.mutation,p,g.mutation.getFieldMask(),en.now())):u.set(p.key,br.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((p,g)=>u.set(p,g)),n.forEach((p,g)=>{var v;return h.set(p,new oU(g,(v=u.get(p))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,n){const r=wc();let a=new Ht((u,h)=>u-h),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let g=r.get(d)||br.empty();g=h.applyToLocalView(p,g),r.set(d,g);const v=(a.get(h.batchId)||ct()).add(d);a=a.insert(h.batchId,v)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,g=d.value,v=KR();g.forEach(E=>{if(!o.has(E)){const w=JR(n.get(E),r.get(E));w!==null&&v.set(E,w),o=o.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,v))}return de.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Be.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(o=>{const u=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-o.size):de.resolve(po());let h=Lc,d=o;return u.next(p=>de.forEach(p,(g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{d=d.insert(g,E)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,d,p,ct())).next(g=>({batchId:h,changes:GR(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let a=gc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const o=n.collectionGroup;let u=gc();return this.indexManager.getCollectionParents(e,o).next(h=>de.forEach(h,d=>{const p=function(v,E){return new om(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(g=>{g.forEach((v,E)=>{u=u.insert(v,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,a))).next(u=>{o.forEach((d,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,zn.newInvalidDocument(g)))});let h=gc();return u.forEach((d,p)=>{const g=o.get(d);g!==void 0&&Sc(g.mutation,p,br.empty(),en.now()),um(n,p)&&(h=h.insert(d,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return de.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Li(a.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(a){return{name:a.name,query:ZL(a.bundledQuery),readTime:Li(a.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(){this.overlays=new Ht(Be.comparator),this.Or=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=po();return de.forEach(n,a=>this.getOverlay(e,a).next(o=>{o!==null&&r.set(a,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,o)=>{this.St(e,n,o)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Or.get(r);return a!==void 0&&(a.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const a=po(),o=n.length+1,u=new Be(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&a.set(d.getKey(),d)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let o=new Ht((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=o.get(p.largestBatchId);g===null&&(g=po(),o=o.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=po(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,g)=>h.set(p,g)),!(h.size()>=a)););return de.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Or.get(a.largestBatchId).delete(r.key);this.Or.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new DL(n,r));let o=this.Or.get(n);o===void 0&&(o=ct(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.sessionToken=Pn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.Nr=new pn(wn.Br),this.Lr=new pn(wn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new wn(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new wn(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Be(new Kt([])),r=new wn(n,e),a=new wn(n,e+1),o=[];return this.Lr.forEachInRange([r,a],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Be(new Kt([])),r=new wn(n,e),a=new wn(n,e+1);let o=ct();return this.Lr.forEachInRange([r,a],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new wn(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class wn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Be.comparator(e.key,n.key)||nt(e.Gr,n.Gr)}static kr(e,n){return nt(e.Gr,n.Gr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new pn(wn.Br)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new CL(o,n,r,a);this.mutationQueue.push(u);for(const h of a)this.zr=this.zr.add(new wn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.Hr(r),o=a<0?0:a;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Dv:this.Jn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new wn(n,0),a=new wn(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,a],u=>{const h=this.jr(u.Gr);o.push(h)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(nt);return n.forEach(a=>{const o=new wn(a,0),u=new wn(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],h=>{r=r.add(h.Gr)})}),de.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const u=new wn(new Be(o),0);let h=new pn(nt);return this.zr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(h=h.add(d.Gr)),!0)},u),de.resolve(this.Jr(h))}Jr(e){const n=[];return e.forEach(r=>{const a=this.jr(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){At(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return de.forEach(n.mutations,a=>{const o=new wn(a.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new wn(n,0),a=this.zr.firstAfterOrEqual(r);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e){this.Zr=e,this.docs=function(){return new Ht(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),o=a?a.size:0,u=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=Ss();return n.forEach(a=>{const o=this.docs.get(a);r=r.insert(a,o?o.document.mutableCopy():zn.newInvalidDocument(a))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let o=Ss();const u=n.path,h=new Be(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:g}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||zk(Bk(g),r)<=0||(a.has(g.key)||um(n,g))&&(o=o.insert(g.key,g.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,n,r,a){Qe(9500)}Xr(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mU(this)}getSize(e){return de.resolve(this.size)}}class mU extends aU{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.vr.addEntry(e,a)):this.vr.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.persistence=e,this.ei=new Oo(n=>Ov(n),Pv),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ti=0,this.ni=new jv,this.targetCount=0,this.ri=ql.rr()}forEachTarget(e,n){return this.ei.forEach((r,a)=>n(a)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),de.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new ql(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.ar(n),de.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let a=0;const o=[];return this.ei.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),de.waitFor(o).next(()=>a)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const a=this.persistence.referenceDelegate,o=[];return a&&n.forEach(u=>{o.push(a.markPotentiallyOrphaned(e,u))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,n){this.ii={},this.overlays={},this.si=new im(0),this.oi=!1,this.oi=!0,this._i=new hU,this.referenceDelegate=e(this),this.ai=new pU(this),this.indexManager=new JL,this.remoteDocumentCache=function(a){return new dU(a)}(r=>this.referenceDelegate.ui(r)),this.serializer=new WL(n),this.ci=new uU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new fU(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Ae("MemoryPersistence","Starting transaction:",e);const a=new gU(this.si.next());return this.referenceDelegate.li(),r(a).next(o=>this.referenceDelegate.hi(a).next(()=>o)).toPromise().then(o=>(a.raiseOnCommittedEvent(),o))}Pi(e,n){return de.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class gU extends qk{constructor(e){super(),this.currentSequenceNumber=e}}class Fv{constructor(e){this.persistence=e,this.Ti=new jv,this.Ii=null}static Ei(e){return new Fv(e)}get di(){if(this.Ii)return this.Ii;throw Qe(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),de.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(a=>this.di.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,r=>{const a=Be.fromPath(r);return this.Ai(e,a).next(o=>{o||n.removeEntry(a,Xe.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return de.or([()=>de.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Pd{constructor(e,n){this.persistence=e,this.Ri=new Oo(r=>Kk(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=sU(this,n)}static Ei(e,n){return new Pd(e,n)}li(){}hi(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return de.forEach(this.Ri,(r,a)=>this.gr(e,r,a).next(o=>o?de.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.Xr(e,u=>this.gr(e,u,n).next(h=>{h||(r++,o.removeEntry(u,Xe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),de.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=rd(e.data.value)),n}gr(e,n,r){return de.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.Ri.get(n);return de.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=a}static Ps(e,n){let r=ct(),a=ct();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Bv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return $O()?8:$k($n())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,a){const o={result:null};return this.Rs(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,n,a,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new yU;return this.fs(e,n,u).next(h=>{if(o.result=h,this.Is)return this.gs(e,n,u,h.size)})}).next(()=>o.result)}gs(e,n,r,a){return r.documentReadCount<this.Es?(Sl()<=ut.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",xl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),de.resolve()):(Sl()<=ut.DEBUG&&Ae("QueryEngine","Query:",xl(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Sl()<=ut.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",xl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):de.resolve())}Rs(e,n){if(Pw(n))return de.resolve(null);let r=Vi(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Cy(n,null,"F"),r=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=ct(...o);return this.As.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.ps(n,h);return this.ys(n,p,u,d.readTime)?this.Rs(e,Cy(n,null,"F")):this.ws(e,p,n,d)}))})))}Vs(e,n,r,a){return Pw(n)||a.isEqual(Xe.min())?de.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(n,o);return this.ys(n,u,r,a)?de.resolve(null):(Sl()<=ut.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xl(n)),this.ws(e,u,n,Fk(a,Lc)).next(h=>h))})}ps(e,n){let r=new pn(qR(e));return n.forEach((a,o)=>{um(e,o)&&(r=r.add(o))}),r}ys(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}fs(e,n,r){return Sl()<=ut.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",xl(n)),this.As.getDocumentsMatchingQuery(e,n,va.min(),r)}ws(e,n,r,a){return this.As.getDocumentsMatchingQuery(e,r,a).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="LocalStore",_U=3e8;class EU{constructor(e,n,r,a){this.persistence=e,this.bs=n,this.serializer=a,this.Ss=new Ht(nt),this.Ds=new Oo(o=>Ov(o),Pv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lU(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function TU(t,e,n,r){return new EU(t,e,n,r)}async function m1(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(o=>(a=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=ct();for(const p of a){u.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}for(const p of o){h.push(p.batchId);for(const g of p.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(p=>({Ms:p,removedBatchIds:u,addedBatchIds:h}))})})}function bU(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(h,d,p,g){const v=p.batch,E=v.keys();let w=de.resolve();return E.forEach(A=>{w=w.next(()=>g.getEntry(d,A)).next(V=>{const O=p.docVersions.get(A);At(O!==null,48541),V.version.compareTo(O)<0&&(v.applyToRemoteDocument(V,p),V.isValidDocument()&&(V.setReadTime(p.commitVersion),g.addEntry(V)))})}),w.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=ct();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function p1(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function wU(t,e){const n=We(t),r=e.snapshotVersion;let a=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Cs.newChangeBuffer({trackRemovals:!0});a=n.Ss;const h=[];e.targetChanges.forEach((g,v)=>{const E=a.get(v);if(!E)return;h.push(n.ai.removeMatchingKeys(o,g.removedDocuments,v).next(()=>n.ai.addMatchingKeys(o,g.addedDocuments,v)));let w=E.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?w=w.withResumeToken(Pn.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,r)),a=a.insert(v,w),function(V,O,I){return V.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=_U?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(E,w,g)&&h.push(n.ai.updateTargetData(o,w))});let d=Ss(),p=ct();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(SU(o,u,e.documentUpdates).next(g=>{d=g.xs,p=g.Os})),!r.isEqual(Xe.min())){const g=n.ai.getLastRemoteSnapshotVersion(o).next(v=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return de.waitFor(h).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,p)).next(()=>d)}).then(o=>(n.Ss=a,o))}function SU(t,e,n){let r=ct(),a=ct();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=Ss();return n.forEach((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Xe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):Ae(zv,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)}),{xs:u,Os:a}})}function xU(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AU(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.ai.getTargetData(r,e).next(o=>o?(a=o,de.resolve(a)):n.ai.allocateTargetId(r).next(u=>(a=new ua(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.Ss.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Py(t,e,n){const r=We(t),a=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!eu(u))throw u;Ae(zv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(a.target)}function Gw(t,e,n){const r=We(t);let a=Xe.min(),o=ct();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,g){const v=We(d),E=v.Ds.get(g);return E!==void 0?de.resolve(v.Ss.get(E)):v.ai.getTargetData(p,g)}(r,u,Vi(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,n?a:Xe.min(),n?o:ct())).next(h=>(RU(r,dL(e),h),{documents:h,Ns:o})))}function RU(t,e,n){let r=t.vs.get(e)||Xe.min();n.forEach((a,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}class Kw{constructor(){this.activeTargetIds=_L()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CU{constructor(){this.So=new Kw,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Kw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="ConnectivityMonitor";class Qw{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Ae(Yw,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Ae(Yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf=null;function Ny(){return zf===null?zf=function(){return 268435456+Math.round(2147483648*Math.random())}():zf++,"0x"+zf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="RestConnection",IU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MU{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${a}`,this.qo=this.databaseId.database===Ad?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Qo(e,n,r,a,o){const u=Ny(),h=this.$o(e,n.toUriEncodedString());Ae(Hg,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(d,a,o),this.Ko(e,h,d,r).then(p=>(Ae(Hg,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Fl(Hg,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",r),p})}Wo(e,n,r,a,o,u){return this.Qo(e,n,r,a,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>e[o]=a),r&&r.headers.forEach((a,o)=>e[o]=a)}$o(e,n){const r=IU[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class PU extends MU{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,a){const o=Ny();return new Promise((u,h)=>{const d=new vR;d.setWithCredentials(!0),d.listenOnce(_R.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case nd.NO_ERROR:const g=d.getResponseJson();Ae(Un,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case nd.TIMEOUT:Ae(Un,`RPC '${e}' ${o} timed out`),h(new Le(ye.DEADLINE_EXCEEDED,"Request time out"));break;case nd.HTTP_ERROR:const v=d.getStatus();if(Ae(Un,`RPC '${e}' ${o} failed with status:`,v,"response text:",d.getResponseText()),v>0){let E=d.getResponseJson();Array.isArray(E)&&(E=E[0]);const w=E==null?void 0:E.error;if(w&&w.status&&w.message){const A=function(O){const I=O.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(I)>=0?I:ye.UNKNOWN}(w.status);h(new Le(A,w.message))}else h(new Le(ye.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Le(ye.UNAVAILABLE,"Connection failed."));break;default:Qe(9055,{s_:e,streamId:o,o_:d.getLastErrorCode(),__:d.getLastError()})}}finally{Ae(Un,`RPC '${e}' ${o} completed.`)}});const p=JSON.stringify(a);Ae(Un,`RPC '${e}' ${o} sending request:`,a),d.send(n,"POST",p,r,15)})}a_(e,n,r){const a=Ny(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=bR(),h=TR(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Uo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=o.join("");Ae(Un,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=u.createWebChannel(g,d);let E=!1,w=!1;const A=new OU({Go:O=>{w?Ae(Un,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(E||(Ae(Un,`Opening RPC '${e}' stream ${a} transport.`),v.open(),E=!0),Ae(Un,`RPC '${e}' stream ${a} sending:`,O),v.send(O))},zo:()=>v.close()}),V=(O,I,j)=>{O.listen(I,G=>{try{j(G)}catch(ae){setTimeout(()=>{throw ae},0)}})};return V(v,pc.EventType.OPEN,()=>{w||(Ae(Un,`RPC '${e}' stream ${a} transport opened.`),A.t_())}),V(v,pc.EventType.CLOSE,()=>{w||(w=!0,Ae(Un,`RPC '${e}' stream ${a} transport closed`),A.r_())}),V(v,pc.EventType.ERROR,O=>{w||(w=!0,Fl(Un,`RPC '${e}' stream ${a} transport errored. Name:`,O.name,"Message:",O.message),A.r_(new Le(ye.UNAVAILABLE,"The operation could not be completed")))}),V(v,pc.EventType.MESSAGE,O=>{var I;if(!w){const j=O.data[0];At(!!j,16349);const G=j,ae=(G==null?void 0:G.error)||((I=G[0])===null||I===void 0?void 0:I.error);if(ae){Ae(Un,`RPC '${e}' stream ${a} received error:`,ae);const D=ae.status;let ne=function(C){const k=on[C];if(k!==void 0)return n1(k)}(D),N=ae.message;ne===void 0&&(ne=ye.INTERNAL,N="Unknown error status: "+D+" with message "+ae.message),w=!0,A.r_(new Le(ne,N)),v.close()}else Ae(Un,`RPC '${e}' stream ${a} received:`,j),A.i_(j)}}),V(h,ER.STAT_EVENT,O=>{O.stat===by.PROXY?Ae(Un,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===by.NOPROXY&&Ae(Un,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.n_()},0),A}}function qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){return new LL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,r=1e3,a=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=a,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),a=Math.max(0,n-r);a>0&&Ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="PersistentStream";class y1{constructor(e,n,r,a,o,u,h,d){this.bi=e,this.R_=r,this.V_=a,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new g1(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(ws(n.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.m_===n&&this.B_(r,a)},r=>{e(()=>{const a=new Le(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(a)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{r(()=>this.L_(a))}),this.stream.onMessage(a=>{r(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Ae(Xw,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Ae(Xw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NU extends y1{constructor(e,n,r,a,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=FL(this.serializer,e),r=function(o){if(!("targetChange"in o))return Xe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Xe.min():u.readTime?Li(u.readTime):Xe.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Oy(this.serializer),n.addTarget=function(o,u){let h;const d=u.target;if(h=Ry(d)?{documents:HL(o,d)}:{query:qL(o,d).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=s1(o,u.resumeToken);const p=Dy(o,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Xe.min())>0){h.readTime=Od(o,u.snapshotVersion.toTimestamp());const p=Dy(o,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const r=GL(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Oy(this.serializer),n.removeTarget=e,this.F_(n)}}class VU extends y1{constructor(e,n,r,a,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return At(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,At(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){At(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=zL(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Oy(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BL(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{}class LU extends kU{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Le(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,Iy(n,r),a,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Le(ye.UNKNOWN,o.toString())})}Wo(e,n,r,a,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Iy(n,r),a,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Le(ye.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class UU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ws(n),this.ea=!1):Ae("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="RemoteStore";class jU{constructor(e,n,r,a,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Po(this)&&(Ae(Ro,"Restarting streams for network reachability change."),await async function(d){const p=We(d);p.aa.add(4),await uh(p),p.la.set("Unknown"),p.aa.delete(4),await mm(p)}(this))})}),this.la=new UU(r,a)}}async function mm(t){if(Po(t))for(const e of t.ua)await e(!0)}async function uh(t){for(const e of t.ua)await e(!1)}function v1(t,e){const n=We(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Gv(n)?$v(n):tu(n).b_()&&qv(n,e))}function Hv(t,e){const n=We(t),r=tu(n);n._a.delete(e),r.b_()&&_1(n,e),n._a.size===0&&(r.b_()?r.v_():Po(n)&&n.la.set("Unknown"))}function qv(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tu(t).U_(e)}function _1(t,e){t.ha.Ke(e),tu(t).K_(e)}function $v(t){t.ha=new PL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),tu(t).start(),t.la.ta()}function Gv(t){return Po(t)&&!tu(t).w_()&&t._a.size>0}function Po(t){return We(t).aa.size===0}function E1(t){t.ha=void 0}async function FU(t){t.la.set("Online")}async function BU(t){t._a.forEach((e,n)=>{qv(t,e)})}async function zU(t,e){E1(t),Gv(t)?(t.la.ia(e),$v(t)):t.la.set("Unknown")}async function HU(t,e,n){if(t.la.set("Online"),e instanceof i1&&e.state===2&&e.cause)try{await async function(a,o){const u=o.cause;for(const h of o.targetIds)a._a.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a._a.delete(h),a.ha.removeTarget(h))}(t,e)}catch(r){Ae(Ro,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nd(t,r)}else if(e instanceof ad?t.ha.Xe(e):e instanceof r1?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Xe.min()))try{const r=await p1(t.localStore);n.compareTo(r)>=0&&await function(o,u){const h=o.ha.It(u);return h.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const g=o._a.get(p);g&&o._a.set(p,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,p)=>{const g=o._a.get(d);if(!g)return;o._a.set(d,g.withResumeToken(Pn.EMPTY_BYTE_STRING,g.snapshotVersion)),_1(o,d);const v=new ua(g.target,d,p,g.sequenceNumber);qv(o,v)}),o.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){Ae(Ro,"Failed to raise snapshot:",r),await Nd(t,r)}}async function Nd(t,e,n){if(!eu(e))throw e;t.aa.add(1),await uh(t),t.la.set("Offline"),n||(n=()=>p1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ae(Ro,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await mm(t)})}function T1(t,e){return e().catch(n=>Nd(t,n,e))}async function pm(t){const e=We(t),n=ba(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Dv;for(;qU(e);)try{const a=await xU(e.localStore,r);if(a===null){e.oa.length===0&&n.v_();break}r=a.batchId,$U(e,a)}catch(a){await Nd(e,a)}b1(e)&&w1(e)}function qU(t){return Po(t)&&t.oa.length<10}function $U(t,e){t.oa.push(e);const n=ba(t);n.b_()&&n.W_&&n.G_(e.mutations)}function b1(t){return Po(t)&&!ba(t).w_()&&t.oa.length>0}function w1(t){ba(t).start()}async function GU(t){ba(t).H_()}async function KU(t){const e=ba(t);for(const n of t.oa)e.G_(n.mutations)}async function YU(t,e,n){const r=t.oa.shift(),a=kv.from(r,e,n);await T1(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await pm(t)}async function QU(t,e){e&&ba(t).W_&&await async function(r,a){if(function(u){return ML(u)&&u!==ye.ABORTED}(a.code)){const o=r.oa.shift();ba(r).D_(),await T1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,a)),await pm(r)}}(t,e),b1(t)&&w1(t)}async function Ww(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Ae(Ro,"RemoteStore received new credentials");const r=Po(n);n.aa.add(3),await uh(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await mm(n)}async function XU(t,e){const n=We(t);e?(n.aa.delete(2),await mm(n)):e||(n.aa.add(2),await uh(n),n.la.set("Unknown"))}function tu(t){return t.Pa||(t.Pa=function(n,r,a){const o=We(n);return o.Y_(),new NU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{jo:FU.bind(null,t),Jo:BU.bind(null,t),Zo:zU.bind(null,t),Q_:HU.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Gv(t)?$v(t):t.la.set("Unknown")):(await t.Pa.stop(),E1(t))})),t.Pa}function ba(t){return t.Ta||(t.Ta=function(n,r,a){const o=We(n);return o.Y_(),new VU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:GU.bind(null,t),Zo:QU.bind(null,t),z_:KU.bind(null,t),j_:YU.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await pm(t)):(await t.Ta.stop(),t.oa.length>0&&(Ae(Ro,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,n,r,a,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=o,this.deferred=new ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,o){const u=Date.now()+r,h=new Kv(e,n,u,a,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yv(t,e){if(ws("AsyncQueue",`${e}: ${t}`),eu(t))return new Le(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{static emptySet(e){return new Ul(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=gc(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ul)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,o=r.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ul;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(){this.Ia=new Ht(Be.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Qe(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class $l{constructor(e,n,r,a,o,u,h,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,o){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new $l(e,n,Ul.emptySet(n),u,r,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class ZU{constructor(){this.queries=Jw(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const a=We(n),o=a.queries;a.queries=Jw(),o.forEach((u,h)=>{for(const d of h.Ra)d.onError(r)})})(this,new Le(ye.ABORTED,"Firestore shutting down"))}}function Jw(){return new Oo(t=>HR(t),lm)}async function JU(t,e){const n=We(t);let r=3;const a=e.query;let o=n.queries.get(a);o?!o.Va()&&e.ma()&&(r=2):(o=new WU,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await n.onListen(a,!0);break;case 1:o.Aa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=Yv(u,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&Qv(n)}async function e4(t,e){const n=We(t),r=e.query;let a=3;const o=n.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?a=e.ma()?0:1:!o.Va()&&e.ma()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function t4(t,e){const n=We(t);let r=!1;for(const a of e){const o=a.query,u=n.queries.get(o);if(u){for(const h of u.Ra)h.pa(a)&&(r=!0);u.Aa=a}}r&&Qv(n)}function n4(t,e,n){const r=We(t),a=r.queries.get(e);if(a)for(const o of a.Ra)o.onError(n);r.queries.delete(e)}function Qv(t){t.fa.forEach(e=>{e.next()})}var Vy,eS;(eS=Vy||(Vy={})).ya="default",eS.Cache="cache";class r4{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new $l(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=$l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Vy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.key=e}}class x1{constructor(e){this.key=e}}class i4{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=ct(),this.mutatedKeys=ct(),this.Ua=qR(e),this.Ka=new Ul(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new Zw,a=n?n.Ka:this.Ka;let o=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const E=a.get(g),w=um(this.query,v)?v:null,A=!!E&&this.mutatedKeys.has(E.key),V=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let O=!1;E&&w?E.data.isEqual(w.data)?A!==V&&(r.track({type:3,doc:w}),O=!0):this.ja(E,w)||(r.track({type:2,doc:w}),O=!0,(d&&this.Ua(w,d)>0||p&&this.Ua(w,p)<0)&&(h=!0)):!E&&w?(r.track({type:0,doc:w}),O=!0):E&&!w&&(r.track({type:1,doc:E}),O=!0,(d||p)&&(h=!0)),O&&(w?(u=u.add(w),o=V?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{Ka:u,za:r,ys:h,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((g,v)=>function(w,A){const V=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe(20277,{Vt:O})}};return V(w)-V(A)}(g.type,v.type)||this.Ua(g.doc,v.doc)),this.Ha(r),a=a!=null&&a;const h=n&&!a?this.Ja():[],d=this.$a.size===0&&this.current&&!a?1:0,p=d!==this.Qa;return this.Qa=d,u.length!==0||p?{snapshot:new $l(this.query,e.Ka,o,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:h}:{Ya:h}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Zw,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=ct(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new x1(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new S1(r))}),n}Xa(e){this.qa=e.Ns,this.$a=ct();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return $l.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Xv="SyncEngine";class s4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class a4{constructor(e){this.key=e,this.tu=!1}}class o4{constructor(e,n,r,a,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new Oo(h=>HR(h),lm),this.iu=new Map,this.su=new Set,this.ou=new Ht(Be.comparator),this._u=new Map,this.au=new jv,this.uu={},this.cu=new Map,this.lu=ql.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function l4(t,e,n=!0){const r=M1(t);let a;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.eu()):a=await A1(r,e,n,!0),a}async function u4(t,e){const n=M1(t);await A1(n,e,!0,!1)}async function A1(t,e,n,r){const a=await AU(t.localStore,Vi(e)),o=a.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let h;return r&&(h=await c4(t,e,o,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&v1(t.remoteStore,a),h}async function c4(t,e,n,r,a){t.Pu=(v,E,w)=>async function(V,O,I,j){let G=O.view.Ga(I);G.ys&&(G=await Gw(V.localStore,O.query,!1).then(({documents:N})=>O.view.Ga(N,G)));const ae=j&&j.targetChanges.get(O.targetId),D=j&&j.targetMismatches.get(O.targetId)!=null,ne=O.view.applyChanges(G,V.isPrimaryClient,ae,D);return nS(V,O.targetId,ne.Ya),ne.snapshot}(t,v,E,w);const o=await Gw(t.localStore,e,!0),u=new i4(e,o.Ns),h=u.Ga(o.documents),d=lh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,d);nS(t,n,p.Ya);const g=new s4(e,n,u);return t.ru.set(e,g),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),p.snapshot}async function h4(t,e,n){const r=We(t),a=r.ru.get(e),o=r.iu.get(a.targetId);if(o.length>1)return r.iu.set(a.targetId,o.filter(u=>!lm(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Py(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Hv(r.remoteStore,a.targetId),ky(r,a.targetId)}).catch(Jl)):(ky(r,a.targetId),await Py(r.localStore,a.targetId,!0))}async function f4(t,e){const n=We(t),r=n.ru.get(e),a=n.iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Hv(n.remoteStore,r.targetId))}async function d4(t,e,n){const r=E4(t);try{const a=await function(u,h){const d=We(u),p=en.now(),g=h.reduce((w,A)=>w.add(A.key),ct());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Ss(),V=ct();return d.Cs.getEntries(w,g).next(O=>{A=O,A.forEach((I,j)=>{j.isValidDocument()||(V=V.add(I))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,A)).next(O=>{v=O;const I=[];for(const j of h){const G=AL(j,v.get(j.key).overlayedDocument);G!=null&&I.push(new Ia(j.key,G,kR(G.value.mapValue),ki.exists(!0)))}return d.mutationQueue.addMutationBatch(w,p,I,h)}).next(O=>{E=O;const I=O.applyToLocalDocumentSet(v,V);return d.documentOverlayCache.saveOverlays(w,O.batchId,I)})}).then(()=>({batchId:E.batchId,changes:GR(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let p=u.uu[u.currentUser.toKey()];p||(p=new Ht(nt)),p=p.insert(h,d),u.uu[u.currentUser.toKey()]=p}(r,a.batchId,n),await ch(r,a.changes),await pm(r.remoteStore)}catch(a){const o=Yv(a,"Failed to persist write");n.reject(o)}}async function R1(t,e){const n=We(t);try{const r=await wU(n.localStore,e);e.targetChanges.forEach((a,o)=>{const u=n._u.get(o);u&&(At(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.tu=!0:a.modifiedDocuments.size>0?At(u.tu,14607):a.removedDocuments.size>0&&(At(u.tu,42227),u.tu=!1))}),await ch(n,r,e)}catch(r){await Jl(r)}}function tS(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.ru.forEach((o,u)=>{const h=u.view.ga(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=We(u);d.onlineState=h;let p=!1;d.queries.forEach((g,v)=>{for(const E of v.Ra)E.ga(h)&&(p=!0)}),p&&Qv(d)}(r.eventManager,e),a.length&&r.nu.Q_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function m4(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r._u.get(e),o=a&&a.key;if(o){let u=new Ht(Be.comparator);u=u.insert(o,zn.newNoDocument(o,Xe.min()));const h=ct().add(o),d=new fm(Xe.min(),new Map,new Ht(nt),u,h);await R1(r,d),r.ou=r.ou.remove(o),r._u.delete(e),Wv(r)}else await Py(r.localStore,e,!1).then(()=>ky(r,e,n)).catch(Jl)}async function p4(t,e){const n=We(t),r=e.batch.batchId;try{const a=await bU(n.localStore,e);D1(n,r,null),C1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ch(n,a)}catch(a){await Jl(a)}}async function g4(t,e,n){const r=We(t);try{const a=await function(u,h){const d=We(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return d.mutationQueue.lookupMutationBatch(p,h).next(v=>(At(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(p,v))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>d.localDocuments.getDocuments(p,g))})}(r.localStore,e);D1(r,e,n),C1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ch(r,a)}catch(a){await Jl(a)}}function C1(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function D1(t,e,n){const r=We(t);let a=r.uu[r.currentUser.toKey()];if(a){const o=a.get(e);o&&(n?o.reject(n):o.resolve(),a=a.remove(e)),r.uu[r.currentUser.toKey()]=a}}function ky(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||I1(t,r)})}function I1(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(Hv(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Wv(t))}function nS(t,e,n){for(const r of n)r instanceof S1?(t.au.addReference(r.key,e),y4(t,r)):r instanceof x1?(Ae(Xv,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||I1(t,r.key)):Qe(19791,{Iu:r})}function y4(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Ae(Xv,"New document in limbo: "+n),t.su.add(r),Wv(t))}function Wv(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Be(Kt.fromString(e)),r=t.lu.next();t._u.set(r,new a4(n)),t.ou=t.ou.insert(n,r),v1(t.remoteStore,new ua(Vi(Nv(n.path)),r,"TargetPurposeLimboResolution",im.le))}}async function ch(t,e,n){const r=We(t),a=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((h,d)=>{u.push(r.Pu(d,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){a.push(p);const v=Bv.Ps(d.targetId,p);o.push(v)}}))}),await Promise.all(u),r.nu.Q_(a),await async function(d,p){const g=We(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>de.forEach(p,E=>de.forEach(E.ls,w=>g.persistence.referenceDelegate.addReference(v,E.targetId,w)).next(()=>de.forEach(E.hs,w=>g.persistence.referenceDelegate.removeReference(v,E.targetId,w)))))}catch(v){if(!eu(v))throw v;Ae(zv,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const w=g.Ss.get(E),A=w.snapshotVersion,V=w.withLastLimboFreeSnapshotVersion(A);g.Ss=g.Ss.insert(E,V)}}}(r.localStore,o))}async function v4(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Ae(Xv,"User change. New user:",e.toKey());const r=await m1(n.localStore,e);n.currentUser=e,function(o,u){o.cu.forEach(h=>{h.forEach(d=>{d.reject(new Le(ye.CANCELLED,u))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ch(n,r.Ms)}}function _4(t,e){const n=We(t),r=n._u.get(e);if(r&&r.tu)return ct().add(r.key);{let a=ct();const o=n.iu.get(e);if(!o)return a;for(const u of o){const h=n.ru.get(u);a=a.unionWith(h.view.Wa)}return a}}function M1(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=R1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=m4.bind(null,e),e.nu.Q_=t4.bind(null,e.eventManager),e.nu.Tu=n4.bind(null,e.eventManager),e}function E4(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=g4.bind(null,e),e}class Vd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return TU(this.persistence,new vU,e.initialUser,this.serializer)}Ru(e){return new d1(Fv.Ei,this.serializer)}Au(e){return new CU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vd.provider={build:()=>new Vd};class T4 extends Vd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){At(this.persistence.referenceDelegate instanceof Pd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rU(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?or.withCacheSize(this.cacheSizeBytes):or.DEFAULT;return new d1(r=>Pd.Ei(r,n),this.serializer)}}class Ly{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tS(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=v4.bind(null,this.syncEngine),await XU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZU}()}createDatastore(e){const n=dm(e.databaseInfo.databaseId),r=function(o){return new PU(o)}(e.databaseInfo);return function(o,u,h,d){return new LU(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,o,u,h){return new jU(r,a,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>tS(this.syncEngine,n,0),function(){return Qw.C()?new Qw:new DU}())}createSyncEngine(e,n){return function(a,o,u,h,d,p,g){const v=new o4(a,o,u,h,d,p);return g&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const o=We(a);Ae(Ro,"RemoteStore shutting down."),o.aa.add(5),await uh(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ly.provider={build:()=>new Ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="FirestoreClient";class w4{constructor(e,n,r,a,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Bn.UNAUTHENTICATED,this.clientId=AR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ae(wa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ae(wa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Yv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $g(t,e){t.asyncQueue.verifyOperationInProgress(),Ae(wa,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await m1(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S4(t);Ae(wa,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ww(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>Ww(e.remoteStore,a)),t._onlineComponents=e}async function S4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae(wa,"Using user provided OfflineComponentProvider");try{await $g(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ye.FAILED_PRECONDITION||a.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await $g(t,new Vd)}}else Ae(wa,"Using default OfflineComponentProvider"),await $g(t,new T4(void 0));return t._offlineComponents}async function O1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae(wa,"Using user provided OnlineComponentProvider"),await rS(t,t._uninitializedComponentsProvider._online)):(Ae(wa,"Using default OnlineComponentProvider"),await rS(t,new Ly))),t._onlineComponents}function x4(t){return O1(t).then(e=>e.syncEngine)}async function A4(t){const e=await O1(t),n=e.eventManager;return n.onListen=l4.bind(null,e.syncEngine),n.onUnlisten=h4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=u4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=f4.bind(null,e.syncEngine),n}function R4(t,e,n={}){const r=new ma;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,p){const g=new b4({next:E=>{g.yu(),u.enqueueAndForget(()=>e4(o,v));const w=E.docs.has(h);!w&&E.fromCache?p.reject(new Le(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&E.fromCache&&d&&d.source==="server"?p.reject(new Le(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new r4(Nv(h.path),g,{includeMetadataChanges:!0,Fa:!0});return JU(o,v)}(await A4(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e,n){if(!n)throw new Le(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function D4(t,e,n,r){if(e===!0&&r===!0)throw new Le(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function sS(t){if(!Be.isDocumentKey(t))throw new Le(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe(12329,{type:typeof t})}function Co(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zv(t);throw new Le(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firestore.googleapis.com",aS=!0;class oS{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N1,this.ssl=aS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:aS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tU)throw new Le(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Le(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Le(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Le(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jv{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Le(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Le(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Mk;switch(r.type){case"firstParty":return new Vk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Le(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iS.get(n);r&&(Ae("ComponentProvider","Removing Datastore"),iS.delete(n),r.terminate())}(this),Promise.resolve()}}function I4(t,e,n,r={}){var a;const o=(t=Co(t,Jv))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;o.host!==N1&&o.host!==h&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!bo(d,u)&&(t._setSettings(d),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Bn.MOCK_USER;else{p=UO(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Le(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Bn(v)}t._authCredentials=new Ok(new SR(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new e0(this.firestore,e,this._query)}}class wr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wr(this.firestore,e,this._key)}}class Hc extends e0{constructor(e,n,r){super(e,n,Nv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wr(this.firestore,null,new Be(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function Gg(t,e,...n){if(t=Gn(t),arguments.length===1&&(e=AR.newId()),C4("doc","path",e),t instanceof Jv){const r=Kt.fromString(e,...n);return sS(r),new wr(t,null,new Be(r))}{if(!(t instanceof wr||t instanceof Hc))throw new Le(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return sS(r),new wr(t.firestore,t instanceof Hc?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="AsyncQueue";class uS{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new g1(this,"async_queue_retry"),this.ju=()=>{const r=qg();r&&Ae(lS,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=qg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=qg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new ma;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!eu(e))throw e;Ae(lS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ws("INTERNAL UNHANDLED ERROR: ",cS(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const a=Kv.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(a),a}Ju(){this.Ku&&Qe(47125,{ec:cS(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function cS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class gm extends Jv{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new uS,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uS(e),this._firestoreClient=void 0,await e}}}function M4(t,e){const n=typeof t=="object"?t:OA(),r=typeof t=="string"?t:Ad,a=vv(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const o=kO("firestore");o&&I4(a,...o)}return a}function V1(t){if(t._terminated)throw new Le(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O4(t),t._firestoreClient}function O4(t){var e,n,r;const a=t._freezeSettings(),o=function(h,d,p,g){return new Xk(h,d,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,P1(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new w4(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gl(Pn.fromBase64String(e))}catch(n){throw new Le(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gl(Pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==a[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=/^__.*__$/;class N4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new oh(e,this.data,n,this.fieldTransforms)}}class k1{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ia(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function L1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe(40011,{oc:t})}}class i0{constructor(e,n,r,a,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new i0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:r,cc:!1});return a.lc(e),a}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.ac({path:r,cc:!1});return a._c(),a}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return kd(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(L1(this.oc)&&P4.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class V4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||dm(e)}dc(e,n,r,a=!1){return new i0({oc:e,methodName:n,Ec:r,path:On.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U1(t){const e=t._freezeSettings(),n=dm(t._databaseId);return new V4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function k4(t,e,n,r,a,o={}){const u=t.dc(o.merge||o.mergeFields?2:0,e,n,a);s0("Data must be an object, but it was:",u,r);const h=j1(r,u);let d,p;if(o.merge)d=new br(u.fieldMask),p=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const v of o.mergeFields){const E=Uy(e,v,n);if(!u.contains(E))throw new Le(ye.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);B1(g,E)||g.push(E)}d=new br(g),p=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,p=u.fieldTransforms;return new N4(new ur(h),d,p)}class vm extends t0{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vm}}function L4(t,e,n,r){const a=t.dc(1,e,n);s0("Data must be an object, but it was:",a,r);const o=[],u=ur.empty();Da(r,(d,p)=>{const g=a0(e,d,n);p=Gn(p);const v=a.hc(g);if(p instanceof vm)o.push(g);else{const E=_m(p,v);E!=null&&(o.push(g),u.set(g,E))}});const h=new br(o);return new k1(u,h,a.fieldTransforms)}function U4(t,e,n,r,a,o){const u=t.dc(1,e,n),h=[Uy(e,r,n)],d=[a];if(o.length%2!=0)throw new Le(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<o.length;E+=2)h.push(Uy(e,o[E])),d.push(o[E+1]);const p=[],g=ur.empty();for(let E=h.length-1;E>=0;--E)if(!B1(p,h[E])){const w=h[E];let A=d[E];A=Gn(A);const V=u.hc(w);if(A instanceof vm)p.push(w);else{const O=_m(A,V);O!=null&&(p.push(w),g.set(w,O))}}const v=new br(p);return new k1(g,v,u.fieldTransforms)}function _m(t,e){if(F1(t=Gn(t)))return s0("Unsupported field value:",e,t),j1(t,e);if(t instanceof t0)return function(r,a){if(!L1(a.oc))throw a.Tc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(a);o&&a.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,a){const o=[];let u=0;for(const h of r){let d=_m(h,a.Pc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,a){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return EL(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=en.fromDate(r);return{timestampValue:Od(a.serializer,o)}}if(r instanceof en){const o=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Od(a.serializer,o)}}if(r instanceof n0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gl)return{bytesValue:s1(a.serializer,r._byteString)};if(r instanceof wr){const o=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw a.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Uv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof r0)return function(u,h){return{mapValue:{fields:{[NR]:{stringValue:VR},[Rd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Tc("VectorValues must only contain numeric values.");return Vv(h.serializer,p)})}}}}}}(r,a);throw a.Tc(`Unsupported field value: ${Zv(r)}`)}(t,e)}function j1(t,e){const n={};return CR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Da(t,(r,a)=>{const o=_m(a,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function F1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof n0||t instanceof Gl||t instanceof wr||t instanceof t0||t instanceof r0)}function s0(t,e,n){if(!F1(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Zv(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Uy(t,e,n){if((e=Gn(e))instanceof ym)return e._internalPath;if(typeof e=="string")return a0(t,e);throw kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const j4=new RegExp("[~\\*/\\[\\]]");function a0(t,e,n){if(e.search(j4)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ym(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kd(t,e,n,r,a){const o=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new Le(ye.INVALID_ARGUMENT,h+t+d)}function B1(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,r,a,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new F4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(H1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class F4 extends z1{data(){return super.data()}}function H1(t,e){return typeof e=="string"?a0(t,e):e instanceof ym?e._internalPath:e._delegate._internalPath}class B4{convertValue(e,n="none"){switch(Ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Qe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Da(e,(a,o)=>{r[a]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,a;const o=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[Rd].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Zt(u.doubleValue));return new r0(o)}convertGeoPoint(e){return new n0(Zt(e.latitude),Zt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=am(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Uc(e));default:return null}}convertTimestamp(e){const n=_a(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);At(h1(r),9688,{name:e});const a=new jc(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return a.isEqual(n)||ws(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q1 extends z1{constructor(e,n,r,a,o,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new q4(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(H1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class q4 extends q1{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $4(t){t=Co(t,wr);const e=Co(t.firestore,gm);return R4(V1(e),t._key).then(n=>Q4(e,t,n))}class G4 extends B4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wr(this.firestore,null,n)}}function K4(t,e,n){t=Co(t,wr);const r=Co(t.firestore,gm),a=z4(t.converter,e);return $1(r,[k4(U1(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,ki.none())])}function Y4(t,e,n,...r){t=Co(t,wr);const a=Co(t.firestore,gm),o=U1(a);let u;return u=typeof(e=Gn(e))=="string"||e instanceof ym?U4(o,"updateDoc",t._key,e,n,r):L4(o,"updateDoc",t._key,e),$1(a,[u.toMutation(t._key,ki.exists(!0))])}function $1(t,e){return function(r,a){const o=new ma;return r.asyncQueue.enqueueAndForget(async()=>d4(await x4(r),a,o)),o.promise}(V1(t),e)}function Q4(t,e,n){const r=n.docs.get(e._key),a=new G4(t);return new q1(t,a,e._key,r,new H4(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Zl=a})(Xl),jl(new wo("firestore",(r,{instanceIdentifier:a,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new gm(new Pk(r.getProvider("auth-internal")),new kk(u,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Le(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(p.options.projectId,g)}(u,a),u);return o=Object.assign({useFetchStreams:n},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),fa(gw,yw,e),fa(gw,yw,"esm2017")})();const G1=H.createContext({userData:void 0,isLoading:!1,getUserData:()=>Promise.resolve({isSuccess:!1,errorMessage:"Not implemented"}),createBooking:()=>Promise.resolve({isSuccess:!1,errorMessage:"Not implemented"})}),Kg=M4(pR),K1=()=>H.useContext(G1),X4=({children:t})=>{const[e,n]=H.useState(),[r,a]=H.useState(!1),{authData:o}=Mo(),u=g=>typeof g=="string"?{isSuccess:!1,errorMessage:g}:g instanceof Error?{isSuccess:!1,errorMessage:g.message}:{isSuccess:!1,errorMessage:"Unknown error occurred"};H.useEffect(()=>{o&&h()},[o]);const h=async()=>{try{if(o!=null&&o.uid){const g=Gg(Kg,"users",o.uid),v=await $4(g);return v.exists()?(n(v.data()),{isSuccess:!0}):(await d(),{isSuccess:!1,errorMessage:"User is not registered"})}return{isSuccess:!1,errorMessage:"Not authenticated"}}catch(g){return console.error("Get user data error:",g),u(g)}finally{a(!1)}},d=async()=>{try{if(a(!0),o!=null&&o.uid){const g={bookings:[]};return await K4(Gg(Kg,"users",o.uid),g),{isSuccess:!0}}return{isSuccess:!1,errorMessage:"Not authenticated"}}catch(g){return console.error("Create user error:",g),u(g)}finally{a(!1)}},p=async g=>{try{if(a(!0),o!=null&&o.uid&&e){const v=Gg(Kg,"users",o.uid);return await Y4(v,{bookings:[...e.bookings,g]}),n({...e,bookings:[...e.bookings,g]}),{isSuccess:!0}}return{isSuccess:!1,errorMessage:"Not authenticated"}}catch(v){return console.error("Create booking error:",v),u(v)}finally{a(!1)}};return P.jsx(G1.Provider,{value:{userData:e,isLoading:r,createBooking:p,getUserData:h},children:t})},W4=()=>P.jsx("div",{children:P.jsx(Ik,{children:P.jsx(X4,{children:P.jsx(KM,{})})})}),o0=H.createContext({});function l0(t){const e=H.useRef(null);return e.current===null&&(e.current=t()),e.current}const u0=typeof window<"u",Y1=u0?H.useLayoutEffect:H.useEffect,Em=H.createContext(null),c0=H.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Z4 extends H.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=r instanceof HTMLElement&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function J4({children:t,isPresent:e,anchorX:n}){const r=H.useId(),a=H.useRef(null),o=H.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=H.useContext(c0);return H.useInsertionEffect(()=>{const{width:h,height:d,top:p,left:g,right:v}=o.current;if(e||!a.current||!h||!d)return;const E=n==="left"?`left: ${g}`:`right: ${v}`;a.current.dataset.motionPopId=r;const w=document.createElement("style");return u&&(w.nonce=u),document.head.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(w)}},[e]),P.jsx(Z4,{isPresent:e,childRef:a,sizeRef:o,children:H.cloneElement(t,{ref:a})})}const ej=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:o,mode:u,anchorX:h})=>{const d=l0(tj),p=H.useId();let g=!0,v=H.useMemo(()=>(g=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:E=>{d.set(E,!0);for(const w of d.values())if(!w)return;r&&r()},register:E=>(d.set(E,!1),()=>d.delete(E))}),[n,d,r]);return o&&g&&(v={...v}),H.useMemo(()=>{d.forEach((E,w)=>d.set(w,!1))},[n]),H.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),u==="popLayout"&&(t=P.jsx(J4,{isPresent:n,anchorX:h,children:t})),P.jsx(Em.Provider,{value:v,children:t})};function tj(){return new Map}function Q1(t=!0){const e=H.useContext(Em);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,o=H.useId();H.useEffect(()=>{if(t)return a(o)},[t]);const u=H.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,u]:[!0]}const Hf=t=>t.key||"";function hS(t){const e=[];return H.Children.forEach(t,n=>{H.isValidElement(n)&&e.push(n)}),e}const X1=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:o="sync",propagate:u=!1,anchorX:h="left"})=>{const[d,p]=Q1(u),g=H.useMemo(()=>hS(t),[t]),v=u&&!d?[]:g.map(Hf),E=H.useRef(!0),w=H.useRef(g),A=l0(()=>new Map),[V,O]=H.useState(g),[I,j]=H.useState(g);Y1(()=>{E.current=!1,w.current=g;for(let D=0;D<I.length;D++){const ne=Hf(I[D]);v.includes(ne)?A.delete(ne):A.get(ne)!==!0&&A.set(ne,!1)}},[I,v.length,v.join("-")]);const G=[];if(g!==V){let D=[...g];for(let ne=0;ne<I.length;ne++){const N=I[ne],x=Hf(N);v.includes(x)||(D.splice(ne,0,N),G.push(N))}return o==="wait"&&G.length&&(D=G),j(hS(D)),O(g),null}const{forceRender:ae}=H.useContext(o0);return P.jsx(P.Fragment,{children:I.map(D=>{const ne=Hf(D),N=u&&!d?!1:g===I||v.includes(ne),x=()=>{if(A.has(ne))A.set(ne,!0);else return;let C=!0;A.forEach(k=>{k||(C=!1)}),C&&(ae==null||ae(),j(w.current),u&&(p==null||p()),r&&r())};return P.jsx(ej,{isPresent:N,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:o,onExitComplete:N?void 0:x,anchorX:h,children:D},ne)})})};function h0(t,e){t.indexOf(e)===-1&&t.push(e)}function f0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let W1=()=>{};const jy={useManualTiming:!1};function d0(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qr=t=>t,qc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class m0{constructor(){this.subscriptions=[]}add(e){return h0(this.subscriptions,e),()=>f0(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let o=0;o<a;o++){const u=this.subscriptions[o];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ui=t=>t*1e3,ji=t=>t/1e3;function Z1(t,e){return e?t*(1e3/e):0}const nj=d0(()=>window.ScrollTimeline!==void 0);class rj{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(a=>{if(nj()&&a.attachTimeline)return a.attachTimeline(e);if(typeof n=="function")return n(a)});return()=>{r.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class ij extends rj{then(e,n){return this.finished.finally(e).then(()=>{})}}const fS={value:null},p0=t=>Array.isArray(t)&&typeof t[0]=="number",sj={};function aj(t,e){const n=d0(t);return()=>sj[e]??n()}const $c=aj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),J1=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let o=0;o<a;o++)r+=t(o/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},vc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Fy={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vc([0,.65,.55,1]),circOut:vc([.55,0,1,.45]),backIn:vc([.31,.01,.66,-.59]),backOut:vc([.33,1.53,.69,.99])};function eC(t,e){if(t)return typeof t=="function"&&$c()?J1(t,e):p0(t)?vc(t):Array.isArray(t)?t.map(n=>eC(n,e)||Fy.easeOut):Fy[t]}function oj(t,e,n,{delay:r=0,duration:a=300,repeat:o=0,repeatType:u="loop",ease:h="easeInOut",times:d}={},p=void 0){const g={[e]:n};d&&(g.offset=d);const v=eC(h,a);return Array.isArray(v)&&(g.easing=v),t.animate(g,{delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal",pseudoElement:p})}function g0(t){return typeof t=="function"&&"applyToOptions"in t}function y0(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Ld=2e4;function v0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ld;)e+=n,r=t.next(e);return e>=Ld?1/0:e}function lj(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(v0(r),Ld);return{type:"keyframes",ease:o=>r.next(a*o).value/e,duration:ji(a)}}function tC(t){return!!(typeof t=="function"&&$c()||!t||typeof t=="string"&&(t in Fy||$c())||p0(t)||Array.isArray(t)&&t.every(tC))}function dS(t,e){t.timeline=e,t.onfinish=null}const qf=["read","resolveKeyframes","update","preRender","render","postRender"];function uj(t,e){let n=new Set,r=new Set,a=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function p(v){u.has(v)&&(g.schedule(v),t()),d++,v(h)}const g={schedule:(v,E=!1,w=!1)=>{const V=w&&a?n:r;return E&&u.add(v),V.has(v)||V.add(v),v},cancel:v=>{r.delete(v),u.delete(v)},process:v=>{if(h=v,a){o=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),e&&fS.value&&fS.value.frameloop[e].push(d),d=0,n.clear(),a=!1,o&&(o=!1,g.process(v))}};return g}const cj=40;function nC(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,u=qf.reduce((I,j)=>(I[j]=uj(o,e?j:void 0),I),{}),{read:h,resolveKeyframes:d,update:p,preRender:g,render:v,postRender:E}=u,w=()=>{const I=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(I-a.timestamp,cj),1),a.timestamp=I,a.isProcessing=!0,h.process(a),d.process(a),p.process(a),g.process(a),v.process(a),E.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(w))},A=()=>{n=!0,r=!0,a.isProcessing||t(w)};return{schedule:qf.reduce((I,j)=>{const G=u[j];return I[j]=(ae,D=!1,ne=!1)=>(n||A(),G.schedule(ae,D,ne)),I},{}),cancel:I=>{for(let j=0;j<qf.length;j++)u[qf[j]].cancel(I)},state:a,steps:u}}const{schedule:_0}=nC(queueMicrotask,!1),{schedule:Lt,cancel:Sa,state:In,steps:Yg}=nC(typeof requestAnimationFrame<"u"?requestAnimationFrame:Qr,!0);let od;function hj(){od=void 0}const Fi={now:()=>(od===void 0&&Fi.set(In.isProcessing||jy.useManualTiming?In.timestamp:performance.now()),od),set:t=>{od=t,queueMicrotask(hj)}},ni={x:!1,y:!1};function rC(){return ni.x||ni.y}function fj(t){return t==="x"||t==="y"?ni[t]?null:(ni[t]=!0,()=>{ni[t]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}function dj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function iC(t,e){const n=dj(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function mS(t){return!(t.pointerType==="touch"||rC())}function mj(t,e,n={}){const[r,a,o]=iC(t,n),u=h=>{if(!mS(h))return;const{target:d}=h,p=e(d,h);if(typeof p!="function"||!d)return;const g=v=>{mS(v)&&(p(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),o}const sC=(t,e)=>e?t===e?!0:sC(t,e.parentElement):!1,E0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gj(t){return pj.has(t.tagName)||t.tabIndex!==-1}const _c=new WeakSet;function pS(t){return e=>{e.key==="Enter"&&t(e)}}function Qg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const yj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=pS(()=>{if(_c.has(n))return;Qg(n,"down");const a=pS(()=>{Qg(n,"up")}),o=()=>Qg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function gS(t){return E0(t)&&!rC()}function vj(t,e,n={}){const[r,a,o]=iC(t,n),u=h=>{const d=h.currentTarget;if(!gS(h)||_c.has(d))return;_c.add(d);const p=e(d,h),g=(w,A)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),!(!gS(w)||!_c.has(d))&&(_c.delete(d),typeof p=="function"&&p(w,{success:A}))},v=w=>{g(w,d===window||d===document||n.useGlobalTarget||sC(d,w.target))},E=w=>{g(w,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),h instanceof HTMLElement&&(h.addEventListener("focus",p=>yj(p,a)),!gj(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}const yS=30,_j=t=>!isNaN(parseFloat(t));class Ej{constructor(e,n={}){this.version="12.7.4",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const o=Fi.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Fi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_j(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new m0);const r=this.events[e].add(n);return e==="change"?()=>{r(),Lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Fi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yS);return Z1(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gc(t,e){return new Ej(t,e)}const aC=H.createContext({strict:!1}),vS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Kl={};for(const t in vS)Kl[t]={isEnabled:e=>vS[t].some(n=>!!e[n])};function Tj(t){for(const e in t)Kl[e]={...Kl[e],...t[e]}}const bj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ud(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||bj.has(t)}let oC=t=>!Ud(t);function wj(t){t&&(oC=e=>e.startsWith("on")?!Ud(e):t(e))}try{wj(require("@emotion/is-prop-valid").default)}catch{}function Sj(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(oC(a)||n===!0&&Ud(a)||!e&&!Ud(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function xj(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const Tm=H.createContext({});function bm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Kc(t){return typeof t=="string"||Array.isArray(t)}const T0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],b0=["initial",...T0];function wm(t){return bm(t.animate)||b0.some(e=>Kc(t[e]))}function lC(t){return!!(wm(t)||t.variants)}function Aj(t,e){if(wm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Kc(n)?n:void 0,animate:Kc(r)?r:void 0}}return t.inherit!==!1?e:{}}function Rj(t){const{initial:e,animate:n}=Aj(t,H.useContext(Tm));return H.useMemo(()=>({initial:e,animate:n}),[_S(e),_S(n)])}function _S(t){return Array.isArray(t)?t.join(" "):t}const Cj=Symbol.for("motionComponentSymbol");function Dl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Dj(t,e,n){return H.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Dl(n)&&(n.current=r))},[e])}const w0=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ij="framerAppearId",uC="data-"+w0(Ij),cC=H.createContext({});function Mj(t,e,n,r,a){var V,O;const{visualElement:o}=H.useContext(Tm),u=H.useContext(aC),h=H.useContext(Em),d=H.useContext(c0).reducedMotion,p=H.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:o,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=p.current,v=H.useContext(cC);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&Oj(p.current,n,a,v);const E=H.useRef(!1);H.useInsertionEffect(()=>{g&&E.current&&g.update(n,h)});const w=n[uC],A=H.useRef(!!w&&!((V=window.MotionHandoffIsComplete)!=null&&V.call(window,w))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,w)));return Y1(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),_0.render(g.render),A.current&&g.animationState&&g.animationState.animateChanges())}),H.useEffect(()=>{g&&(!A.current&&g.animationState&&g.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var I;(I=window.MotionHandoffMarkAsComplete)==null||I.call(window,w)}),A.current=!1))}),g}function Oj(t,e,n,r){const{layoutId:a,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hC(t.parent)),t.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!u||h&&Dl(h),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:p})}function hC(t){if(t)return t.options.allowProjection!==!1?t.projection:hC(t.parent)}function Pj({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&Tj(t);function o(h,d){let p;const g={...H.useContext(c0),...h,layoutId:Nj(h)},{isStatic:v}=g,E=Rj(h),w=r(h,v);if(!v&&u0){Vj();const A=kj(g);p=A.MeasureLayout,E.visualElement=Mj(a,w,g,e,A.ProjectionNode)}return P.jsxs(Tm.Provider,{value:E,children:[p&&E.visualElement?P.jsx(p,{visualElement:E.visualElement,...g}):null,n(a,h,Dj(w,E.visualElement,d),w,v,E.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=H.forwardRef(o);return u[Cj]=a,u}function Nj({layoutId:t}){const e=H.useContext(o0).id;return e&&t!==void 0?e+"-"+t:t}function Vj(t,e){H.useContext(aC).strict}function kj(t){const{drag:e,layout:n}=Kl;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const fC=t=>e=>typeof e=="string"&&e.startsWith(t),S0=fC("--"),Lj=fC("var(--"),x0=t=>Lj(t)?Uj.test(t.split("/*")[0].trim()):!1,Uj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Yc={};function jj(t){for(const e in t)Yc[e]=t[e],S0(e)&&(Yc[e].isCSSVariable=!0)}const nu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],No=new Set(nu);function dC(t,{layout:e,layoutId:n}){return No.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Yc[t]||t==="opacity")}const Hn=t=>!!(t&&t.getVelocity),mC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,xs=(t,e,n)=>n>e?e:n<t?t:n,ru={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qc={...ru,transform:t=>xs(0,1,t)},$f={...ru,default:1},hh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),na=hh("deg"),Bi=hh("%"),$e=hh("px"),Fj=hh("vh"),Bj=hh("vw"),ES={...Bi,parse:t=>Bi.parse(t)/100,transform:t=>Bi.transform(t*100)},zj={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e},Hj={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:$f,scaleX:$f,scaleY:$f,scaleZ:$f,skew:na,skewX:na,skewY:na,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Qc,originX:ES,originY:ES,originZ:$e},TS={...ru,transform:Math.round},A0={...zj,...Hj,zIndex:TS,size:$e,fillOpacity:Qc,strokeOpacity:Qc,numOctaves:TS},qj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$j=nu.length;function Gj(t,e,n){let r="",a=!0;for(let o=0;o<$j;o++){const u=nu[o],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const p=mC(h,A0[u]);if(!d){a=!1;const g=qj[u]||u;r+=`${g}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function R0(t,e,n){const{style:r,vars:a,transformOrigin:o}=t;let u=!1,h=!1;for(const d in e){const p=e[d];if(No.has(d)){u=!0;continue}else if(S0(d)){a[d]=p;continue}else{const g=mC(p,A0[d]);d.startsWith("origin")?(h=!0,o[d]=g):r[d]=g}}if(e.transform||(u||n?r.transform=Gj(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:p="50%",originZ:g=0}=o;r.transformOrigin=`${d} ${p} ${g}`}}const C0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function pC(t,e,n){for(const r in e)!Hn(e[r])&&!dC(r,n)&&(t[r]=e[r])}function Kj({transformTemplate:t},e){return H.useMemo(()=>{const n=C0();return R0(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Yj(t,e){const n=t.style||{},r={};return pC(r,n,t),Object.assign(r,Kj(t,e)),r}function Qj(t,e){const n={},r=Yj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Xj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D0(t){return typeof t!="string"||t.includes("-")?!1:!!(Xj.indexOf(t)>-1||/[A-Z]/u.test(t))}const Wj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Zj={offset:"strokeDashoffset",array:"strokeDasharray"};function Jj(t,e,n=1,r=0,a=!0){t.pathLength=1;const o=a?Wj:Zj;t[o.offset]=$e.transform(-r);const u=$e.transform(e),h=$e.transform(n);t[o.array]=`${u} ${h}`}function bS(t,e,n){return typeof t=="string"?t:$e.transform(e+n*t)}function e3(t,e,n){const r=bS(e,t.x,t.width),a=bS(n,t.y,t.height);return`${r} ${a}`}function I0(t,{attrX:e,attrY:n,attrScale:r,originX:a,originY:o,pathLength:u,pathSpacing:h=1,pathOffset:d=0,...p},g,v){if(R0(t,p,v),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:w,dimensions:A}=t;E.transform&&(A&&(w.transform=E.transform),delete E.transform),A&&(a!==void 0||o!==void 0||w.transform)&&(w.transformOrigin=e3(A,a!==void 0?a:.5,o!==void 0?o:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),u!==void 0&&Jj(E,u,h,d,!1)}const gC=()=>({...C0(),attrs:{}}),M0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function t3(t,e,n,r){const a=H.useMemo(()=>{const o=gC();return I0(o,e,M0(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};pC(o,t.style,t),a.style={...o,...a.style}}return a}function n3(t=!1){return(n,r,a,{latestValues:o},u)=>{const d=(D0(n)?t3:Qj)(r,o,u,n),p=Sj(r,typeof n=="string",t),g=n!==H.Fragment?{...p,...d,ref:a}:{},{children:v}=r,E=H.useMemo(()=>Hn(v)?v.get():v,[v]);return H.createElement(n,{...g,children:E})}}function wS(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function O0(t,e,n,r){if(typeof e=="function"){const[a,o]=wS(r);e=e(n!==void 0?n:t.custom,a,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,o]=wS(r);e=e(n!==void 0?n:t.custom,a,o)}return e}const By=t=>Array.isArray(t),r3=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),i3=t=>By(t)?t[t.length-1]||0:t;function ld(t){const e=Hn(t)?t.get():t;return r3(e)?e.toValue():e}function s3({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,a,o){const u={latestValues:a3(r,a,o,t),renderState:e()};return n&&(u.onMount=h=>n({props:r,current:h,...u}),u.onUpdate=h=>n(h)),u}const yC=t=>(e,n)=>{const r=H.useContext(Tm),a=H.useContext(Em),o=()=>s3(t,e,r,a);return n?o():l0(o)};function a3(t,e,n,r){const a={},o=r(t,{});for(const E in o)a[E]=ld(o[E]);let{initial:u,animate:h}=t;const d=wm(t),p=lC(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!bm(v)){const E=Array.isArray(v)?v:[v];for(let w=0;w<E.length;w++){const A=O0(t,E[w]);if(A){const{transitionEnd:V,transition:O,...I}=A;for(const j in I){let G=I[j];if(Array.isArray(G)){const ae=g?G.length-1:0;G=G[ae]}G!==null&&(a[j]=G)}for(const j in V)a[j]=V[j]}}}return a}function P0(t,e,n){var o;const{style:r}=t,a={};for(const u in r)(Hn(r[u])||e.style&&Hn(e.style[u])||dC(u,t)||((o=n==null?void 0:n.getValue(u))==null?void 0:o.liveStyle)!==void 0)&&(a[u]=r[u]);return a}const o3={useVisualState:yC({scrapeMotionValuesFromProps:P0,createRenderState:C0})};function vC(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function _C(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const EC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TC(t,e,n,r){_C(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(EC.has(a)?a:w0(a),e.attrs[a])}function bC(t,e,n){const r=P0(t,e,n);for(const a in t)if(Hn(t[a])||Hn(e[a])){const o=nu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[o]=t[a]}return r}const SS=["x","y","width","height","cx","cy","r"],l3={useVisualState:yC({scrapeMotionValuesFromProps:bC,createRenderState:gC,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:a})=>{if(!n)return;let o=!!t.drag;if(!o){for(const h in a)if(No.has(h)){o=!0;break}}if(!o)return;let u=!e;if(e)for(let h=0;h<SS.length;h++){const d=SS[h];t[d]!==e[d]&&(u=!0)}u&&Lt.read(()=>{vC(n,r),Lt.render(()=>{I0(r,a,M0(n.tagName),t.transformTemplate),TC(n,r)})})}})};function u3(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...D0(r)?l3:o3,preloadedFeatures:t,useRender:n3(a),createVisualElement:e,Component:r};return Pj(u)}}function Xc(t,e,n){const r=t.getProps();return O0(r,e,n!==void 0?n:r.custom,t)}const wC=new Set(["width","height","top","left","right","bottom",...nu]);function c3(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Gc(n))}function h3(t,e){const n=Xc(t,e);let{transitionEnd:r={},transition:a={},...o}=n||{};o={...o,...r};for(const u in o){const h=i3(o[u]);c3(t,u,h)}}function f3(t){return!!(Hn(t)&&t.add)}function zy(t,e){const n=t.getValue("willChange");if(f3(n))return n.add(e);if(!n&&jy.WillChange){const r=new jy.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function SC(t){return t.props[uC]}const xC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,d3=1e-7,m3=12;function p3(t,e,n,r,a){let o,u,h=0;do u=e+(n-e)/2,o=xC(u,r,a)-t,o>0?n=u:e=u;while(Math.abs(o)>d3&&++h<m3);return u}function fh(t,e,n,r){if(t===e&&n===r)return Qr;const a=o=>p3(o,0,1,t,n);return o=>o===0||o===1?o:xC(a(o),e,r)}const AC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,RC=t=>e=>1-t(1-e),CC=fh(.33,1.53,.69,.99),N0=RC(CC),DC=AC(N0),IC=t=>(t*=2)<1?.5*N0(t):.5*(2-Math.pow(2,-10*(t-1))),V0=t=>1-Math.sin(Math.acos(t)),MC=RC(V0),OC=AC(V0),PC=t=>/^0[^.\s]+$/u.test(t);function g3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||PC(t):!0}const xc=t=>Math.round(t*1e5)/1e5,k0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y3(t){return t==null}const v3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,L0=(t,e)=>n=>!!(typeof n=="string"&&v3.test(n)&&n.startsWith(t)||e&&!y3(n)&&Object.prototype.hasOwnProperty.call(n,e)),NC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,o,u,h]=r.match(k0);return{[t]:parseFloat(a),[e]:parseFloat(o),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},_3=t=>xs(0,255,t),Xg={...ru,transform:t=>Math.round(_3(t))},go={test:L0("rgb","red"),parse:NC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Xg.transform(t)+", "+Xg.transform(e)+", "+Xg.transform(n)+", "+xc(Qc.transform(r))+")"};function E3(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Hy={test:L0("#"),parse:E3,transform:go.transform},Il={test:L0("hsl","hue"),parse:NC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Bi.transform(xc(e))+", "+Bi.transform(xc(n))+", "+xc(Qc.transform(r))+")"},Fn={test:t=>go.test(t)||Hy.test(t)||Il.test(t),parse:t=>go.test(t)?go.parse(t):Il.test(t)?Il.parse(t):Hy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?go.transform(t):Il.transform(t)},T3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function b3(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(k0))==null?void 0:e.length)||0)+(((n=t.match(T3))==null?void 0:n.length)||0)>0}const VC="number",kC="color",w3="var",S3="var(",xS="${}",x3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let o=0;const h=e.replace(x3,d=>(Fn.test(d)?(r.color.push(o),a.push(kC),n.push(Fn.parse(d))):d.startsWith(S3)?(r.var.push(o),a.push(w3),n.push(d)):(r.number.push(o),a.push(VC),n.push(parseFloat(d))),++o,xS)).split(xS);return{values:n,split:h,indexes:r,types:a}}function LC(t){return Wc(t).values}function UC(t){const{split:e,types:n}=Wc(t),r=e.length;return a=>{let o="";for(let u=0;u<r;u++)if(o+=e[u],a[u]!==void 0){const h=n[u];h===VC?o+=xc(a[u]):h===kC?o+=Fn.transform(a[u]):o+=a[u]}return o}}const A3=t=>typeof t=="number"?0:t;function R3(t){const e=LC(t);return UC(t)(e.map(A3))}const xa={test:b3,parse:LC,createTransformer:UC,getAnimatableNone:R3},C3=new Set(["brightness","contrast","saturate","opacity"]);function D3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(k0)||[];if(!r)return t;const a=n.replace(r,"");let o=C3.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+a+")"}const I3=/\b([a-z-]*)\(.*?\)/gu,qy={...xa,getAnimatableNone:t=>{const e=t.match(I3);return e?e.map(D3).join(" "):t}},M3={...A0,color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:qy,WebkitFilter:qy},jC=t=>M3[t];function FC(t,e){let n=jC(t);return n!==qy&&(n=xa),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const O3=new Set(["auto","none","0"]);function P3(t,e,n){let r=0,a;for(;r<t.length&&!a;){const o=t[r];typeof o=="string"&&!O3.has(o)&&Wc(o).values.length&&(a=t[r]),r++}if(a&&n)for(const o of e)t[o]=FC(n,a)}const yo=t=>t*180/Math.PI,$y=t=>{const e=yo(Math.atan2(t[1],t[0]));return Gy(e)},N3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:$y,rotateZ:$y,skewX:t=>yo(Math.atan(t[1])),skewY:t=>yo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gy=t=>(t=t%360,t<0&&(t+=360),t),AS=$y,RS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),CS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),V3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RS,scaleY:CS,scale:t=>(RS(t)+CS(t))/2,rotateX:t=>Gy(yo(Math.atan2(t[6],t[5]))),rotateY:t=>Gy(yo(Math.atan2(-t[2],t[0]))),rotateZ:AS,rotate:AS,skewX:t=>yo(Math.atan(t[4])),skewY:t=>yo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function DS(t){return t.includes("scale")?1:0}function Ky(t,e){if(!t||t==="none")return DS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=V3,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=N3,a=h}if(!a)return DS(e);const o=r[e],u=a[1].split(",").map(L3);return typeof o=="function"?o(u):u[o]}const k3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Ky(n,e)};function L3(t){return parseFloat(t.trim())}const IS=t=>t===ru||t===$e,U3=new Set(["x","y","z"]),j3=nu.filter(t=>!U3.has(t));function F3(t){const e=[];return j3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Yl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Ky(e,"x"),y:(t,{transform:e})=>Ky(e,"y")};Yl.translateX=Yl.x;Yl.translateY=Yl.y;const Eo=new Set;let Yy=!1,Qy=!1;function BC(){if(Qy){const t=Array.from(Eo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=F3(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([o,u])=>{var h;(h=r.getValue(o))==null||h.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qy=!1,Yy=!1,Eo.forEach(t=>t.complete()),Eo.clear()}function zC(){Eo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qy=!0)})}function B3(){zC(),BC()}class U0{constructor(e,n,r,a,o,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=o,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Eo.add(this),Yy||(Yy=!0,Lt.read(zC),Lt.resolveKeyframes(BC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;for(let o=0;o<e.length;o++)if(e[o]===null)if(o===0){const u=a==null?void 0:a.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const d=r.readValue(n,h);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=h),a&&u===void 0&&a.set(e[0])}else e[o]=e[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Eo.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Eo.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const HC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),z3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function H3(t){const e=z3.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function qC(t,e,n=1){const[r,a]=H3(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const u=o.trim();return HC(u)?parseFloat(u):u}return x0(a)?qC(a,e,n+1):a}const $C=t=>e=>e.test(t),q3={test:t=>t==="auto",parse:t=>t},GC=[ru,$e,Bi,na,Bj,Fj,q3],MS=t=>GC.find($C(t));class KC extends U0{constructor(e,n,r,a,o){super(e,n,r,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),x0(p))){const g=qC(p,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!wC.has(r)||e.length!==2)return;const[a,o]=e,u=MS(a),h=MS(o);if(u!==h)if(IS(u)&&IS(h))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)g3(e[a])&&r.push(a);r.length&&P3(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=r.length-1,u=r[o];r[o]=Yl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}const OS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xa.test(t)||t==="0")&&!t.startsWith("url("));function $3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function G3(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],u=OS(a,e),h=OS(o,e);return!u||!h?!1:$3(t)||(n==="spring"||g0(n))&&r}const K3=t=>t!==null;function Sm(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(K3),o=e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||r===void 0?a[o]:r}const Y3=40;class YC{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Fi.now(),this.options={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:o,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Y3?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&B3(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Fi.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:o,delay:u,onComplete:h,onUpdate:d,isGenerator:p}=this.options;if(!p&&!G3(e,r,a,o))if(u)this.options.duration=0;else{d&&d(Sm(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const zt=(t,e,n)=>t+(e-t)*n;function Wg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Q3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,o=0,u=0;if(!e)a=o=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Wg(d,h,t+1/3),o=Wg(d,h,t),u=Wg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}function jd(t,e){return n=>n>0?e:t}const Zg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},X3=[Hy,go,Il],W3=t=>X3.find(e=>e.test(t));function PS(t){const e=W3(t);if(!e)return!1;let n=e.parse(t);return e===Il&&(n=Q3(n)),n}const NS=(t,e)=>{const n=PS(t),r=PS(e);if(!n||!r)return jd(t,e);const a={...n};return o=>(a.red=Zg(n.red,r.red,o),a.green=Zg(n.green,r.green,o),a.blue=Zg(n.blue,r.blue,o),a.alpha=zt(n.alpha,r.alpha,o),go.transform(a))},Z3=(t,e)=>n=>e(t(n)),dh=(...t)=>t.reduce(Z3),Xy=new Set(["none","hidden"]);function J3(t,e){return Xy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function e9(t,e){return n=>zt(t,e,n)}function j0(t){return typeof t=="number"?e9:typeof t=="string"?x0(t)?jd:Fn.test(t)?NS:r9:Array.isArray(t)?QC:typeof t=="object"?Fn.test(t)?NS:t9:jd}function QC(t,e){const n=[...t],r=n.length,a=t.map((o,u)=>j0(o)(o,e[u]));return o=>{for(let u=0;u<r;u++)n[u]=a[u](o);return n}}function t9(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=j0(t[a])(t[a],e[a]));return a=>{for(const o in r)n[o]=r[o](a);return n}}function n9(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],u=t.indexes[o][r[o]],h=t.values[u]??0;n[a]=h,r[o]++}return n}const r9=(t,e)=>{const n=xa.createTransformer(e),r=Wc(t),a=Wc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Xy.has(t)&&!a.values.length||Xy.has(e)&&!r.values.length?J3(t,e):dh(QC(n9(r,a),a.values),n):jd(t,e)};function XC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?zt(t,e,n):j0(t)(t,e)}const i9=5;function WC(t,e,n){const r=Math.max(e-i9,0);return Z1(n-t(r),e-r)}const Gt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VS=.001;function s9({duration:t=Gt.duration,bounce:e=Gt.bounce,velocity:n=Gt.velocity,mass:r=Gt.mass}){let a,o,u=1-e;u=xs(Gt.minDamping,Gt.maxDamping,u),t=xs(Gt.minDuration,Gt.maxDuration,ji(t)),u<1?(a=p=>{const g=p*u,v=g*t,E=g-n,w=Wy(p,u),A=Math.exp(-v);return VS-E/w*A},o=p=>{const v=p*u*t,E=v*n+n,w=Math.pow(u,2)*Math.pow(p,2)*t,A=Math.exp(-v),V=Wy(Math.pow(p,2),u);return(-a(p)+VS>0?-1:1)*((E-w)*A)/V}):(a=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-.001+g*v},o=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const h=5/t,d=o9(a,o,h);if(t=Ui(t),isNaN(d))return{stiffness:Gt.stiffness,damping:Gt.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const a9=12;function o9(t,e,n){let r=n;for(let a=1;a<a9;a++)r=r-t(r)/e(r);return r}function Wy(t,e){return t*Math.sqrt(1-e*e)}const l9=["duration","bounce"],u9=["stiffness","damping","mass"];function kS(t,e){return e.some(n=>t[n]!==void 0)}function c9(t){let e={velocity:Gt.velocity,stiffness:Gt.stiffness,damping:Gt.damping,mass:Gt.mass,isResolvedFromDuration:!1,...t};if(!kS(t,u9)&&kS(t,l9))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,o=2*xs(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:Gt.mass,stiffness:a,damping:o}}else{const n=s9(t);e={...e,...n,mass:Gt.mass},e.isResolvedFromDuration=!0}return e}function Fd(t=Gt.visualDuration,e=Gt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const o=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:p,mass:g,duration:v,velocity:E,isResolvedFromDuration:w}=c9({...n,velocity:-ji(n.velocity||0)}),A=E||0,V=p/(2*Math.sqrt(d*g)),O=u-o,I=ji(Math.sqrt(d/g)),j=Math.abs(O)<5;r||(r=j?Gt.restSpeed.granular:Gt.restSpeed.default),a||(a=j?Gt.restDelta.granular:Gt.restDelta.default);let G;if(V<1){const D=Wy(I,V);G=ne=>{const N=Math.exp(-V*I*ne);return u-N*((A+V*I*O)/D*Math.sin(D*ne)+O*Math.cos(D*ne))}}else if(V===1)G=D=>u-Math.exp(-I*D)*(O+(A+I*O)*D);else{const D=I*Math.sqrt(V*V-1);G=ne=>{const N=Math.exp(-V*I*ne),x=Math.min(D*ne,300);return u-N*((A+V*I*O)*Math.sinh(x)+D*O*Math.cosh(x))/D}}const ae={calculatedDuration:w&&v||null,next:D=>{const ne=G(D);if(w)h.done=D>=v;else{let N=0;V<1&&(N=D===0?Ui(A):WC(G,D,ne));const x=Math.abs(N)<=r,C=Math.abs(u-ne)<=a;h.done=x&&C}return h.value=h.done?u:ne,h},toString:()=>{const D=Math.min(v0(ae),Ld),ne=J1(N=>ae.next(D*N).value,D,30);return D+"ms "+ne},toTransition:()=>{}};return ae}Fd.applyToOptions=t=>{const e=lj(t,100,Fd);return t.ease=$c()?e.ease:"easeOut",t.duration=Ui(e.duration),t.type="keyframes",t};function LS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:p=.5,restSpeed:g}){const v=t[0],E={done:!1,value:v},w=x=>h!==void 0&&x<h||d!==void 0&&x>d,A=x=>h===void 0?d:d===void 0||Math.abs(h-x)<Math.abs(d-x)?h:d;let V=n*e;const O=v+V,I=u===void 0?O:u(O);I!==O&&(V=I-v);const j=x=>-V*Math.exp(-x/r),G=x=>I+j(x),ae=x=>{const C=j(x),k=G(x);E.done=Math.abs(C)<=p,E.value=E.done?I:k};let D,ne;const N=x=>{w(E.value)&&(D=x,ne=Fd({keyframes:[E.value,A(E.value)],velocity:WC(G,x,E.value),damping:a,stiffness:o,restDelta:p,restSpeed:g}))};return N(0),{calculatedDuration:null,next:x=>{let C=!1;return!ne&&D===void 0&&(C=!0,ae(x),N(x)),D!==void 0&&x>=D?ne.next(x-D):(!C&&ae(x),E)}}}const h9=fh(.42,0,1,1),f9=fh(0,0,.58,1),ZC=fh(.42,0,.58,1),d9=t=>Array.isArray(t)&&typeof t[0]!="number",m9={linear:Qr,easeIn:h9,easeInOut:ZC,easeOut:f9,circIn:V0,circInOut:OC,circOut:MC,backIn:N0,backInOut:DC,backOut:CC,anticipate:IC},US=t=>{if(p0(t)){W1(t.length===4);const[e,n,r,a]=t;return fh(e,n,r,a)}else if(typeof t=="string")return m9[t];return t};function p9(t,e,n){const r=[],a=n||XC,o=t.length-1;for(let u=0;u<o;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||Qr:e;h=dh(d,h)}r.push(h)}return r}function g9(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const o=t.length;if(W1(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=p9(e,r,a),d=h.length,p=g=>{if(u&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const E=qc(t[v],t[v+1],g);return h[v](E)};return n?g=>p(xs(t[0],t[o-1],g)):p}function y9(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=qc(0,e,r);t.push(zt(n,1,a))}}function v9(t){const e=[0];return y9(e,t.length-1),e}function _9(t,e){return t.map(n=>n*e)}function E9(t,e){return t.map(()=>e||ZC).splice(0,t.length-1)}function Bd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=d9(r)?r.map(US):US(r),o={done:!1,value:e[0]},u=_9(n&&n.length===e.length?n:v9(e),t),h=g9(u,e,{ease:Array.isArray(a)?a:E9(e,a)});return{calculatedDuration:t,next:d=>(o.value=h(d),o.done=d>=t,o)}}const T9=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Lt.update(e,!0),stop:()=>Sa(e),now:()=>In.isProcessing?In.timestamp:Fi.now()}},b9={decay:LS,inertia:LS,tween:Bd,keyframes:Bd,spring:Fd},w9=t=>t/100;class F0 extends YC{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:r,element:a,keyframes:o}=this.options,u=(a==null?void 0:a.KeyframeResolver)||U0,h=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new u(o,h,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o,velocity:u=0}=this.options,h=g0(n)?n:b9[n]||Bd;let d,p;h!==Bd&&typeof e[0]!="number"&&(d=dh(w9,XC(e[0],e[1])),e=[0,100]);const g=h({...this.options,keyframes:e});o==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=v0(g));const{calculatedDuration:v}=g,E=v+a,w=E*(r+1)-a;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:v,resolvedDuration:E,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:x}=this.options;return{done:!0,value:x[x.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:d,calculatedDuration:p,totalDuration:g,resolvedDuration:v}=r;if(this.startTime===null)return o.next(0);const{delay:E,repeat:w,repeatType:A,repeatDelay:V,onUpdate:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const I=this.currentTime-E*(this.speed>=0?1:-1),j=this.speed>=0?I<0:I>g;this.currentTime=Math.max(I,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let G=this.currentTime,ae=o;if(w){const x=Math.min(this.currentTime,g)/v;let C=Math.floor(x),k=x%1;!k&&x>=1&&(k=1),k===1&&C--,C=Math.min(C,w+1),!!(C%2)&&(A==="reverse"?(k=1-k,V&&(k-=V/v)):A==="mirror"&&(ae=u)),G=xs(0,1,k)*v}const D=j?{done:!1,value:d[0]}:ae.next(G);h&&(D.value=h(D.value));let{done:ne}=D;!j&&p!==null&&(ne=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ne);return N&&a!==void 0&&(D.value=Sm(d,this.options,a)),O&&O(D.value),N&&this.finish(),D}get duration(){const{resolved:e}=this;return e?ji(e.calculatedDuration):0}get time(){return ji(this.currentTime)}set time(e){e=Ui(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ji(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=T9,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}get finished(){return this.currentFinishedPromise}}const S9=new Set(["opacity","clipPath","filter","transform"]),x9=d0(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zd=10,A9=2e4;function R9(t){return g0(t.type)||t.type==="spring"||!tC(t.ease)}function C9(t,e){const n=new F0({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const a=[];let o=0;for(;!r.done&&o<A9;)r=n.sample(o),a.push(r.value),o+=zd;return{times:void 0,keyframes:a,duration:o-zd,ease:"linear"}}const JC={anticipate:IC,backInOut:DC,circInOut:OC};function D9(t){return t in JC}class jS extends YC{constructor(e){super(e);const{name:n,motionValue:r,element:a,keyframes:o}=this.options;this.resolver=new KC(o,(u,h)=>this.onKeyframesResolved(u,h),n,r,a),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:a,ease:o,type:u,motionValue:h,name:d,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof o=="string"&&$c()&&D9(o)&&(o=JC[o]),R9(this.options)){const{onComplete:v,onUpdate:E,motionValue:w,element:A,...V}=this.options,O=C9(e,V);e=O.keyframes,e.length===1&&(e[1]=e[0]),r=O.duration,a=O.times,o=O.ease,u="keyframes"}const g=oj(h.owner.current,d,e,{...this.options,duration:r,times:a,ease:o});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(dS(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:v}=this.options;h.set(Sm(e,this.options,n)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:a,type:u,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ji(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ji(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Ui(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}get finished(){return this.resolved.animation.finished}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Qr;const{animation:r}=n;dS(r,e)}return Qr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:a,type:o,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:v,element:E,...w}=this.options,A=new F0({...w,keyframes:r,duration:a,type:o,ease:u,times:h,isGenerator:!0}),V=Ui(this.time);p.setWithVelocity(A.sample(V-zd).value,A.sample(V).value,zd)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:a,repeatType:o,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:p}=n.owner.getProps();return x9()&&r&&S9.has(r)&&(r!=="transform"||!p)&&!d&&!a&&o!=="mirror"&&u!==0&&h!=="inertia"}}const I9={type:"spring",stiffness:500,damping:25,restSpeed:10},M9=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),O9={type:"keyframes",duration:.8},P9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},N9=(t,{keyframes:e})=>e.length>2?O9:No.has(t)?t.startsWith("scale")?M9(e[1]):I9:P9;function V9({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:p,...g}){return!!Object.keys(g).length}const B0=(t,e,n,r={},a,o)=>u=>{const h=y0(r,t)||{},d=h.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Ui(d);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:o?void 0:a};V9(h)||(g={...g,...N9(t,g)}),g.duration&&(g.duration=Ui(g.duration)),g.repeatDelay&&(g.repeatDelay=Ui(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),g.allowFlatten=!h.type&&!h.ease,v&&!o&&e.get()!==void 0){const E=Sm(g.keyframes,h);if(E!==void 0)return Lt.update(()=>{g.onUpdate(E),g.onComplete()}),new ij([])}return!o&&jS.supports(g)?new jS(g):new F0(g)};function k9({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function eD(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(o=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),E=h[g];if(E===void 0||p&&k9(p,g))continue;const w={delay:n,...y0(o||{},g)};let A=!1;if(window.MotionHandoffAnimation){const O=SC(t);if(O){const I=window.MotionHandoffAnimation(O,g,Lt);I!==null&&(w.startTime=I,A=!0)}}zy(t,g),v.start(B0(g,v,E,t.shouldReduceMotion&&wC.has(g)?{type:!1}:w,t,A));const V=v.animation;V&&d.push(V)}return u&&Promise.all(d).then(()=>{Lt.update(()=>{u&&h3(t,u)})}),d}function Zy(t,e,n={}){var d;const r=Xc(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const o=r?()=>Promise.all(eD(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:E}=a;return L9(t,e,g+p,v,E,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[o,u]:[u,o];return p().then(()=>g())}else return Promise.all([o(),u(n.delay)])}function L9(t,e,n=0,r=0,a=1,o){const u=[],h=(t.variantChildren.size-1)*r,d=a===1?(p=0)=>p*r:(p=0)=>h-p*r;return Array.from(t.variantChildren).sort(U9).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(Zy(p,e,{...o,delay:n+d(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function U9(t,e){return t.sortNodePosition(e)}function j9(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(o=>Zy(t,o,n));r=Promise.all(a)}else if(typeof e=="string")r=Zy(t,e,n);else{const a=typeof e=="function"?Xc(t,e,n.custom):e;r=Promise.all(eD(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function tD(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const F9=b0.length;function nD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?nD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<F9;n++){const r=b0[n],a=t.props[r];(Kc(a)||a===!1)&&(e[r]=a)}return e}const B9=[...T0].reverse(),z9=T0.length;function H9(t){return e=>Promise.all(e.map(({animation:n,options:r})=>j9(t,n,r)))}function q9(t){let e=H9(t),n=FS(),r=!0;const a=d=>(p,g)=>{var E;const v=Xc(t,g,d==="exit"?(E=t.presenceContext)==null?void 0:E.custom:void 0);if(v){const{transition:w,transitionEnd:A,...V}=v;p={...p,...V,...A}}return p};function o(d){e=d(t)}function u(d){const{props:p}=t,g=nD(t.parent)||{},v=[],E=new Set;let w={},A=1/0;for(let O=0;O<z9;O++){const I=B9[O],j=n[I],G=p[I]!==void 0?p[I]:g[I],ae=Kc(G),D=I===d?j.isActive:null;D===!1&&(A=O);let ne=G===g[I]&&G!==p[I]&&ae;if(ne&&r&&t.manuallyAnimateOnMount&&(ne=!1),j.protectedKeys={...w},!j.isActive&&D===null||!G&&!j.prevProp||bm(G)||typeof G=="boolean")continue;const N=$9(j.prevProp,G);let x=N||I===d&&j.isActive&&!ne&&ae||O>A&&ae,C=!1;const k=Array.isArray(G)?G:[G];let U=k.reduce(a(I),{});D===!1&&(U={});const{prevResolvedValues:F={}}=j,M={...F,...U},ze=me=>{x=!0,E.has(me)&&(C=!0,E.delete(me)),j.needsAnimating[me]=!0;const be=t.getValue(me);be&&(be.liveStyle=!1)};for(const me in M){const be=U[me],Ue=F[me];if(w.hasOwnProperty(me))continue;let B=!1;By(be)&&By(Ue)?B=!tD(be,Ue):B=be!==Ue,B?be!=null?ze(me):E.add(me):be!==void 0&&E.has(me)?ze(me):j.protectedKeys[me]=!0}j.prevProp=G,j.prevResolvedValues=U,j.isActive&&(w={...w,...U}),r&&t.blockInitialAnimation&&(x=!1),x&&(!(ne&&N)||C)&&v.push(...k.map(me=>({animation:me,options:{type:I}})))}if(E.size){const O={};if(typeof p.initial!="boolean"){const I=Xc(t,Array.isArray(p.initial)?p.initial[0]:p.initial);I&&I.transition&&(O.transition=I.transition)}E.forEach(I=>{const j=t.getBaseTarget(I),G=t.getValue(I);G&&(G.liveStyle=!0),O[I]=j??null}),v.push({animation:O})}let V=!!v.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(V=!1),r=!1,V?e(v):Promise.resolve()}function h(d,p){var v;if(n[d].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(E=>{var w;return(w=E.animationState)==null?void 0:w.setActive(d,p)}),n[d].isActive=p;const g=u(d);for(const E in n)n[E].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>n,reset:()=>{n=FS(),r=!0}}}function $9(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tD(e,t):!1}function uo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FS(){return{animate:uo(!0),whileInView:uo(),whileHover:uo(),whileTap:uo(),whileDrag:uo(),whileFocus:uo(),exit:uo()}}class Ma{constructor(e){this.isMounted=!1,this.node=e}update(){}}class G9 extends Ma{constructor(e){super(e),e.animationState||(e.animationState=q9(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let K9=0;class Y9 extends Ma{constructor(){super(...arguments),this.id=K9++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Q9={animation:{Feature:G9},exit:{Feature:Y9}};function Zc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function mh(t){return{point:{x:t.pageX,y:t.pageY}}}const X9=t=>e=>E0(e)&&t(e,mh(e));function Ac(t,e,n,r){return Zc(t,e,X9(n),r)}function rD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function W9({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Z9(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const iD=1e-4,J9=1-iD,e6=1+iD,sD=.01,t6=0-sD,n6=0+sD;function er(t){return t.max-t.min}function r6(t,e,n){return Math.abs(t-e)<=n}function BS(t,e,n,r=.5){t.origin=r,t.originPoint=zt(e.min,e.max,t.origin),t.scale=er(n)/er(e),t.translate=zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=J9&&t.scale<=e6||isNaN(t.scale))&&(t.scale=1),(t.translate>=t6&&t.translate<=n6||isNaN(t.translate))&&(t.translate=0)}function Rc(t,e,n,r){BS(t.x,e.x,n.x,r?r.originX:void 0),BS(t.y,e.y,n.y,r?r.originY:void 0)}function zS(t,e,n){t.min=n.min+e.min,t.max=t.min+er(e)}function i6(t,e,n){zS(t.x,e.x,n.x),zS(t.y,e.y,n.y)}function HS(t,e,n){t.min=e.min-n.min,t.max=t.min+er(e)}function Cc(t,e,n){HS(t.x,e.x,n.x),HS(t.y,e.y,n.y)}const qS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ml=()=>({x:qS(),y:qS()}),$S=()=>({min:0,max:0}),Wt=()=>({x:$S(),y:$S()});function $r(t){return[t("x"),t("y")]}function Jg(t){return t===void 0||t===1}function Jy({scale:t,scaleX:e,scaleY:n}){return!Jg(t)||!Jg(e)||!Jg(n)}function ho(t){return Jy(t)||aD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aD(t){return GS(t.x)||GS(t.y)}function GS(t){return t&&t!=="0%"}function Hd(t,e,n){const r=t-n,a=e*r;return n+a}function KS(t,e,n,r,a){return a!==void 0&&(t=Hd(t,a,r)),Hd(t,n,r)+e}function ev(t,e=0,n=1,r,a){t.min=KS(t.min,e,n,r,a),t.max=KS(t.max,e,n,r,a)}function oD(t,{x:e,y:n}){ev(t.x,e.translate,e.scale,e.originPoint),ev(t.y,n.translate,n.scale,n.originPoint)}const YS=.999999999999,QS=1.0000000000001;function s6(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let o,u;for(let h=0;h<a;h++){o=n[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Pl(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,oD(t,u)),r&&ho(o.latestValues)&&Pl(t,o.latestValues))}e.x<QS&&e.x>YS&&(e.x=1),e.y<QS&&e.y>YS&&(e.y=1)}function Ol(t,e){t.min=t.min+e,t.max=t.max+e}function XS(t,e,n,r,a=.5){const o=zt(t.min,t.max,a);ev(t,e,n,o,r)}function Pl(t,e){XS(t.x,e.x,e.scaleX,e.scale,e.originX),XS(t.y,e.y,e.scaleY,e.scale,e.originY)}function lD(t,e){return rD(Z9(t.getBoundingClientRect(),e))}function a6(t,e,n){const r=lD(t,n),{scroll:a}=e;return a&&(Ol(r.x,a.offset.x),Ol(r.y,a.offset.y)),r}const uD=({current:t})=>t?t.ownerDocument.defaultView:null,WS=(t,e)=>Math.abs(t-e);function o6(t,e){const n=WS(t.x,e.x),r=WS(t.y,e.y);return Math.sqrt(n**2+r**2)}class cD{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ty(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,w=o6(v.offset,{x:0,y:0})>=3;if(!E&&!w)return;const{point:A}=v,{timestamp:V}=In;this.history.push({...A,timestamp:V});const{onStart:O,onMove:I}=this.handlers;E||(O&&O(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,v)},this.handlePointerMove=(v,E)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=ey(E,this.transformPagePoint),Lt.update(this.updatePoint,!0)},this.handlePointerUp=(v,E)=>{this.end();const{onEnd:w,onSessionEnd:A,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=ty(v.type==="pointercancel"?this.lastMoveEventInfo:ey(E,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,O),A&&A(v,O)},!E0(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const u=mh(e),h=ey(u,this.transformPagePoint),{point:d}=h,{timestamp:p}=In;this.history=[{...d,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,ty(h,this.history)),this.removeListeners=dh(Ac(this.contextWindow,"pointermove",this.handlePointerMove),Ac(this.contextWindow,"pointerup",this.handlePointerUp),Ac(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Sa(this.updatePoint)}}function ey(t,e){return e?{point:e(t.point)}:t}function ZS(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ty({point:t},e){return{point:t,delta:ZS(t,hD(e)),offset:ZS(t,l6(e)),velocity:u6(e,.1)}}function l6(t){return t[0]}function hD(t){return t[t.length-1]}function u6(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=hD(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>Ui(e)));)n--;if(!r)return{x:0,y:0};const o=ji(a.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(a.x-r.x)/o,y:(a.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function c6(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zt(n,t,r.max):Math.min(t,n)),t}function JS(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function h6(t,{top:e,left:n,bottom:r,right:a}){return{x:JS(t.x,n,a),y:JS(t.y,e,r)}}function ex(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function f6(t,e){return{x:ex(t.x,e.x),y:ex(t.y,e.y)}}function d6(t,e){let n=.5;const r=er(t),a=er(e);return a>r?n=qc(e.min,e.max-r,t.min):r>a&&(n=qc(t.min,t.max-a,e.min)),xs(0,1,n)}function m6(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tv=.35;function p6(t=tv){return t===!1?t=0:t===!0&&(t=tv),{x:tx(t,"left","right"),y:tx(t,"top","bottom")}}function tx(t,e,n){return{min:nx(t,e),max:nx(t,n)}}function nx(t,e){return typeof t=="number"?t:t[e]||0}const g6=new WeakMap;class y6{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mh(g).point)},o=(g,v)=>{const{drag:E,dragPropagation:w,onDragStart:A}=this.getProps();if(E&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fj(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$r(O=>{let I=this.getAxisMotionValue(O).get()||0;if(Bi.test(I)){const{projection:j}=this.visualElement;if(j&&j.layout){const G=j.layout.layoutBox[O];G&&(I=er(G)*(parseFloat(I)/100))}}this.originPoint[O]=I}),A&&Lt.postRender(()=>A(g,v)),zy(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},u=(g,v)=>{const{dragPropagation:E,dragDirectionLock:w,onDirectionLock:A,onDrag:V}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:O}=v;if(w&&this.currentDirection===null){this.currentDirection=v6(O),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",v.point,O),this.updateAxis("y",v.point,O),this.visualElement.render(),V&&V(g,v)},h=(g,v)=>this.stop(g,v),d=()=>$r(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new cD(e,{onSessionStart:a,onStart:o,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:uD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Lt.postRender(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Gf(e,a,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=c6(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;e&&Dl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=h6(r.layoutBox,e):this.constraints=!1,this.elastic=p6(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&$r(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=m6(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Dl(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=a6(r,a.root,this.visualElement.getTransformPagePoint());let u=f6(a.layout.layoutBox,o);if(n){const h=n(W9(u));this.hasMutatedConstraints=!!h,h&&(u=rD(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},p=$r(g=>{if(!Gf(g,n,this.currentDirection))return;let v=d&&d[g]||{};u&&(v={min:0,max:0});const E=a?200:1e6,w=a?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(g,A)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return zy(this.visualElement,e),r.start(B0(e,r,0,n,this.visualElement,!1))}stopAnimation(){$r(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){$r(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){$r(n=>{const{drag:r}=this.getProps();if(!Gf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];o.set(e[n]-zt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Dl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$r(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=d6({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),$r(u=>{if(!Gf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];h.set(zt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;g6.set(this.visualElement,this);const e=this.visualElement.current,n=Ac(e,"pointerdown",d=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();Dl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Lt.read(r);const u=Zc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&($r(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())});return()=>{u(),n(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:u=tv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function Gf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function v6(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _6 extends Ma{constructor(e){super(e),this.removeGroupControls=Qr,this.removeListeners=Qr,this.controls=new y6(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Qr}unmount(){this.removeGroupControls(),this.removeListeners()}}const rx=t=>(e,n)=>{t&&Lt.postRender(()=>t(e,n))};class E6 extends Ma{constructor(){super(...arguments),this.removePointerDownListener=Qr}onPointerDown(e){this.session=new cD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:rx(e),onStart:rx(n),onMove:r,onEnd:(o,u)=>{delete this.session,a&&Lt.postRender(()=>a(o,u))}}}mount(){this.removePointerDownListener=Ac(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ud={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ix(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const lc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=ix(t,e.target.x),r=ix(t,e.target.y);return`${n}% ${r}%`}},T6={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=xa.parse(t);if(a.length>5)return r;const o=xa.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const p=zt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),o(a)}};class b6 extends H.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:o}=e;jj(w6),o&&(n.group&&n.group.add(o),r&&r.register&&a&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ud.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:o}=this.props,u=r.projection;return u&&(u.isPresent=o,a||e.layoutDependency!==n||n===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||Lt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fD(t){const[e,n]=Q1(),r=H.useContext(o0);return P.jsx(b6,{...t,layoutGroup:r,switchLayoutGroup:H.useContext(cC),isPresent:e,safeToRemove:n})}const w6={borderRadius:{...lc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lc,borderTopRightRadius:lc,borderBottomLeftRadius:lc,borderBottomRightRadius:lc,boxShadow:T6};function S6(t,e,n){const r=Hn(t)?t:Gc(t);return r.start(B0("",r,e,n)),r.animation}function x6(t){return t instanceof SVGElement&&t.tagName!=="svg"}const A6=(t,e)=>t.depth-e.depth;class R6{constructor(){this.children=[],this.isDirty=!1}add(e){h0(this.children,e),this.isDirty=!0}remove(e){f0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(A6),this.isDirty=!1,this.children.forEach(e)}}function C6(t,e){const n=Fi.now(),r=({timestamp:a})=>{const o=a-n;o>=e&&(Sa(r),t(o-e))};return Lt.read(r,!0),()=>Sa(r)}const dD=["TopLeft","TopRight","BottomLeft","BottomRight"],D6=dD.length,sx=t=>typeof t=="string"?parseFloat(t):t,ax=t=>typeof t=="number"||$e.test(t);function I6(t,e,n,r,a,o){a?(t.opacity=zt(0,n.opacity??1,M6(r)),t.opacityExit=zt(e.opacity??1,0,O6(r))):o&&(t.opacity=zt(e.opacity??1,n.opacity??1,r));for(let u=0;u<D6;u++){const h=`border${dD[u]}Radius`;let d=ox(e,h),p=ox(n,h);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||ax(d)===ax(p)?(t[h]=Math.max(zt(sx(d),sx(p),r),0),(Bi.test(p)||Bi.test(d))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=zt(e.rotate||0,n.rotate||0,r))}function ox(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const M6=mD(0,.5,MC),O6=mD(.5,.95,Qr);function mD(t,e,n){return r=>r<t?0:r>e?1:n(qc(t,e,r))}function lx(t,e){t.min=e.min,t.max=e.max}function qr(t,e){lx(t.x,e.x),lx(t.y,e.y)}function ux(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function cx(t,e,n,r,a){return t-=e,t=Hd(t,1/n,r),a!==void 0&&(t=Hd(t,1/a,r)),t}function P6(t,e=0,n=1,r=.5,a,o=t,u=t){if(Bi.test(e)&&(e=parseFloat(e),e=zt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=zt(o.min,o.max,r);t===o&&(h-=e),t.min=cx(t.min,e,n,h,a),t.max=cx(t.max,e,n,h,a)}function hx(t,e,[n,r,a],o,u){P6(t,e[n],e[r],e[a],e.scale,o,u)}const N6=["x","scaleX","originX"],V6=["y","scaleY","originY"];function fx(t,e,n,r){hx(t.x,e,N6,n?n.x:void 0,r?r.x:void 0),hx(t.y,e,V6,n?n.y:void 0,r?r.y:void 0)}function dx(t){return t.translate===0&&t.scale===1}function pD(t){return dx(t.x)&&dx(t.y)}function mx(t,e){return t.min===e.min&&t.max===e.max}function k6(t,e){return mx(t.x,e.x)&&mx(t.y,e.y)}function px(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gD(t,e){return px(t.x,e.x)&&px(t.y,e.y)}function gx(t){return er(t.x)/er(t.y)}function yx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class L6{constructor(){this.members=[]}add(e){h0(this.members,e),e.scheduleRender()}remove(e){if(f0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function U6(t,e,n){let r="";const a=t.x.translate/e.x,o=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||o||u)&&(r=`translate3d(${a}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:E,skewX:w,skewY:A}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),E&&(r+=`rotateY(${E}deg) `),w&&(r+=`skewX(${w}deg) `),A&&(r+=`skewY(${A}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const ny=["","X","Y","Z"],j6={visibility:"hidden"},vx=1e3;let F6=0;function ry(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function yD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=SC(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Lt,!(a||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&yD(r)}function vD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=F6++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(H6),this.nodes.forEach(Y6),this.nodes.forEach(Q6),this.nodes.forEach(q6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new R6)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new m0),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=x6(u),this.instance=u;const{layoutId:d,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||d)&&(this.isLayoutDirty=!0),t){let v;const E=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=C6(E,250),ud.hasAnimatedSinceResize&&(ud.hasAnimatedSinceResize=!1,this.nodes.forEach(Ex))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&g&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:E,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||eF,{onLayoutAnimationStart:O,onLayoutAnimationComplete:I}=g.getProps(),j=!this.targetLayout||!gD(this.targetLayout,A),G=!E&&w;if(this.options.layoutRoot||this.resumeFrom||G||E&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,G);const ae={...y0(V,"layout"),onPlay:O,onComplete:I};(g.shouldReduceMotion||this.options.layoutRoot)&&(ae.delay=0,ae.type=!1),this.startAnimation(ae)}else E||Ex(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Sa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(X6),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_x);return}this.isUpdating||this.nodes.forEach(G6),this.isUpdating=!1,this.nodes.forEach(K6),this.nodes.forEach(B6),this.nodes.forEach(z6),this.clearAllSnapshots();const h=Fi.now();In.delta=xs(0,1e3/60,h-In.timestamp),In.timestamp=h,In.isProcessing=!0,Yg.update.process(In),Yg.preRender.process(In),Yg.render.process(In),In.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach($6),this.sharedNodes.forEach(W6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Lt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!er(this.snapshot.measuredBox.x)&&!er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!pD(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(h||ho(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),tF(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return Wt();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(nF))){const{scroll:g}=this.root;g&&(Ol(h.x,g.offset.x),Ol(h.y,g.offset.y))}return h}removeElementScroll(u){var d;const h=Wt();if(qr(h,u),(d=this.scroll)!=null&&d.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:E}=g;g!==this.root&&v&&E.layoutScroll&&(v.wasRoot&&qr(h,u),Ol(h.x,v.offset.x),Ol(h.y,v.offset.y))}return h}applyTransform(u,h=!1){const d=Wt();qr(d,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Pl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ho(g.latestValues)&&Pl(d,g.latestValues)}return ho(this.latestValues)&&Pl(d,this.latestValues),d}removeTransform(u){const h=Wt();qr(h,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!ho(p.latestValues))continue;Jy(p.latestValues)&&p.updateSnapshot();const g=Wt(),v=p.measurePageBox();qr(g,v),fx(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ho(this.latestValues)&&fx(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==In.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var E;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=In.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Cc(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i6(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qr(this.target,this.layout.layoutBox),oD(this.target,this.targetDelta)):qr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Cc(this.relativeTargetOrigin,this.target,w.target),qr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Jy(this.parent.latestValues)||aD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===In.timestamp&&(d=!1),d)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;qr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;s6(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Wt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ux(this.prevProjectionDelta.x,this.projectionDelta.x),ux(this.prevProjectionDelta.y,this.projectionDelta.y)),Rc(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!yx(this.projectionDelta.x,this.prevProjectionDelta.x)||!yx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ml(),this.projectionDelta=Ml(),this.projectionDeltaWithTransform=Ml()}setAnimationOrigin(u,h=!1){const d=this.snapshot,p=d?d.latestValues:{},g={...this.latestValues},v=Ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Wt(),w=d?d.source:void 0,A=this.layout?this.layout.source:void 0,V=w!==A,O=this.getStack(),I=!O||O.members.length<=1,j=!!(V&&!I&&this.options.crossfade===!0&&!this.path.some(J6));this.animationProgress=0;let G;this.mixTargetDelta=ae=>{const D=ae/1e3;Tx(v.x,u.x,D),Tx(v.y,u.y,D),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cc(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Z6(this.relativeTarget,this.relativeTargetOrigin,E,D),G&&k6(this.relativeTarget,G)&&(this.isProjectionDirty=!1),G||(G=Wt()),qr(G,this.relativeTarget)),V&&(this.animationValues=g,I6(g,p,this.latestValues,D,j,I)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Sa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Lt.update(()=>{ud.hasAnimatedSinceResize=!0,this.currentAnimation=S6(0,vx,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:p,latestValues:g}=u;if(!(!h||!d||!p)){if(this!==u&&this.layout&&p&&_D(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||Wt();const v=er(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const E=er(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+E}qr(h,d),Pl(h,g),Rc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new L6),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const p={};d.z&&ry("z",u,p,this.animationValues);for(let g=0;g<ny.length;g++)ry(`rotate${ny[g]}`,u,p,this.animationValues),ry(`skew${ny[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return j6;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=ld(u==null?void 0:u.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=ld(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ho(this.latestValues)&&(w.transform=d?d({},""):"none",this.hasProjected=!1),w}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),h.transform=U6(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:v,y:E}=this.projectionDelta;h.transformOrigin=`${v.origin*100}% ${E.origin*100}% 0`,p.animationValues?h.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const w in Yc){if(g[w]===void 0)continue;const{correct:A,applyTo:V,isCSSVariable:O}=Yc[w],I=h.transform==="none"?g[w]:A(g[w],p);if(V){const j=V.length;for(let G=0;G<j;G++)h[V[G]]=I}else O?this.options.visualElement.renderState.vars[w]=I:h[w]=I}return this.options.layoutId&&(h.pointerEvents=p===this?ld(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(_x),this.root.sharedNodes.clear()}}}function B6(t){t.updateLayout()}function z6(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:o}=t.options,u=e.source!==t.layout.source;o==="size"?$r(v=>{const E=u?e.measuredBox[v]:e.layoutBox[v],w=er(E);E.min=r[v].min,E.max=E.min+w}):_D(o,e.layoutBox,r)&&$r(v=>{const E=u?e.measuredBox[v]:e.layoutBox[v],w=er(r[v]);E.max=E.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const h=Ml();Rc(h,r,e.layoutBox);const d=Ml();u?Rc(d,t.applyTransform(a,!0),e.measuredBox):Rc(d,r,e.layoutBox);const p=!pD(h);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:E,layout:w}=v;if(E&&w){const A=Wt();Cc(A,e.layoutBox,E.layoutBox);const V=Wt();Cc(V,r,w.layoutBox),gD(A,V)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=V,t.relativeTargetOrigin=A,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function H6(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function q6(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function $6(t){t.clearSnapshot()}function _x(t){t.clearMeasurements()}function G6(t){t.isLayoutDirty=!1}function K6(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Ex(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Y6(t){t.resolveTargetDelta()}function Q6(t){t.calcProjection()}function X6(t){t.resetSkewAndRotation()}function W6(t){t.removeLeadSnapshot()}function Tx(t,e,n){t.translate=zt(e.translate,0,n),t.scale=zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function bx(t,e,n,r){t.min=zt(e.min,n.min,r),t.max=zt(e.max,n.max,r)}function Z6(t,e,n,r){bx(t.x,e.x,n.x,r),bx(t.y,e.y,n.y,r)}function J6(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const eF={duration:.45,ease:[.4,0,.1,1]},wx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Sx=wx("applewebkit/")&&!wx("chrome/")?Math.round:Qr;function xx(t){t.min=Sx(t.min),t.max=Sx(t.max)}function tF(t){xx(t.x),xx(t.y)}function _D(t,e,n){return t==="position"||t==="preserve-aspect"&&!r6(gx(e),gx(n),.2)}function nF(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const rF=vD({attachResizeListener:(t,e)=>Zc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),iy={current:void 0},ED=vD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!iy.current){const t=new rF({});t.mount(window),t.setOptions({layoutScroll:!0}),iy.current=t}return iy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),iF={pan:{Feature:E6},drag:{Feature:_6,ProjectionNode:ED,MeasureLayout:fD}};function Ax(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,o=r[a];o&&Lt.postRender(()=>o(e,mh(e)))}class sF extends Ma{mount(){const{current:e}=this.node;e&&(this.unmount=mj(e,(n,r)=>(Ax(this.node,r,"Start"),a=>Ax(this.node,a,"End"))))}unmount(){}}class aF extends Ma{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dh(Zc(this.node.current,"focus",()=>this.onFocus()),Zc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Rx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),o=r[a];o&&Lt.postRender(()=>o(e,mh(e)))}class oF extends Ma{mount(){const{current:e}=this.node;e&&(this.unmount=vj(e,(n,r)=>(Rx(this.node,r,"Start"),(a,{success:o})=>Rx(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const nv=new WeakMap,sy=new WeakMap,lF=t=>{const e=nv.get(t.target);e&&e(t)},uF=t=>{t.forEach(lF)};function cF({root:t,...e}){const n=t||document;sy.has(n)||sy.set(n,{});const r=sy.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(uF,{root:t,...e})),r[a]}function hF(t,e,n){const r=cF(e);return nv.set(t,n),r.observe(t),()=>{nv.delete(t),r.unobserve(t)}}const fF={some:0,all:1};class dF extends Ma{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:fF[a]},h=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,o&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),E=p?g:v;E&&E(d)};return hF(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mF(e,n))&&this.startObserver()}unmount(){}}function mF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const pF={inView:{Feature:dF},tap:{Feature:oF},focus:{Feature:aF},hover:{Feature:sF}},gF={layout:{ProjectionNode:ED,MeasureLayout:fD}},rv={current:null},TD={current:!1};function yF(){if(TD.current=!0,!!u0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rv.current=t.matches;t.addListener(e),e()}else rv.current=!1}const vF=[...GC,Fn,xa],_F=t=>vF.find($C(t)),EF=new WeakMap;function TF(t,e,n){for(const r in e){const a=e[r],o=n[r];if(Hn(a))t.addValue(r,a);else if(Hn(o))t.addValue(r,Gc(a,{owner:t}));else if(o!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,Gc(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Cx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=U0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Fi.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Lt.render(this.render,!1,!0))};const{latestValues:d,renderState:p,onUpdate:g}=u;this.onUpdate=g,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=wm(n),this.isVariantNode=lC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in E){const A=E[w];d[w]!==void 0&&Hn(A)&&A.set(d[w],!1)}}mount(e){this.current=e,EF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),TD.current||yF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Sa(this.notifyUpdate),Sa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=No.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Lt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),o(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Kl){const n=Kl[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Cx.length;r++){const a=Cx[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,u=e[o];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=TF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Gc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(HC(r)||PC(r))?r=parseFloat(r):!_F(r)&&xa.test(n)&&(r=FC(e,n)),this.setBaseTarget(e,Hn(r)?r.get():r)),Hn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var o;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=O0(this.props,n,(o=this.presenceContext)==null?void 0:o.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Hn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new m0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class bD extends bF{constructor(){super(...arguments),this.KeyframeResolver=KC}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wF(t){return window.getComputedStyle(t)}class SF extends bD{constructor(){super(...arguments),this.type="html",this.renderInstance=_C}readValueFromInstance(e,n){if(No.has(n))return k3(e,n);{const r=wF(e),a=(S0(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return lD(e,n)}build(e,n,r){R0(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return P0(e,n,r)}}class xF extends bD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&vC(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(No.has(n)){const r=jC(n);return r&&r.default||0}return n=EC.has(n)?n:w0(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return bC(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Lt.postRender(this.updateDimensions)}build(e,n,r){I0(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,a){TC(e,n,r,a)}mount(e){this.isSVGTag=M0(e.tagName),super.mount(e)}}const AF=(t,e)=>D0(t)?new xF(e):new SF(e,{allowProjection:t!==H.Fragment}),RF=u3({...Q9,...pF,...iF,...gF},AF),yt=xj(RF),qn=({title:t,onClick:e,url:n,className:r,type:a,disabled:o=!1})=>P.jsxs("button",{className:r,onClick:e,type:a,disabled:o,children:[P.jsx("img",{src:n}),t]}),ph=()=>{const[t,e]=H.useState(!1),n=[{path:"/",title:"Главная"},{path:"/services",title:"Услуги"},{path:"/rooms",title:"Номера"},{path:"/profile",title:"Профиль"}];H.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]);const r=()=>{document.documentElement.classList.toggle("dark"),localStorage.setItem("theme",document.documentElement.classList.contains("dark")?"dark":"light")};H.useEffect(()=>{localStorage.getItem("theme")==="dark"&&document.documentElement.classList.add("dark")},[]);const a={hidden:{x:"100%"},visible:{x:0,transition:{type:"spring",stiffness:300,damping:30}},exit:{x:"100%",transition:{duration:.3,ease:"easeInOut"}}},o={hidden:{x:50,opacity:0},visible:u=>({x:0,opacity:1,transition:{delay:.1+u*.1,duration:.5,ease:"easeOut"}})};return P.jsxs(P.Fragment,{children:[P.jsxs("nav",{className:"flex justify-between items-center px-4 sm:px-6 md:px-8 lg:px-10",children:[P.jsx(Oi,{to:"/",children:P.jsx(yt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex justify-center items-center bg-accent hover:bg-[#edc988] transition duration-100 ease-in w-40 sm:w-48 md:w-[13.33vw] max-w-[200px] h-20 sm:h-24 md:h-[149px] rounded-b-lg md:rounded-b-[25px]",children:P.jsx("img",{src:"src/img/mainlogo.svg",alt:"logo",className:"w-32 sm:w-36 md:w-[11vw] max-w-[180px]"})})}),P.jsxs(yt.button,{className:"lg:hidden flex flex-col justify-center items-center w-10 h-10 z-50 relative",onClick:()=>e(!t),"aria-label":"Меню","aria-expanded":t,whileHover:{scale:1.1},whileTap:{scale:.9},children:[P.jsx(yt.span,{className:"bg-white h-1 w-6 rounded-full mb-1.5",animate:{rotate:t?45:0,y:t?8:0,width:"1.5rem"}}),P.jsx(yt.span,{className:"bg-white h-1 w-6 rounded-full mb-1.5",animate:{opacity:t?0:1,width:t?0:"1.5rem"}}),P.jsx(yt.span,{className:"bg-white h-1 w-6 rounded-full",animate:{rotate:t?-45:0,y:t?-8:0,width:"1.5rem"}})]}),P.jsxs("div",{className:"hidden lg:flex items-center gap-[98px]",children:[n.map(({path:u,title:h},d)=>P.jsx(Oi,{to:u,className:({isActive:p})=>`font-family-Montserrat text-white hover:underline text-[1.3vw] ${p?"font-bold":""}`,children:h},d)),P.jsx(yt.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:P.jsx(qn,{url:"/src/img/switchTheme.svg",onClick:r,className:"hover:cursor-pointer active:opacity-30 transition duration-50 ease-in w-8 h-8","aria-label":"Переключить тему"})})]})]}),P.jsx(X1,{children:t&&P.jsxs(P.Fragment,{children:[P.jsx(yt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:()=>e(!1)}),P.jsxs(yt.div,{className:"fixed inset-y-0 right-0 w-full sm:w-96 bg-primary dark:bg-dark-primary z-40 lg:hidden flex flex-col items-end justify-center pr-10 space-y-6",variants:a,initial:"hidden",animate:"visible",exit:"exit",children:[n.map(({path:u,title:h},d)=>P.jsx(yt.div,{custom:d,variants:o,initial:"hidden",animate:"visible",children:P.jsx(Oi,{to:u,className:({isActive:p})=>`font-family-Montserrat text-white hover:text-accent text-2xl sm:text-3xl font-medium block py-2 ${p?"text-accent":""}`,onClick:()=>e(!1),children:h})},d)),P.jsx(yt.div,{custom:n.length,variants:o,initial:"hidden",animate:"visible",whileHover:{scale:1.1},whileTap:{scale:.9},className:"mt-6",children:P.jsx(qn,{url:"/src/img/switchTheme.svg",onClick:()=>{r(),e(!1)},className:"hover:cursor-pointer active:opacity-30 transition duration-50 ease-in w-10 h-10 sm:w-12 sm:h-12","aria-label":"Переключить тему"})})]})]})})]})},z0=({url:t,path:e})=>{const n={hidden:{opacity:0},visible:{opacity:1,transition:{duration:1,when:"beforeChildren",staggerChildren:.3}}},r={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.8,ease:"easeOut"}}},a={hidden:{scale:.9,opacity:0},visible:{scale:.92,opacity:1,transition:{delay:.5,duration:.5,type:"spring",stiffness:100}},hover:{scale:.93,transition:{duration:.3}}};return P.jsxs(yt.header,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"flex flex-col gap-16 sm:gap-20 md:gap-24 lg:gap-[137px] bg-cover bg-center transition duration-200 ease-in min-h-screen",style:{backgroundImage:`url(${t})`},children:[P.jsx(ph,{}),P.jsxs(yt.div,{className:"flex flex-col flex-grow justify-between px-4 sm:px-6 md:px-8 lg:pl-[11.09vw] pt-10 sm:pt-12 md:pt-16",variants:n,initial:"hidden",animate:"visible",children:[P.jsxs("div",{className:"TextContainer",children:[P.jsx(yt.h1,{variants:r,className:"font-family-Montserrat text-xl sm:text-2xl md:text-3xl lg:text-[2.6vw] text-white uppercase mb-4 sm:mb-6 md:mb-[30px]",children:"Добро пожаловать"}),P.jsxs(yt.h2,{variants:r,className:"font-family-LogoFont text-white text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-[154px] tracking-wide lg:tracking-[0.69vw] leading-tight sm:leading-snug md:leading-[70px]",children:["LUXURY ",P.jsx("br",{}),P.jsx(yt.span,{variants:r,className:"text-xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-[60px]",children:"HOTELS"})]}),P.jsx(yt.p,{variants:r,className:"w-full md:w-3/4 lg:w-[40vw] font-family-Montserrat text-base sm:text-lg md:text-xl lg:text-[23px] text-left text-white tracking-normal lg:tracking-[1px] mt-4 sm:mt-6 md:mt-8",children:"Забронируйте проживание и насладитесь роскошью нового поколения по самым доступным ценам"})]}),P.jsx(yt.div,{variants:a,initial:"hidden",animate:"visible",whileHover:"hover",className:"flex justify-center mb-12 sm:mb-16 md:mb-20 lg:mb-[165px]",children:P.jsx(Oi,{to:e,children:P.jsx(qn,{url:"/src/img/Reserve.svg",title:"ОНЛАЙН БРОНЬ",className:"flex justify-center gap-2 sm:gap-3 items-center bg-accent hover:bg-[#edc988] hover:cursor-pointer transition duration-100 ease-in-out font-family-MontserratBold text-sm sm:text-base md:text-lg lg:text-xl xl:text-[25px] text-white p-3 sm:p-4 md:p-5 lg:p-[25px] rounded-lg md:rounded-xl"})})})]})]})},Dx=({header:t,title:e,path:n})=>P.jsxs("div",{className:"flex flex-col lg:flex-row px-4 sm:px-6 md:px-8 lg:px-[11.09vw] items-center gap-6 md:gap-8 lg:gap-[50px] w-full",children:[P.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 md:gap-6 lg:gap-6 border-l-2 border-primary dark:border-accent pl-4 sm:pl-6 md:pl-8 lg:pl-[40px] order-2 lg:order-1 lg:w-1/2 lg:h-full",children:[P.jsxs("div",{className:"flex flex-col gap-4 lg:gap-6",children:[P.jsx("h1",{className:"text-primary dark:text-white font-family-Header text-2xl sm:text-3xl md:text-4xl lg:text-4xl xl:text-[2.7vw]",children:t}),P.jsx("p",{className:"text-primary dark:text-white font-family-Montserrat text-base sm:text-lg md:text-xl lg:text-xl",children:e})]}),P.jsx(Oi,{to:"/services",className:"mt-2 lg:mt-4",children:P.jsx(qn,{className:"font-family-MontserratBold text-base sm:text-lg md:text-xl lg:text-xl rounded-lg md:rounded-xl px-6 py-3 lg:px-8 lg:py-4 text-white uppercase flex justify-center items-center bg-accent hover:bg-[#edc988] hover:cursor-pointer transition duration-100 ease-in-out w-full sm:w-auto",title:"Подробнее"})})]}),P.jsx("div",{className:"order-1 lg:order-2 w-full lg:w-1/2 lg:h-full",children:P.jsx("img",{className:"w-full h-full object-cover rounded-lg md:rounded-xl",src:n,alt:t})})]}),H0=({className:t})=>{const e=["Лучшее место, чтобы отдохнуть и развеяться от ежедневной рутины","Отличный комфортный отель по доступной цене!","Шикарный отель с такой же шикарной кухней!"],n=["Станислав Барецкий, Россия","Артем Слободянюк, Беларусь","Валентин Стрыкало, Украина"],[r,a]=H.useState(0),[o,u]=H.useState("right"),h=()=>{u("right"),a(v=>v===e.length-1?0:v+1)},d=()=>{u("left"),a(v=>v===0?e.length-1:v-1)},p={enter:v=>({x:v==="right"?100:-100,opacity:0}),center:{x:0,opacity:1},exit:v=>({x:v==="right"?-100:100,opacity:0})},g={hover:{scale:1.1},tap:{scale:.95}};return P.jsxs(yt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:`flex flex-col items-center gap-4 sm:gap-5 md:gap-6 lg:gap-[20px] mt-8 sm:mt-10 md:mt-12 lg:mt-[46px] mb-16 sm:mb-20 md:mb-24 lg:mb-[163px] px-4 sm:px-6 ${t}`,children:[P.jsx(yt.h1,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4},className:"font-family-Header text-2xl sm:text-3xl md:text-4xl lg:text-[2.7vw] text-primary dark:text-white text-center",children:"Отзывы"}),P.jsx("div",{className:"flex flex-col items-center gap-3 sm:gap-4 md:gap-5 w-full max-w-3xl min-h-[120px] sm:min-h-[140px] md:min-h-[160px] overflow-hidden relative",children:P.jsx(X1,{mode:"popLayout",custom:o,children:P.jsxs(yt.div,{custom:o,variants:p,initial:"enter",animate:"center",exit:"exit",transition:{type:"spring",stiffness:300,damping:30},className:"absolute w-full",children:[P.jsxs(yt.h2,{className:"font-family-Montserrat text-primary dark:text-white text-lg sm:text-xl md:text-2xl lg:text-[25px] text-center leading-tight",children:['"',e[r],'"']}),P.jsx(yt.p,{className:"font-family-Montserrat text-primary dark:text-white text-base sm:text-lg md:text-xl lg:text-[20px] text-center mt-2",children:n[r]})]},r)})}),P.jsxs(yt.div,{className:"flex gap-4 sm:gap-5 md:gap-6 lg:gap-[21px] mt-2 sm:mt-3",children:[P.jsx(yt.div,{variants:g,whileHover:"hover",whileTap:"tap",children:P.jsx(qn,{url:"/src/img/arrow-left.svg",onClick:d,className:"flex justify-center items-center bg-accent hover:bg-[#edc988] hover:cursor-pointer transition duration-100 ease-in-out p-3 sm:p-4 md:p-[15px] rounded-lg sm:rounded-xl","aria-label":"Предыдущий отзыв"})}),P.jsx(yt.div,{variants:g,whileHover:"hover",whileTap:"tap",children:P.jsx(qn,{url:"/src/img/arrow-right.svg",onClick:h,className:"flex justify-center items-center bg-accent hover:bg-[#edc988] hover:cursor-pointer transition duration-100 ease-in-out p-3 sm:p-4 md:p-[15px] rounded-lg sm:rounded-xl","aria-label":"Следующий отзыв"})})]})]})},CF={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,when:"beforeChildren"}}},Ix={hidden:{y:30,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6,ease:"easeOut"}}},Mx={hidden:{opacity:0,x:-50},visible:t=>({opacity:1,x:0,transition:{delay:.2+t*.3,duration:.8,ease:"easeOut"}})},DF=()=>P.jsxs(yt.div,{initial:"hidden",animate:"visible",variants:CF,className:"bg-white dark:bg-[#091121] flex flex-col gap-12 md:gap-16 lg:gap-[69px] justify-between items-center transition duration-150 ease-in px-4 sm:px-6 md:px-8 lg:px-0",children:[P.jsx(yt.p,{variants:Ix,className:"text-xl sm:text-2xl md:text-3xl lg:text-[30px] text-primary dark:text-white mt-12 md:mt-16 lg:mt-[69px] text-center",children:"В стоимость всех наших номеров включен бесплатный завтрак."}),P.jsxs(yt.div,{className:"w-full max-w-[1800px] flex flex-col gap-30",children:[P.jsx(yt.div,{custom:0,variants:Mx,initial:"hidden",animate:"visible",children:P.jsx(Dx,{header:"Люксовые номера",title:"Наши номера созданы для того, чтобы создать атмосферу уюта и тепла. Отвлекитесь от повседневной домашней жизни и найдите для себя личный рай.",path:"/src/img/MainCard1.jpeg"})}),P.jsx(yt.div,{custom:1,variants:Mx,initial:"hidden",animate:"visible",children:P.jsx(Dx,{header:"Отдохните на пляже",title:"Мы любим жизнь на пляже. Близость к океану с доступом к бесконечному песчаному пляжу обеспечивает расслабленное состояние ума. Кажется, что время замирает, наблюдая за океаном.",path:"/src/img/MainCard2.jpeg"})})]}),P.jsx(yt.div,{variants:Ix,className:"w-full",children:P.jsx(H0,{})})]}),Vo=()=>{const t=[{path:"src/img/facebook.svg",title:"Facebook"},{path:"src/img/twitter.svg",title:"Twitter"},{path:"src/img/instagram.svg",title:"Instagram"}];return P.jsx("footer",{className:"bg-primary py-8 sm:py-10 md:py-12 lg:py-16 xl:h-[266px]",children:P.jsx("div",{className:"container mx-auto px-4 sm:px-6 md:px-8 lg:px-10 xl:px-12",children:P.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-8 md:gap-6 lg:gap-10 xl:gap-0",children:[P.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 md:gap-6 lg:gap-[22px] w-full md:w-auto",children:[P.jsx(Pc,{to:"/",children:P.jsx("img",{src:"src/img/logo.svg",alt:"logo",className:"w-32 sm:w-36 md:w-40 lg:w-auto"})}),P.jsxs("p",{className:"font-family-Montserrat text-white text-xs sm:text-sm md:text-[14px] w-full md:w-[200px] lg:w-[14.75vw] max-w-[300px]",children:["497 Evergreen Rd. Roseville, CA 95673",P.jsx("br",{}),"+44 345 678 903",P.jsx("br",{}),"luxury_hotels@gmail.com"]})]}),P.jsx("div",{className:"flex flex-col gap-3 sm:gap-4 md:gap-5 lg:gap-[20px] w-full md:w-auto",children:t.map(({path:e,title:n},r)=>P.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 md:gap-5 lg:gap-[20px]",children:[P.jsx("img",{src:e,alt:`${n} icon`,className:"w-5 h-5 sm:w-6 sm:h-6"}),P.jsx(Pc,{to:"/pageNotFound",className:"hover:opacity-80 transition",children:P.jsx("p",{className:"font-family-Montserrat text-white text-sm sm:text-base md:text-[16px]",children:n})})]},r))}),P.jsxs("div",{className:"flex flex-col gap-3 sm:gap-4 md:gap-5 lg:gap-[15px] w-full md:w-auto lg:max-w-[300px]",children:[P.jsx("h1",{className:"font-family-Montserrat text-white text-sm sm:text-base md:text-[16px]",children:"Subscribe to our newsletter"}),P.jsxs("form",{className:"flex w-full",children:[P.jsx("input",{type:"email",placeholder:"Email Address",className:"flex-grow text-white bg-transparent border-2 border-accent rounded-l-sm px-3 py-2 sm:px-4 sm:py-2 md:px-[17px] md:py-[10px] text-xs sm:text-sm focus:outline-none focus:ring-1 focus:ring-accent",required:!0}),P.jsx(qn,{type:"submit",title:"OK",className:"bg-accent hover:bg-[#edc988] transition py-2 px-3 sm:py-2 sm:px-4 md:py-[11px] md:px-[15px] font-family-MontserratBold text-primary text-xs sm:text-sm md:text-base rounded-r-sm"})]})]})]})})})},IF=()=>P.jsxs("div",{className:"bg-white dark:bg-[#091121]",children:[P.jsx(z0,{url:"/src/img/HeaderBGHome.jpeg",path:"rooms"}),P.jsx(DF,{}),P.jsx(Vo,{})]}),MF=({title:t,path:e,className:n=""})=>P.jsx(yt.div,{style:{backgroundImage:`url(${e})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},className:`relative ${n} flex justify-center items-end overflow-hidden`,initial:{opacity:0,scale:.98},whileInView:{opacity:1,scale:1},viewport:{once:!0,margin:"0px 0px -50px 0px"},transition:{duration:.6,ease:"easeOut"},whileHover:{scale:1.02,transition:{duration:.3}},children:P.jsx(yt.div,{className:`bg-white mt-[55vw] pt-4 pb-3 px-8\r
                 md:pt-5 md:pb-4 md:px-10\r
                 lg:pt-6 lg:pb-5 lg:px-12\r
                 w-max max-w-[90%]`,initial:{y:20,opacity:0},whileInView:{y:0,opacity:1},viewport:{once:!0},transition:{delay:.2,duration:.5},children:P.jsx(yt.h2,{className:`font-family-MontserratBold text-primary \r
                   text-2xl sm:text-md md:text-md \r
                   uppercase whitespace-nowrap max-sm:text-sm`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400},children:t})})}),OF=()=>{let t=[{title:"Тренажерный зал",path:"src/img/gym.jpeg"},{title:"Бар у бассейна",path:"src/img/bar.jpeg"},{title:"СПА Услуги",path:"src/img/spa.jpeg"},{title:"Ресторан",path:"src/img/restaraunt.jpeg"},{title:"Прачечная",path:"src/img/washer.jpeg"}];return P.jsx("div",{className:" dark:bg-[#091121]",children:P.jsxs("div",{className:"flex flex-col items-center gap-15",children:[P.jsxs("div",{className:"flex flex-col items-center mt-[76px] w-[60vw] gap-[20px]",children:[P.jsx("h1",{className:"font-family-Header text-primary text-5xl uppercase dark:text-white",children:"Услуги"}),P.jsx("p",{className:"font-family-Montserrat text-primary text-xl text-center dark:text-white",children:"Мы хотим, чтобы ваше пребывание в нашем роскошном отеле было по-настоящему незабываемым. Вот почему мы уделяем особое внимание всем вашим потребностям, чтобы обеспечить совершенно уникальный опыт . Роскошные отели предлагают идеальные условия с потрясающими видами для отдыха, а наши современные роскошные курортные объекты помогут вам насладиться наилучшим образом."})]}),t.map((e,n)=>P.jsx(MF,{title:e.title,path:e.path,className:"w-[75vw] rounded-md flex justify-center items-end"},n)),P.jsx(H0,{className:"w-[70vw]"})]})})},PF=()=>P.jsxs(P.Fragment,{children:[P.jsx(z0,{url:"src/img/HeaderBGFacilities.jpeg",path:"/rooms"}),P.jsx(OF,{}),P.jsx(Vo,{})]});var gh=t=>t.type==="checkbox",vo=t=>t instanceof Date,Jn=t=>t==null;const wD=t=>typeof t=="object";var tn=t=>!Jn(t)&&!Array.isArray(t)&&wD(t)&&!vo(t),NF=t=>tn(t)&&t.target?gh(t.target)?t.target.checked:t.target.value:t,VF=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kF=(t,e)=>t.has(VF(e)),LF=t=>{const e=t.constructor&&t.constructor.prototype;return tn(e)&&e.hasOwnProperty("isPrototypeOf")},q0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function jn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(q0&&(t instanceof Blob||r))&&(n||tn(t)))if(e=n?[]:{},!n&&!LF(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=jn(t[a]));else return t;return e}var xm=t=>Array.isArray(t)?t.filter(Boolean):[],ln=t=>t===void 0,Ce=(t,e,n)=>{if(!e||!tn(t))return n;const r=xm(e.split(/[,[\].]+?/)).reduce((a,o)=>Jn(a)?a:a[o],t);return ln(r)||r===t?ln(t[e])?n:t[e]:r},Ci=t=>typeof t=="boolean",$0=t=>/^\w*$/.test(t),SD=t=>xm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Pt=(t,e,n)=>{let r=-1;const a=$0(e)?[e]:SD(e),o=a.length,u=o-1;for(;++r<o;){const h=a[r];let d=n;if(r!==u){const p=t[h];d=tn(p)||Array.isArray(p)?p:isNaN(+a[r+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;t[h]=d,t=t[h]}};const Ox={BLUR:"blur",FOCUS_OUT:"focusout"},ii={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};Gr.createContext(null);var UF=(t,e,n,r=!0)=>{const a={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(a,o,{get:()=>{const u=o;return e._proxyFormState[u]!==ii.all&&(e._proxyFormState[u]=!r||ii.all),t[u]}});return a},iv=t=>Jn(t)||!wD(t);function la(t,e){if(iv(t)||iv(e))return t===e;if(vo(t)&&vo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const a of n){const o=t[a];if(!r.includes(a))return!1;if(a!=="ref"){const u=e[a];if(vo(o)&&vo(u)||tn(o)&&tn(u)||Array.isArray(o)&&Array.isArray(u)?!la(o,u):o!==u)return!1}}return!0}var Ii=t=>typeof t=="string",jF=(t,e,n,r,a)=>Ii(t)?(r&&e.watch.add(t),Ce(n,t,a)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),Ce(n,o))):(r&&(e.watchAll=!0),n),xD=(t,e,n,r,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:a||!0}}:{},Dc=t=>Array.isArray(t)?t:[t],Px=()=>{let t=[];return{get observers(){return t},next:a=>{for(const o of t)o.next&&o.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(o=>o!==a)}}),unsubscribe:()=>{t=[]}}},Zn=t=>tn(t)&&!Object.keys(t).length,G0=t=>t.type==="file",si=t=>typeof t=="function",qd=t=>{if(!q0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},AD=t=>t.type==="select-multiple",K0=t=>t.type==="radio",FF=t=>K0(t)||gh(t),ay=t=>qd(t)&&t.isConnected;function BF(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ln(t)?r++:t[e[r++]];return t}function zF(t){for(const e in t)if(t.hasOwnProperty(e)&&!ln(t[e]))return!1;return!0}function dn(t,e){const n=Array.isArray(e)?e:$0(e)?[e]:SD(e),r=n.length===1?t:BF(t,n),a=n.length-1,o=n[a];return r&&delete r[o],a!==0&&(tn(r)&&Zn(r)||Array.isArray(r)&&zF(r))&&dn(t,n.slice(0,-1)),t}var RD=t=>{for(const e in t)if(si(t[e]))return!0;return!1};function $d(t,e={}){const n=Array.isArray(t);if(tn(t)||n)for(const r in t)Array.isArray(t[r])||tn(t[r])&&!RD(t[r])?(e[r]=Array.isArray(t[r])?[]:{},$d(t[r],e[r])):Jn(t[r])||(e[r]=!0);return e}function CD(t,e,n){const r=Array.isArray(t);if(tn(t)||r)for(const a in t)Array.isArray(t[a])||tn(t[a])&&!RD(t[a])?ln(e)||iv(n[a])?n[a]=Array.isArray(t[a])?$d(t[a],[]):{...$d(t[a])}:CD(t[a],Jn(e)?{}:e[a],n[a]):n[a]=!la(t[a],e[a]);return n}var uc=(t,e)=>CD(t,e,$d(e));const Nx={value:!1,isValid:!1},Vx={value:!0,isValid:!0};var DD=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ln(t[0].attributes.value)?ln(t[0].value)||t[0].value===""?Vx:{value:t[0].value,isValid:!0}:Vx:Nx}return Nx},ID=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ln(t)?t:e?t===""?NaN:t&&+t:n&&Ii(t)?new Date(t):r?r(t):t;const kx={isValid:!1,value:null};var MD=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,kx):kx;function Lx(t){const e=t.ref;return G0(e)?e.files:K0(e)?MD(t.refs).value:AD(e)?[...e.selectedOptions].map(({value:n})=>n):gh(e)?DD(t.refs).value:ID(ln(e.value)?t.ref.value:e.value,t)}var HF=(t,e,n,r)=>{const a={};for(const o of t){const u=Ce(e,o);u&&Pt(a,o,u._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:r}},Gd=t=>t instanceof RegExp,cc=t=>ln(t)?t:Gd(t)?t.source:tn(t)?Gd(t.value)?t.value.source:t.value:t,Ux=t=>({isOnSubmit:!t||t===ii.onSubmit,isOnBlur:t===ii.onBlur,isOnChange:t===ii.onChange,isOnAll:t===ii.all,isOnTouch:t===ii.onTouched});const jx="AsyncFunction";var qF=t=>!!t&&!!t.validate&&!!(si(t.validate)&&t.validate.constructor.name===jx||tn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===jx)),$F=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),Fx=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Ic=(t,e,n,r)=>{for(const a of n||Object.keys(t)){const o=Ce(t,a);if(o){const{_f:u,...h}=o;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],a)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(Ic(h,e))break}else if(tn(h)&&Ic(h,e))break}}};function Bx(t,e,n){const r=Ce(t,n);if(r||$0(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const o=a.join("."),u=Ce(e,o),h=Ce(t,o);if(u&&!Array.isArray(u)&&n!==o)return{name:n};if(h&&h.type)return{name:o,error:h};a.pop()}return{name:n}}var GF=(t,e,n,r)=>{n(t);const{name:a,...o}=t;return Zn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(u=>e[u]===(!r||ii.all))},KF=(t,e,n)=>!t||!e||t===e||Dc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),YF=(t,e,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?r.isOnBlur:a.isOnBlur)?!t:(n?r.isOnChange:a.isOnChange)?t:!0,QF=(t,e)=>!xm(Ce(t,e)).length&&dn(t,e),XF=(t,e,n)=>{const r=Dc(Ce(t,n));return Pt(r,"root",e[n]),Pt(t,n,r),t},cd=t=>Ii(t);function zx(t,e,n="validate"){if(cd(t)||Array.isArray(t)&&t.every(cd)||Ci(t)&&!t)return{type:n,message:cd(t)?t:"",ref:e}}var bl=t=>tn(t)&&!Gd(t)?t:{value:t,message:""},Hx=async(t,e,n,r,a,o)=>{const{ref:u,refs:h,required:d,maxLength:p,minLength:g,min:v,max:E,pattern:w,validate:A,name:V,valueAsNumber:O,mount:I}=t._f,j=Ce(n,V);if(!I||e.has(V))return{};const G=h?h[0]:u,ae=F=>{a&&G.reportValidity&&(G.setCustomValidity(Ci(F)?"":F||""),G.reportValidity())},D={},ne=K0(u),N=gh(u),x=ne||N,C=(O||G0(u))&&ln(u.value)&&ln(j)||qd(u)&&u.value===""||j===""||Array.isArray(j)&&!j.length,k=xD.bind(null,V,r,D),U=(F,M,ze,Ne=gs.maxLength,re=gs.minLength)=>{const me=F?M:ze;D[V]={type:F?Ne:re,message:me,ref:u,...k(F?Ne:re,me)}};if(o?!Array.isArray(j)||!j.length:d&&(!x&&(C||Jn(j))||Ci(j)&&!j||N&&!DD(h).isValid||ne&&!MD(h).isValid)){const{value:F,message:M}=cd(d)?{value:!!d,message:d}:bl(d);if(F&&(D[V]={type:gs.required,message:M,ref:G,...k(gs.required,M)},!r))return ae(M),D}if(!C&&(!Jn(v)||!Jn(E))){let F,M;const ze=bl(E),Ne=bl(v);if(!Jn(j)&&!isNaN(j)){const re=u.valueAsNumber||j&&+j;Jn(ze.value)||(F=re>ze.value),Jn(Ne.value)||(M=re<Ne.value)}else{const re=u.valueAsDate||new Date(j),me=B=>new Date(new Date().toDateString()+" "+B),be=u.type=="time",Ue=u.type=="week";Ii(ze.value)&&j&&(F=be?me(j)>me(ze.value):Ue?j>ze.value:re>new Date(ze.value)),Ii(Ne.value)&&j&&(M=be?me(j)<me(Ne.value):Ue?j<Ne.value:re<new Date(Ne.value))}if((F||M)&&(U(!!F,ze.message,Ne.message,gs.max,gs.min),!r))return ae(D[V].message),D}if((p||g)&&!C&&(Ii(j)||o&&Array.isArray(j))){const F=bl(p),M=bl(g),ze=!Jn(F.value)&&j.length>+F.value,Ne=!Jn(M.value)&&j.length<+M.value;if((ze||Ne)&&(U(ze,F.message,M.message),!r))return ae(D[V].message),D}if(w&&!C&&Ii(j)){const{value:F,message:M}=bl(w);if(Gd(F)&&!j.match(F)&&(D[V]={type:gs.pattern,message:M,ref:u,...k(gs.pattern,M)},!r))return ae(M),D}if(A){if(si(A)){const F=await A(j,n),M=zx(F,G);if(M&&(D[V]={...M,...k(gs.validate,M.message)},!r))return ae(M.message),D}else if(tn(A)){let F={};for(const M in A){if(!Zn(F)&&!r)break;const ze=zx(await A[M](j,n),G,M);ze&&(F={...ze,...k(M,ze.message)},ae(ze.message),r&&(D[V]=F))}if(!Zn(F)&&(D[V]={ref:G,...F},!r))return D}}return ae(!0),D};const WF={mode:ii.onSubmit,reValidateMode:ii.onChange,shouldFocusError:!0};function ZF(t={}){let e={...WF,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:si(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let a=tn(e.defaultValues)||tn(e.values)?jn(e.values||e.defaultValues)||{}:{},o=e.shouldUnregister?{}:jn(a),u={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...g};const E={array:Px(),state:Px()},w=Ux(e.mode),A=Ux(e.reValidateMode),V=e.criteriaMode===ii.all,O=z=>Z=>{clearTimeout(p),p=setTimeout(z,Z)},I=async z=>{if(!e.disabled&&(g.isValid||v.isValid||z)){const Z=e.resolver?Zn((await C()).errors):await U(r,!0);Z!==n.isValid&&E.state.next({isValid:Z})}},j=(z,Z)=>{!e.disabled&&(g.isValidating||g.validatingFields||v.isValidating||v.validatingFields)&&((z||Array.from(h.mount)).forEach(se=>{se&&(Z?Pt(n.validatingFields,se,Z):dn(n.validatingFields,se))}),E.state.next({validatingFields:n.validatingFields,isValidating:!Zn(n.validatingFields)}))},G=(z,Z=[],se,Te,pe=!0,le=!0)=>{if(Te&&se&&!e.disabled){if(u.action=!0,le&&Array.isArray(Ce(r,z))){const we=se(Ce(r,z),Te.argA,Te.argB);pe&&Pt(r,z,we)}if(le&&Array.isArray(Ce(n.errors,z))){const we=se(Ce(n.errors,z),Te.argA,Te.argB);pe&&Pt(n.errors,z,we),QF(n.errors,z)}if((g.touchedFields||v.touchedFields)&&le&&Array.isArray(Ce(n.touchedFields,z))){const we=se(Ce(n.touchedFields,z),Te.argA,Te.argB);pe&&Pt(n.touchedFields,z,we)}(g.dirtyFields||v.dirtyFields)&&(n.dirtyFields=uc(a,o)),E.state.next({name:z,isDirty:M(z,Z),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Pt(o,z,Z)},ae=(z,Z)=>{Pt(n.errors,z,Z),E.state.next({errors:n.errors})},D=z=>{n.errors=z,E.state.next({errors:n.errors,isValid:!1})},ne=(z,Z,se,Te)=>{const pe=Ce(r,z);if(pe){const le=Ce(o,z,ln(se)?Ce(a,z):se);ln(le)||Te&&Te.defaultChecked||Z?Pt(o,z,Z?le:Lx(pe._f)):re(z,le),u.mount&&I()}},N=(z,Z,se,Te,pe)=>{let le=!1,we=!1;const je={name:z};if(!e.disabled){if(!se||Te){(g.isDirty||v.isDirty)&&(we=n.isDirty,n.isDirty=je.isDirty=M(),le=we!==je.isDirty);const ht=la(Ce(a,z),Z);we=!!Ce(n.dirtyFields,z),ht?dn(n.dirtyFields,z):Pt(n.dirtyFields,z,!0),je.dirtyFields=n.dirtyFields,le=le||(g.dirtyFields||v.dirtyFields)&&we!==!ht}if(se){const ht=Ce(n.touchedFields,z);ht||(Pt(n.touchedFields,z,se),je.touchedFields=n.touchedFields,le=le||(g.touchedFields||v.touchedFields)&&ht!==se)}le&&pe&&E.state.next(je)}return le?je:{}},x=(z,Z,se,Te)=>{const pe=Ce(n.errors,z),le=(g.isValid||v.isValid)&&Ci(Z)&&n.isValid!==Z;if(e.delayError&&se?(d=O(()=>ae(z,se)),d(e.delayError)):(clearTimeout(p),d=null,se?Pt(n.errors,z,se):dn(n.errors,z)),(se?!la(pe,se):pe)||!Zn(Te)||le){const we={...Te,...le&&Ci(Z)?{isValid:Z}:{},errors:n.errors,name:z};n={...n,...we},E.state.next(we)}},C=async z=>{j(z,!0);const Z=await e.resolver(o,e.context,HF(z||h.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return j(z),Z},k=async z=>{const{errors:Z}=await C(z);if(z)for(const se of z){const Te=Ce(Z,se);Te?Pt(n.errors,se,Te):dn(n.errors,se)}else n.errors=Z;return Z},U=async(z,Z,se={valid:!0})=>{for(const Te in z){const pe=z[Te];if(pe){const{_f:le,...we}=pe;if(le){const je=h.array.has(le.name),ht=pe._f&&qF(pe._f);ht&&g.validatingFields&&j([Te],!0);const Ft=await Hx(pe,h.disabled,o,V,e.shouldUseNativeValidation&&!Z,je);if(ht&&g.validatingFields&&j([Te]),Ft[le.name]&&(se.valid=!1,Z))break;!Z&&(Ce(Ft,le.name)?je?XF(n.errors,Ft,le.name):Pt(n.errors,le.name,Ft[le.name]):dn(n.errors,le.name))}!Zn(we)&&await U(we,Z,se)}}return se.valid},F=()=>{for(const z of h.unMount){const Z=Ce(r,z);Z&&(Z._f.refs?Z._f.refs.every(se=>!ay(se)):!ay(Z._f.ref))&&wt(z)}h.unMount=new Set},M=(z,Z)=>!e.disabled&&(z&&Z&&Pt(o,z,Z),!la(_e(),a)),ze=(z,Z,se)=>jF(z,h,{...u.mount?o:ln(Z)?a:Ii(z)?{[z]:Z}:Z},se,Z),Ne=z=>xm(Ce(u.mount?o:a,z,e.shouldUnregister?Ce(a,z,[]):[])),re=(z,Z,se={})=>{const Te=Ce(r,z);let pe=Z;if(Te){const le=Te._f;le&&(!le.disabled&&Pt(o,z,ID(Z,le)),pe=qd(le.ref)&&Jn(Z)?"":Z,AD(le.ref)?[...le.ref.options].forEach(we=>we.selected=pe.includes(we.value)):le.refs?gh(le.ref)?le.refs.length>1?le.refs.forEach(we=>(!we.defaultChecked||!we.disabled)&&(we.checked=Array.isArray(pe)?!!pe.find(je=>je===we.value):pe===we.value)):le.refs[0]&&(le.refs[0].checked=!!pe):le.refs.forEach(we=>we.checked=we.value===pe):G0(le.ref)?le.ref.value="":(le.ref.value=pe,le.ref.type||E.state.next({name:z,values:jn(o)})))}(se.shouldDirty||se.shouldTouch)&&N(z,pe,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&he(z)},me=(z,Z,se)=>{for(const Te in Z){const pe=Z[Te],le=`${z}.${Te}`,we=Ce(r,le);(h.array.has(z)||tn(pe)||we&&!we._f)&&!vo(pe)?me(le,pe,se):re(le,pe,se)}},be=(z,Z,se={})=>{const Te=Ce(r,z),pe=h.array.has(z),le=jn(Z);Pt(o,z,le),pe?(E.array.next({name:z,values:jn(o)}),(g.isDirty||g.dirtyFields||v.isDirty||v.dirtyFields)&&se.shouldDirty&&E.state.next({name:z,dirtyFields:uc(a,o),isDirty:M(z,le)})):Te&&!Te._f&&!Jn(le)?me(z,le,se):re(z,le,se),Fx(z,h)&&E.state.next({...n}),E.state.next({name:u.mount?z:void 0,values:jn(o)})},Ue=async z=>{u.mount=!0;const Z=z.target;let se=Z.name,Te=!0;const pe=Ce(r,se),le=we=>{Te=Number.isNaN(we)||vo(we)&&isNaN(we.getTime())||la(we,Ce(o,se,we))};if(pe){let we,je;const ht=Z.type?Lx(pe._f):NF(z),Ft=z.type===Ox.BLUR||z.type===Ox.FOCUS_OUT,Ar=!$F(pe._f)&&!e.resolver&&!Ce(n.errors,se)&&!pe._f.deps||YF(Ft,Ce(n.touchedFields,se),n.isSubmitted,A,w),tr=Fx(se,h,Ft);Pt(o,se,ht),Ft?(pe._f.onBlur&&pe._f.onBlur(z),d&&d(0)):pe._f.onChange&&pe._f.onChange(z);const cr=N(se,ht,Ft),Vn=!Zn(cr)||tr;if(!Ft&&E.state.next({name:se,type:z.type,values:jn(o)}),Ar)return(g.isValid||v.isValid)&&(e.mode==="onBlur"?Ft&&I():Ft||I()),Vn&&E.state.next({name:se,...tr?{}:cr});if(!Ft&&tr&&E.state.next({...n}),e.resolver){const{errors:nr}=await C([se]);if(le(ht),Te){const Rr=Bx(n.errors,r,se),Cr=Bx(nr,r,Rr.name||se);we=Cr.error,se=Cr.name,je=Zn(nr)}}else j([se],!0),we=(await Hx(pe,h.disabled,o,V,e.shouldUseNativeValidation))[se],j([se]),le(ht),Te&&(we?je=!1:(g.isValid||v.isValid)&&(je=await U(r,!0)));Te&&(pe._f.deps&&he(pe._f.deps),x(se,je,we,cr))}},B=(z,Z)=>{if(Ce(n.errors,Z)&&z.focus)return z.focus(),1},he=async(z,Z={})=>{let se,Te;const pe=Dc(z);if(e.resolver){const le=await k(ln(z)?z:pe);se=Zn(le),Te=z?!pe.some(we=>Ce(le,we)):se}else z?(Te=(await Promise.all(pe.map(async le=>{const we=Ce(r,le);return await U(we&&we._f?{[le]:we}:we)}))).every(Boolean),!(!Te&&!n.isValid)&&I()):Te=se=await U(r);return E.state.next({...!Ii(z)||(g.isValid||v.isValid)&&se!==n.isValid?{}:{name:z},...e.resolver||!z?{isValid:se}:{},errors:n.errors}),Z.shouldFocus&&!Te&&Ic(r,B,z?pe:h.mount),Te},_e=z=>{const Z={...u.mount?o:a};return ln(z)?Z:Ii(z)?Ce(Z,z):z.map(se=>Ce(Z,se))},ge=(z,Z)=>({invalid:!!Ce((Z||n).errors,z),isDirty:!!Ce((Z||n).dirtyFields,z),error:Ce((Z||n).errors,z),isValidating:!!Ce(n.validatingFields,z),isTouched:!!Ce((Z||n).touchedFields,z)}),Me=z=>{z&&Dc(z).forEach(Z=>dn(n.errors,Z)),E.state.next({errors:z?n.errors:{}})},Ge=(z,Z,se)=>{const Te=(Ce(r,z,{_f:{}})._f||{}).ref,pe=Ce(n.errors,z)||{},{ref:le,message:we,type:je,...ht}=pe;Pt(n.errors,z,{...ht,...Z,ref:Te}),E.state.next({name:z,errors:n.errors,isValid:!1}),se&&se.shouldFocus&&Te&&Te.focus&&Te.focus()},He=(z,Z)=>si(z)?E.state.subscribe({next:se=>z(ze(void 0,Z),se)}):ze(z,Z,!0),jt=z=>E.state.subscribe({next:Z=>{KF(z.name,Z.name,z.exact)&&GF(Z,z.formState||g,Gi,z.reRenderRoot)&&z.callback({values:{...o},...n,...Z})}}).unsubscribe,bt=z=>(u.mount=!0,v={...v,...z.formState},jt({...z,formState:v})),wt=(z,Z={})=>{for(const se of z?Dc(z):h.mount)h.mount.delete(se),h.array.delete(se),Z.keepValue||(dn(r,se),dn(o,se)),!Z.keepError&&dn(n.errors,se),!Z.keepDirty&&dn(n.dirtyFields,se),!Z.keepTouched&&dn(n.touchedFields,se),!Z.keepIsValidating&&dn(n.validatingFields,se),!e.shouldUnregister&&!Z.keepDefaultValue&&dn(a,se);E.state.next({values:jn(o)}),E.state.next({...n,...Z.keepDirty?{isDirty:M()}:{}}),!Z.keepIsValid&&I()},gn=({disabled:z,name:Z})=>{(Ci(z)&&u.mount||z||h.disabled.has(Z))&&(z?h.disabled.add(Z):h.disabled.delete(Z))},Nn=(z,Z={})=>{let se=Ce(r,z);const Te=Ci(Z.disabled)||Ci(e.disabled);return Pt(r,z,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:z}},name:z,mount:!0,...Z}}),h.mount.add(z),se?gn({disabled:Ci(Z.disabled)?Z.disabled:e.disabled,name:z}):ne(z,!0,Z.value),{...Te?{disabled:Z.disabled||e.disabled}:{},...e.progressive?{required:!!Z.required,min:cc(Z.min),max:cc(Z.max),minLength:cc(Z.minLength),maxLength:cc(Z.maxLength),pattern:cc(Z.pattern)}:{},name:z,onChange:Ue,onBlur:Ue,ref:pe=>{if(pe){Nn(z,Z),se=Ce(r,z);const le=ln(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,we=FF(le),je=se._f.refs||[];if(we?je.find(ht=>ht===le):le===se._f.ref)return;Pt(r,z,{_f:{...se._f,...we?{refs:[...je.filter(ay),le,...Array.isArray(Ce(a,z))?[{}]:[]],ref:{type:le.type,name:z}}:{ref:le}}}),ne(z,!1,void 0,le)}else se=Ce(r,z,{}),se._f&&(se._f.mount=!1),(e.shouldUnregister||Z.shouldUnregister)&&!(kF(h.array,z)&&u.action)&&h.unMount.add(z)}}},Sr=()=>e.shouldFocusError&&Ic(r,B,h.mount),Sn=z=>{Ci(z)&&(E.state.next({disabled:z}),Ic(r,(Z,se)=>{const Te=Ce(r,se);Te&&(Z.disabled=Te._f.disabled||z,Array.isArray(Te._f.refs)&&Te._f.refs.forEach(pe=>{pe.disabled=Te._f.disabled||z}))},0,!1))},xr=(z,Z)=>async se=>{let Te;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let pe=jn(o);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:le,values:we}=await C();n.errors=le,pe=we}else await U(r);if(h.disabled.size)for(const le of h.disabled)Pt(pe,le,void 0);if(dn(n.errors,"root"),Zn(n.errors)){E.state.next({errors:{}});try{await z(pe,se)}catch(le){Te=le}}else Z&&await Z({...n.errors},se),Sr(),setTimeout(Sr);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Zn(n.errors)&&!Te,submitCount:n.submitCount+1,errors:n.errors}),Te)throw Te},$i=(z,Z={})=>{Ce(r,z)&&(ln(Z.defaultValue)?be(z,jn(Ce(a,z))):(be(z,Z.defaultValue),Pt(a,z,jn(Z.defaultValue))),Z.keepTouched||dn(n.touchedFields,z),Z.keepDirty||(dn(n.dirtyFields,z),n.isDirty=Z.defaultValue?M(z,jn(Ce(a,z))):M()),Z.keepError||(dn(n.errors,z),g.isValid&&I()),E.state.next({...n}))},ci=(z,Z={})=>{const se=z?jn(z):a,Te=jn(se),pe=Zn(z),le=pe?a:Te;if(Z.keepDefaultValues||(a=se),!Z.keepValues){if(Z.keepDirtyValues){const we=new Set([...h.mount,...Object.keys(uc(a,o))]);for(const je of Array.from(we))Ce(n.dirtyFields,je)?Pt(le,je,Ce(o,je)):be(je,Ce(le,je))}else{if(q0&&ln(z))for(const we of h.mount){const je=Ce(r,we);if(je&&je._f){const ht=Array.isArray(je._f.refs)?je._f.refs[0]:je._f.ref;if(qd(ht)){const Ft=ht.closest("form");if(Ft){Ft.reset();break}}}}for(const we of h.mount)be(we,Ce(le,we))}o=jn(le),E.array.next({values:{...le}}),E.state.next({values:{...le}})}h={mount:Z.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!g.isValid||!!Z.keepIsValid||!!Z.keepDirtyValues,u.watch=!!e.shouldUnregister,E.state.next({submitCount:Z.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:Z.keepDirty?n.isDirty:!!(Z.keepDefaultValues&&!la(z,a)),isSubmitted:Z.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:Z.keepDirtyValues?Z.keepDefaultValues&&o?uc(a,o):n.dirtyFields:Z.keepDefaultValues&&z?uc(a,z):Z.keepDirty?n.dirtyFields:{},touchedFields:Z.keepTouched?n.touchedFields:{},errors:Z.keepErrors?n.errors:{},isSubmitSuccessful:Z.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},xn=(z,Z)=>ci(si(z)?z(o):z,Z),Pa=(z,Z={})=>{const se=Ce(r,z),Te=se&&se._f;if(Te){const pe=Te.refs?Te.refs[0]:Te.ref;pe.focus&&(pe.focus(),Z.shouldSelect&&si(pe.select)&&pe.select())}},Gi=z=>{n={...n,...z}},yn={control:{register:Nn,unregister:wt,getFieldState:ge,handleSubmit:xr,setError:Ge,_subscribe:jt,_runSchema:C,_getWatch:ze,_getDirty:M,_setValid:I,_setFieldArray:G,_setDisabledField:gn,_setErrors:D,_getFieldArray:Ne,_reset:ci,_resetDefaultValues:()=>si(e.defaultValues)&&e.defaultValues().then(z=>{xn(z,e.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:Sn,_subjects:E,_proxyFormState:g,get _fields(){return r},get _formValues(){return o},get _state(){return u},set _state(z){u=z},get _defaultValues(){return a},get _names(){return h},set _names(z){h=z},get _formState(){return n},get _options(){return e},set _options(z){e={...e,...z}}},subscribe:bt,trigger:he,register:Nn,handleSubmit:xr,watch:He,setValue:be,getValues:_e,reset:xn,resetField:$i,clearErrors:Me,unregister:wt,setError:Ge,setFocus:Pa,getFieldState:ge};return{...yn,formControl:yn}}const JF=typeof window<"u"?Gr.useLayoutEffect:Gr.useEffect;function Am(t={}){const e=Gr.useRef(void 0),n=Gr.useRef(void 0),[r,a]=Gr.useState({isDirty:!1,isValidating:!1,isLoading:si(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:si(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:ZF(t),formState:r},t.formControl&&t.defaultValues&&!si(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,JF(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>a({...o._formState}),reRenderRoot:!0});return a(h=>({...h,isReady:!0})),o._formState.isReady=!0,u},[o]),Gr.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Gr.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode),t.errors&&!Zn(t.errors)&&o._setErrors(t.errors)},[o,t.errors,t.mode,t.reValidateMode]),Gr.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),Gr.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==r.isDirty&&o._subjects.state.next({isDirty:u})}},[o,r.isDirty]),Gr.useEffect(()=>{t.values&&!la(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,a(u=>({...u}))):o._resetDefaultValues()},[o,t.values]),Gr.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=UF(r,o),e.current}var oy,qx;function eB(){if(qx)return oy;qx=1;function t(I){this._maxSize=I,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(I){return this._values[I]},t.prototype.set=function(I,j){return this._size>=this._maxSize&&this.clear(),I in this._values||this._size++,this._values[I]=j};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,r=/^\d/,a=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,o=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,h=new t(u),d=new t(u),p=new t(u);oy={Cache:t,split:v,normalizePath:g,setter:function(I){var j=g(I);return d.get(I)||d.set(I,function(ae,D){for(var ne=0,N=j.length,x=ae;ne<N-1;){var C=j[ne];if(C==="__proto__"||C==="constructor"||C==="prototype")return ae;x=x[j[ne++]]}x[j[ne]]=D})},getter:function(I,j){var G=g(I);return p.get(I)||p.set(I,function(D){for(var ne=0,N=G.length;ne<N;)if(D!=null||!j)D=D[G[ne++]];else return;return D})},join:function(I){return I.reduce(function(j,G){return j+(w(G)||n.test(G)?"["+G+"]":(j?".":"")+G)},"")},forEach:function(I,j,G){E(Array.isArray(I)?I:v(I),j,G)}};function g(I){return h.get(I)||h.set(I,v(I).map(function(j){return j.replace(o,"$2")}))}function v(I){return I.match(e)||[""]}function E(I,j,G){var ae=I.length,D,ne,N,x;for(ne=0;ne<ae;ne++)D=I[ne],D&&(O(D)&&(D='"'+D+'"'),x=w(D),N=!x&&/^\d+$/.test(D),j.call(G,D,x,N,ne,I))}function w(I){return typeof I=="string"&&I&&["'",'"'].indexOf(I.charAt(0))!==-1}function A(I){return I.match(r)&&!I.match(n)}function V(I){return a.test(I)}function O(I){return!w(I)&&(A(I)||V(I))}return oy}var To=eB(),ly,$x;function tB(){if($x)return ly;$x=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=g=>g.match(t)||[],n=g=>g[0].toUpperCase()+g.slice(1),r=(g,v)=>e(g).join(v).toLowerCase(),a=g=>e(g).reduce((v,E)=>`${v}${v?E[0].toUpperCase()+E.slice(1).toLowerCase():E.toLowerCase()}`,"");return ly={words:e,upperFirst:n,camelCase:a,pascalCase:g=>n(a(g)),snakeCase:g=>r(g,"_"),kebabCase:g=>r(g,"-"),sentenceCase:g=>n(r(g," ")),titleCase:g=>e(g).map(n).join(" ")},ly}var uy=tB(),Kf={exports:{}},Gx;function nB(){if(Gx)return Kf.exports;Gx=1,Kf.exports=function(a){return t(e(a),a)},Kf.exports.array=t;function t(a,o){var u=a.length,h=new Array(u),d={},p=u,g=n(o),v=r(a);for(o.forEach(function(w){if(!v.has(w[0])||!v.has(w[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});p--;)d[p]||E(a[p],p,new Set);return h;function E(w,A,V){if(V.has(w)){var O;try{O=", node was:"+JSON.stringify(w)}catch{O=""}throw new Error("Cyclic dependency"+O)}if(!v.has(w))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(w));if(!d[A]){d[A]=!0;var I=g.get(w)||new Set;if(I=Array.from(I),A=I.length){V.add(w);do{var j=I[--A];E(j,v.get(j),V)}while(A);V.delete(w)}h[--u]=w}}}function e(a){for(var o=new Set,u=0,h=a.length;u<h;u++){var d=a[u];o.add(d[0]),o.add(d[1])}return Array.from(o)}function n(a){for(var o=new Map,u=0,h=a.length;u<h;u++){var d=a[u];o.has(d[0])||o.set(d[0],new Set),o.has(d[1])||o.set(d[1],new Set),o.get(d[0]).add(d[1])}return o}function r(a){for(var o=new Map,u=0,h=a.length;u<h;u++)o.set(a[u],u);return o}return Kf.exports}var rB=nB();const iB=eA(rB),sB=Object.prototype.toString,aB=Error.prototype.toString,oB=RegExp.prototype.toString,lB=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",uB=/^Symbol\((.*)\)(.*)$/;function cB(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function Kx(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return cB(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return lB.call(t).replace(uB,"Symbol($1)");const r=sB.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+aB.call(t)+"]":r==="RegExp"?oB.call(t):null}function pa(t,e){let n=Kx(t,e);return n!==null?n:JSON.stringify(t,function(r,a){let o=Kx(this[r],e);return o!==null?o:a},2)}function OD(t){return t==null?[]:[].concat(t)}let PD,ND,VD,hB=/\$\{\s*(\w+)\s*\}/g;PD=Symbol.toStringTag;class Yx{constructor(e,n,r,a){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[PD]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=a,this.errors=[],this.inner=[],OD(e).forEach(o=>{if(lr.isError(o)){this.errors.push(...o.errors);const u=o.inner.length?o.inner:[o];this.inner.push(...u)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}ND=Symbol.hasInstance;VD=Symbol.toStringTag;class lr extends Error{static formatError(e,n){const r=n.label||n.path||"this";return n=Object.assign({},n,{path:r,originalPath:n.path}),typeof e=="string"?e.replace(hB,(a,o)=>pa(n[o])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,a,o){const u=new Yx(e,n,r,a);if(o)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[VD]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,lr)}static[ND](e){return Yx[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Di={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const a=r!=null&&r!==n?` (cast from the value \`${pa(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${pa(n,!0)}\``+a:`${t} must match the configured type. The validated value was: \`${pa(n,!0)}\``+a}},ar={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},fB={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},sv={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},dB={isValue:"${path} field must be ${value}"},hd={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},mB={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},pB={notType:t=>{const{path:e,value:n,spec:r}=t,a=r.types.length;if(Array.isArray(n)){if(n.length<a)return`${e} tuple value has too few items, expected a length of ${a} but got ${n.length} for value: \`${pa(n,!0)}\``;if(n.length>a)return`${e} tuple value has too many items, expected a length of ${a} but got ${n.length} for value: \`${pa(n,!0)}\``}return lr.formatError(Di.notType,t)}};Object.assign(Object.create(null),{mixed:Di,string:ar,number:fB,date:sv,object:hd,array:mB,boolean:dB,tuple:pB});const Y0=t=>t&&t.__isYupSchema__;class Kd{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:a,otherwise:o}=n,u=typeof r=="function"?r:(...h)=>h.every(d=>d===r);return new Kd(e,(h,d)=>{var p;let g=u(...h)?a:o;return(p=g==null?void 0:g(d))!=null?p:d})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(o=>o.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),a=this.fn(r,e,n);if(a===void 0||a===e)return e;if(!Y0(a))throw new TypeError("conditions must return a schema object");return a.resolve(n)}}const Yf={context:"$",value:"."};function gB(t,e){return new Oa(t,e)}class Oa{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Yf.context,this.isValue=this.key[0]===Yf.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?Yf.context:this.isValue?Yf.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&To.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let a=this.isContext?r:this.isValue?e:n;return this.getter&&(a=this.getter(a||{})),this.map&&(a=this.map(a)),a}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}Oa.prototype.__isYupRef=!0;const _o=t=>t==null;function wl(t){function e({value:n,path:r="",options:a,originalValue:o,schema:u},h,d){const{name:p,test:g,params:v,message:E,skipAbsent:w}=t;let{parent:A,context:V,abortEarly:O=u.spec.abortEarly,disableStackTrace:I=u.spec.disableStackTrace}=a;function j(U){return Oa.isRef(U)?U.getValue(n,A,V):U}function G(U={}){const F=Object.assign({value:n,originalValue:o,label:u.spec.label,path:U.path||r,spec:u.spec,disableStackTrace:U.disableStackTrace||I},v,U.params);for(const ze of Object.keys(F))F[ze]=j(F[ze]);const M=new lr(lr.formatError(U.message||E,F),n,F.path,U.type||p,F.disableStackTrace);return M.params=F,M}const ae=O?h:d;let D={path:r,parent:A,type:p,from:a.from,createError:G,resolve:j,options:a,originalValue:o,schema:u};const ne=U=>{lr.isError(U)?ae(U):U?d(null):ae(G())},N=U=>{lr.isError(U)?ae(U):h(U)};if(w&&_o(n))return ne(!0);let C;try{var k;if(C=g.call(D,n,D),typeof((k=C)==null?void 0:k.then)=="function"){if(a.sync)throw new Error(`Validation test of type: "${D.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(ne,N)}}catch(U){N(U);return}ne(C)}return e.OPTIONS=t,e}function yB(t,e,n,r=n){let a,o,u;return e?(To.forEach(e,(h,d,p)=>{let g=d?h.slice(1,h.length-1):h;t=t.resolve({context:r,parent:a,value:n});let v=t.type==="tuple",E=p?parseInt(g,10):0;if(t.innerType||v){if(v&&!p)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(n&&E>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${h}, in the path: ${e}. because there is no value at that index. `);a=n,n=n&&n[E],t=v?t.spec.types[E]:t.innerType}if(!p){if(!t.fields||!t.fields[g])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${t.type}")`);a=n,n=n&&n[g],t=t.fields[g]}o=g,u=d?"["+h+"]":"."+h}),{schema:t,parent:a,parentPath:o}):{parent:a,parentPath:e,schema:t}}class Yd extends Set{describe(){const e=[];for(const n of this.values())e.push(Oa.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Yd(this.values())}merge(e,n){const r=this.clone();return e.forEach(a=>r.add(a)),n.forEach(a=>r.delete(a)),r}}function Nl(t,e=new Map){if(Y0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Nl(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,a]of t.entries())n.set(r,Nl(a,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Nl(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,a]of Object.entries(t))n[r]=Nl(a,e)}else throw Error(`Unable to clone ${t}`);return n}class qi{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Yd,this._blacklist=new Yd,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Di.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Nl(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const a=Object.assign({},n.spec,r.spec);return r.spec=a,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(o=>{e.tests.forEach(u=>{o.test(u.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((a,o)=>o.resolve(a,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,a,o;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(a=e.recursive)!=null?a:this.spec.recursive,disableStackTrace:(o=e.disableStackTrace)!=null?o:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),a=n.assert==="ignore-optionality",o=r._cast(e,n);if(n.assert!==!1&&!r.isType(o)){if(a&&_o(o))return o;let u=pa(e),h=pa(o);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${u} 
`+(h!==u?`result of cast: ${h}`:""))}return o}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((a,o)=>o.call(this,a,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,a){let{path:o,originalValue:u=e,strict:h=this.spec.strict}=n,d=e;h||(d=this._cast(d,Object.assign({assert:!1},n)));let p=[];for(let g of Object.values(this.internalTests))g&&p.push(g);this.runTests({path:o,value:d,originalValue:u,options:n,tests:p},r,g=>{if(g.length)return a(g,d);this.runTests({path:o,value:d,originalValue:u,options:n,tests:this.tests},r,a)})}runTests(e,n,r){let a=!1,{tests:o,value:u,originalValue:h,path:d,options:p}=e,g=V=>{a||(a=!0,n(V,u))},v=V=>{a||(a=!0,r(V,u))},E=o.length,w=[];if(!E)return v([]);let A={value:u,originalValue:h,path:d,options:p,schema:this};for(let V=0;V<o.length;V++){const O=o[V];O(A,g,function(j){j&&(Array.isArray(j)?w.push(...j):w.push(j)),--E<=0&&v(w)})}}asNestedTest({key:e,index:n,parent:r,parentPath:a,originalParent:o,options:u}){const h=e??n;if(h==null)throw TypeError("Must include `key` or `index` for nested validations");const d=typeof h=="number";let p=r[h];const g=Object.assign({},u,{strict:!0,parent:r,value:p,originalValue:o[h],key:void 0,[d?"index":"key"]:h,path:d||h.includes(".")?`${a||""}[${d?h:`"${h}"`}]`:(a?`${a}.`:"")+e});return(v,E,w)=>this.resolve(g)._validate(p,g,E,w)}validate(e,n){var r;let a=this.resolve(Object.assign({},n,{value:e})),o=(r=n==null?void 0:n.disableStackTrace)!=null?r:a.spec.disableStackTrace;return new Promise((u,h)=>a._validate(e,n,(d,p)=>{lr.isError(d)&&(d.value=p),h(d)},(d,p)=>{d.length?h(new lr(d,p,void 0,void 0,o)):u(p)}))}validateSync(e,n){var r;let a=this.resolve(Object.assign({},n,{value:e})),o,u=(r=n==null?void 0:n.disableStackTrace)!=null?r:a.spec.disableStackTrace;return a._validate(e,Object.assign({},n,{sync:!0}),(h,d)=>{throw lr.isError(h)&&(h.value=d),h},(h,d)=>{if(h.length)throw new lr(h,e,void 0,void 0,u);o=d}),o}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(lr.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(lr.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Nl(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=wl({message:n,name:"nullable",test(a){return a===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=wl({message:n,name:"optionality",test(a){return a===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Di.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Di.notNull){return this.nullability(!1,e)}required(e=Di.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Di.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),a=wl(n),o=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(u=>!(u.OPTIONS.name===n.name&&(o||u.OPTIONS.test===a.OPTIONS.test))),r.tests.push(a),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),a=OD(e).map(o=>new Oa(o));return a.forEach(o=>{o.isSibling&&r.deps.push(o.key)}),r.conditions.push(typeof n=="function"?new Kd(a,n):Kd.fromOptions(a,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=wl({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Di.oneOf){let r=this.clone();return e.forEach(a=>{r._whitelist.add(a),r._blacklist.delete(a)}),r.internalTests.whiteList=wl({message:n,name:"oneOf",skipAbsent:!0,test(a){let o=this.schema._whitelist,u=o.resolveAll(this.resolve);return u.includes(a)?!0:this.createError({params:{values:Array.from(o).join(", "),resolved:u}})}}),r}notOneOf(e,n=Di.notOneOf){let r=this.clone();return e.forEach(a=>{r._blacklist.add(a),r._whitelist.delete(a)}),r.internalTests.blacklist=wl({message:n,name:"notOneOf",test(a){let o=this.schema._blacklist,u=o.resolveAll(this.resolve);return u.includes(a)?this.createError({params:{values:Array.from(o).join(", "),resolved:u}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:a,optional:o,nullable:u}=n.spec;return{meta:a,label:r,optional:o,nullable:u,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(d=>({name:d.OPTIONS.name,params:d.OPTIONS.params})).filter((d,p,g)=>g.findIndex(v=>v.name===d.name)===p)}}}qi.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])qi.prototype[`${t}At`]=function(e,n,r={}){const{parent:a,parentPath:o,schema:u}=yB(this,e,n,r.context);return u[t](a&&a[o],Object.assign({},r,{parent:a,path:e}))};for(const t of["equals","is"])qi.prototype[t]=qi.prototype.oneOf;for(const t of["not","nope"])qi.prototype[t]=qi.prototype.notOneOf;const vB=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function _B(t){const e=av(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function av(t){var e,n;const r=vB.exec(t);return r?{year:ys(r[1]),month:ys(r[2],1)-1,day:ys(r[3],1),hour:ys(r[4]),minute:ys(r[5]),second:ys(r[6]),millisecond:r[7]?ys(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:ys(r[10]),minuteOffset:ys(r[11])}:null}function ys(t,e=0){return Number(t)||e}let EB=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,TB=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,bB=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,wB="^\\d{4}-\\d{2}-\\d{2}",SB="\\d{2}:\\d{2}:\\d{2}",xB="(([+-]\\d{2}(:?\\d{2})?)|Z)",AB=new RegExp(`${wB}T${SB}(\\.\\d+)?${xB}$`),RB=t=>_o(t)||t===t.trim(),CB={}.toString();function ga(){return new kD}class kD extends qi{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const a=e!=null&&e.toString?e.toString():e;return a===CB?e:a})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Di.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=ar.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=ar.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=ar.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,a,o;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:a,name:o}=n:a=n),this.test({name:o||"matches",message:a||ar.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&r||u.search(e)!==-1})}email(e=ar.email){return this.matches(EB,{name:"email",message:e,excludeEmptyString:!0})}url(e=ar.url){return this.matches(TB,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=ar.uuid){return this.matches(bB,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,a;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:a=void 0}=e:n=e),this.matches(AB,{name:"datetime",message:n||ar.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||ar.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:o=>{if(!o||r)return!0;const u=av(o);return u?!!u.z:!1}}).test({name:"datetime_precision",message:n||ar.datetime_precision,params:{precision:a},skipAbsent:!0,test:o=>{if(!o||a==null)return!0;const u=av(o);return u?u.precision===a:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=ar.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:RB})}lowercase(e=ar.lowercase){return this.transform(n=>_o(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>_o(n)||n===n.toLowerCase()})}uppercase(e=ar.uppercase){return this.transform(n=>_o(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>_o(n)||n===n.toUpperCase()})}}ga.prototype=kD.prototype;let LD=new Date(""),DB=t=>Object.prototype.toString.call(t)==="[object Date]";function Qd(){return new yh}class yh extends qi{constructor(){super({type:"date",check(e){return DB(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=_B(e),isNaN(e)?yh.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(Oa.isRef(e))r=e;else{let a=this.cast(e);if(!this._typeCheck(a))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=a}return r}min(e,n=sv.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(a){return a>=this.resolve(r)}})}max(e,n=sv.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(a){return a<=this.resolve(r)}})}}yh.INVALID_DATE=LD;Qd.prototype=yh.prototype;Qd.INVALID_DATE=LD;function IB(t,e=[]){let n=[],r=new Set,a=new Set(e.map(([u,h])=>`${u}-${h}`));function o(u,h){let d=To.split(u)[0];r.add(d),a.has(`${h}-${d}`)||n.push([h,d])}for(const u of Object.keys(t)){let h=t[u];r.add(u),Oa.isRef(h)&&h.isSibling?o(h.path,u):Y0(h)&&"deps"in h&&h.deps.forEach(d=>o(d,u))}return iB.array(Array.from(r),n).reverse()}function Qx(t,e){let n=1/0;return t.some((r,a)=>{var o;if((o=e.path)!=null&&o.includes(r))return n=a,!0}),n}function UD(t){return(e,n)=>Qx(t,e)-Qx(t,n)}const MB=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function fd(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=fd(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=fd(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(fd)}):"optional"in t?t.optional():t}const OB=(t,e)=>{const n=[...To.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),a=To.getter(To.join(n),!0)(t);return!!(a&&r in a)};let Xx=t=>Object.prototype.toString.call(t)==="[object Object]";function Wx(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const PB=UD([]);function vh(t){return new jD(t)}class jD extends qi{constructor(e){super({type:"object",check(n){return Xx(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=PB,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let a=super._cast(e,n);if(a===void 0)return this.getDefault(n);if(!this._typeCheck(a))return a;let o=this.fields,u=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,h=[].concat(this._nodes,Object.keys(a).filter(v=>!this._nodes.includes(v))),d={},p=Object.assign({},n,{parent:d,__validating:n.__validating||!1}),g=!1;for(const v of h){let E=o[v],w=v in a;if(E){let A,V=a[v];p.path=(n.path?`${n.path}.`:"")+v,E=E.resolve({value:V,context:n.context,parent:d});let O=E instanceof qi?E.spec:void 0,I=O==null?void 0:O.strict;if(O!=null&&O.strip){g=g||v in a;continue}A=!n.__validating||!I?E.cast(a[v],p):a[v],A!==void 0&&(d[v]=A)}else w&&!u&&(d[v]=a[v]);(w!==v in d||d[v]!==a[v])&&(g=!0)}return g?d:a}_validate(e,n={},r,a){let{from:o=[],originalValue:u=e,recursive:h=this.spec.recursive}=n;n.from=[{schema:this,value:u},...o],n.__validating=!0,n.originalValue=u,super._validate(e,n,r,(d,p)=>{if(!h||!Xx(p)){a(d,p);return}u=u||p;let g=[];for(let v of this._nodes){let E=this.fields[v];!E||Oa.isRef(E)||g.push(E.asNestedTest({options:n,key:v,parent:p,parentPath:n.path,originalParent:u}))}this.runTests({tests:g,value:p,originalValue:u,options:n},r,v=>{a(v.sort(this._sortErrors).concat(d),p)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[a,o]of Object.entries(this.fields)){const u=r[a];r[a]=u===void 0?o:u}return n.withMutation(a=>a.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var a;const o=this.fields[r];let u=e;(a=u)!=null&&a.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[r]})),n[r]=o&&"getDefault"in o?o.getDefault(u):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=IB(e,n),r._sortErrors=UD(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let a=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),a=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),a)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return fd(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,a])=>e.includes(r)&&e.includes(a)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let a=To.getter(e,!0);return this.transform(o=>{if(!o)return o;let u=o;return OB(o,e)&&(u=Object.assign({},o),r||delete u[e],u[n]=a(o)),u})}json(){return this.transform(MB)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||hd.exact,test(n){if(n==null)return!0;const r=Wx(this.schema,n);return r.length===0||this.createError({params:{properties:r.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=hd.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(a){if(a==null)return!0;const o=Wx(this.schema,a);return!e||o.length===0||this.createError({params:{unknown:o.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=hd.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const a of Object.keys(n))r[e(a)]=n[a];return r})}camelCase(){return this.transformKeys(uy.camelCase)}snakeCase(){return this.transformKeys(uy.snakeCase)}constantCase(){return this.transformKeys(e=>uy.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[o,u]of Object.entries(n.fields)){var a;let h=e;(a=h)!=null&&a.value&&(h=Object.assign({},h,{parent:h.value,value:h.value[o]})),r.fields[o]=u.describe(h)}return r}}vh.prototype=jD.prototype;const Zx=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Ce(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},FD=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Zx(r.ref,n,t):r&&r.refs&&r.refs.forEach(a=>Zx(a,n,t))}},NB=(t,e)=>{e.shouldUseNativeValidation&&FD(t,e);const n={};for(const r in t){const a=Ce(e.fields,r),o=Object.assign(t[r]||{},{ref:a&&a.ref});if(VB(e.names||Object.keys(t),r)){const u=Object.assign({},Ce(n,r));Pt(u,"root",o),Pt(n,r,u)}else Pt(n,r,o)}return n},VB=(t,e)=>{const n=Jx(e);return t.some(r=>Jx(r).match(`^${n}\\.\\d+`))};function Jx(t){return t.replace(/\]|\[/g,"")}function Rm(t,e,n){return n===void 0&&(n={}),function(r,a,o){try{return Promise.resolve(function(u,h){try{var d=(e!=null&&e.context,Promise.resolve(t[n.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},e,{context:a}))).then(function(p){return o.shouldUseNativeValidation&&FD({},o),{values:n.raw?Object.assign({},r):p,errors:{}}}))}catch(p){return h(p)}return d&&d.then?d.then(void 0,h):d}(0,function(u){if(!u.inner)throw u;return{values:{},errors:NB((h=u,d=!o.shouldUseNativeValidation&&o.criteriaMode==="all",(h.inner||[]).reduce(function(p,g){if(p[g.path]||(p[g.path]={message:g.message,type:g.type}),d){var v=p[g.path].types,E=v&&v[g.type];p[g.path]=xD(g.path,d,p,g.type,E?[].concat(E,g.message):g.message)}return p},{})),o)};var h,d}))}catch(u){return Promise.reject(u)}}}const kB=vh({name:ga().required("Данное поле обязательно"),arriveDate:Qd().required("Данное поле обязательно"),leaveDate:Qd().required("Данное поле обязательно")}),LB=({cost:t,path:e,className:n,roomType:r})=>{var A,V,O;const[a,o]=H.useState(!1),u=()=>o(!a),{authData:h}=Mo(),{createBooking:d}=K1(),p=Io(),{register:g,handleSubmit:v,formState:E}=Am({resolver:Rm(kB)}),w=async I=>{if(h){const j={roomType:r,name:I.name,price:t,roomNumber:(Math.floor(Math.random()*17)+1200).toString(),arriveDate:en.fromDate(I.arriveDate),leaveDate:en.fromDate(I.leaveDate)};d(j);return}else{p("/signin");return}};return P.jsxs("div",{className:`flex flex-col justify-center items-center border-primary border-2 rounded-b-md py-6 md:py-10 ${n}`,children:[P.jsxs("div",{className:"flex justify-between items-center px-4 sm:px-6 md:px-10 w-full max-w-[95vw] mx-auto",children:[P.jsxs("div",{className:"flex gap-3 items-center min-w-[60%]",children:[P.jsx(qn,{url:a?"src/img/minus.svg":"src/img/plus.svg",onClick:u,className:"bg-accent p-2 md:p-3 rounded-full h-8 w-8 md:h-10 md:w-10 hover:bg-[#edc988] transition duration-100 ease-in cursor-pointer flex-shrink-0"}),P.jsx("p",{className:"font-family-MontserratBold text-base md:text-xl uppercase text-primary text-left dark:text-white whitespace-nowrap overflow-hidden text-ellipsis",children:a?"Скрыть детали":"Показать детали"})]}),P.jsx(qn,{title:t,onClick:u,className:"bg-accent font-family-MontserratBold text-white text-sm md:text-md rounded-sm py-2 px-4 md:py-3 md:px-6  hover:bg-[#edc988] transition duration-100 ease-in cursor-pointer flex-shrink-0"})]}),a&&P.jsxs("div",{className:"flex flex-col lg:flex-row justify-between px-4 sm:px-6 md:px-10 w-full max-w-[95vw] mx-auto mt-6 md:mt-8 gap-6",children:[P.jsxs("form",{onSubmit:v(w),className:"w-full lg:w-[55%] flex flex-col justify-between gap-4 md:gap-6",children:[P.jsxs("div",{className:"flex flex-col gap-3",children:[P.jsx("input",{...g("name"),placeholder:"Фамилия, имя, отчество",className:"w-full bg-[#F3F3F3] border-2 border-primary rounded-md pl-2 pr-4 py-2 md:py-3"}),P.jsx("p",{children:(A=E.errors.name)==null?void 0:A.message}),P.jsx("input",{type:"date",...g("arriveDate"),placeholder:"Дата заезда",className:"w-full bg-[#F3F3F3] border-2 border-primary rounded-md pl-2 pr-4 py-2 md:py-3"}),P.jsx("p",{children:(V=E.errors.arriveDate)==null?void 0:V.message}),P.jsx("input",{type:"date",...g("leaveDate"),placeholder:"Дата выезда",className:"w-full bg-[#F3F3F3] border-2 border-primary rounded-md pl-2 pr-4 py-2 md:py-3"}),P.jsx("p",{children:(O=E.errors.leaveDate)==null?void 0:O.message})]}),P.jsx(qn,{type:"submit",title:"ЗАБРОНИРОВАТЬ",disabled:!h,className:"w-full bg-accent font-family-MontserratBold text-white text-sm md:text-md rounded-sm py-2 px-4 md:py-3 md:px-6 hover:bg-[#edc988] transition duration-100 ease-in cursor-pointer"})]}),P.jsx("div",{style:{backgroundImage:`url(${e})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"},className:"w-full lg:w-[40%] aspect-[4/3] rounded-xl"})]})]})},UB=({title:t,cost:e,path:n,className:r,roomType:a})=>P.jsxs("div",{className:"w-full md:w-[90vw] lg:w-[70vw] mx-auto",children:[P.jsx("div",{style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:`relative w-full h-[300px] sm:h-[400px] md:h-[500px] lg:h-[600px] flex justify-center items-end rounded-t-md ${r}`,children:P.jsx("div",{className:"bg-primary flex justify-center items-center h-16 md:h-20 lg:h-25 w-full",children:P.jsx("h1",{className:"font-family-MontserratBold text-xl sm:text-2xl md:text-3xl lg:text-4xl text-white uppercase px-2 text-center",children:t})})}),P.jsx(LB,{cost:e,path:n,roomType:a,className:"w-full"})]}),jB=()=>{const t=[{title:"Одиночный",cost:"$147 Ср/Ночь",path:"src/img/SoloRoom.jpeg",roomType:"single"},{title:"Двойной",cost:"$155 Ср/Ночь",path:"src/img/DoubleRoom.jpeg",roomType:"double"},{title:"Семейный",cost:"$180 Ср/Ночь",path:"src/img/FamilyRoom.jpeg",roomType:"family"}];return P.jsxs("div",{className:"flex flex-col items-center gap-20 dark:bg-[#091121]",children:[P.jsxs("div",{className:"flex flex-col items-center mt-[76px] w-[60vw] gap-[20px] mb-7",children:[P.jsx("h1",{className:"font-family-Header text-primary text-5xl uppercase dark:text-white",children:"Номера"}),P.jsx("p",{className:"font-family-Montserrat text-primary text-xl text-center dark:text-white",children:"В каждом из наших светлых, залитых светом номеров есть все, что вам может понадобиться для комфортного проживания. И да, комфорт — не единственная наша цель, мы также ценим хороший дизайн, элегантную современную мебель, дополненную богатыми тонами палитры природы, которые видны из окон и террас наших номеров с видом на море."})]}),t.map((e,n)=>P.jsx(UB,{title:e.title,cost:e.cost,path:e.path,roomType:e.roomType},n)),P.jsx(H0,{className:"mt-30 w-[70vw]"})]})},FB=()=>P.jsxs(P.Fragment,{children:[P.jsx(z0,{url:"src/img/HeaderBGRooms.jpeg",path:"/rooms"}),P.jsx(jB,{}),P.jsx(Vo,{})]}),cy={single:{title:"ОДИНОЧНЫЙ",img:"src/img/SoloRoom.jpeg"},double:{title:"ДВОЙНОЙ",img:"src/img/DoubleRoom.jpeg"},family:{title:"СЕМЕЙНЫЙ",img:"src/img/FamilyRoom.jpeg"}},BB=()=>{const{authData:t,signOut:e}=Mo(),{userData:n}=K1(),r=Io(),a=async()=>{const o=await e();o&&o.isSuccess&&r("/signin")};return P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"bg-primary flex flex-col pb-6 md:pb-25",children:[P.jsx(ph,{}),P.jsx("h1",{className:"font-family-MontserratBold uppercase text-3xl md:text-5xl text-white self-center mt-8 md:mt-12",children:"Профиль"})]}),P.jsxs("div",{className:"bg-white dark:bg-[#091121] transition duration-200 ease-in-out",children:[P.jsxs("div",{className:"flex flex-col md:flex-row justify-between px-4 sm:px-6 md:px-[11.09vw] items-center pt-8 md:pt-14 gap-6 md:gap-0",children:[P.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 md:gap-10 w-full md:w-auto",children:[P.jsx("div",{children:P.jsx("img",{src:(t==null?void 0:t.photoURL)||"src/img/user.svg",className:"w-20 h-20 md:w-30 md:h-30 rounded-full",alt:"User avatar"})}),P.jsxs("div",{className:"flex flex-col items-center sm:items-start",children:[P.jsx("span",{className:"font-family-MontserratBold text-xl md:text-2xl text-primary dark:text-white text-center sm:text-left",children:(t==null?void 0:t.displayName)||"ПОЛЬЗОВАТЕЛЬ"}),P.jsx("span",{className:"font-family-MontserratBold text-lg md:text-2xl text-primary opacity-70 dark:text-white text-center sm:text-left",children:(t==null?void 0:t.email)||""})]})]}),P.jsx("div",{className:"w-full md:w-auto flex justify-center md:block",children:P.jsx(qn,{title:"выйти из аккаунта",onClick:a,className:"bg-accent uppercase font-family-MontserratBold text-white text-sm md:text-md rounded-sm py-2 px-4 md:py-3 md:px-6 hover:bg-[#edc988] transition duration-100 ease-in cursor-pointer flex-shrink-0 w-full sm:w-auto text-center"})})]}),P.jsxs("div",{className:"flex flex-col items-center mt-8 md:mt-12 pb-10 md:pb-20 px-4 sm:px-6",children:[P.jsx("p",{className:"font-family-Header text-primary dark:text-white text-2xl md:text-3xl uppercase text-center",children:"Забронированные номера"}),(n==null?void 0:n.bookings.length)!==0?P.jsx("div",{className:"mt-10 md:mt-20 flex flex-col gap-8 md:gap-10 w-full max-w-4xl",children:n==null?void 0:n.bookings.map((o,u)=>P.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 md:gap-15 bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[P.jsx("div",{className:"w-full sm:w-64 md:w-100 flex-shrink-0",children:P.jsx("img",{src:cy[o.roomType].img,className:"w-full h-auto rounded-md object-cover",alt:cy[o.roomType].title})}),P.jsxs("div",{className:"flex flex-col justify-around gap-3 md:gap-0",children:[P.jsx("p",{className:"font-family-Header text-primary text-2xl md:text-3xl dark:text-white",children:cy[o.roomType].title}),P.jsxs("div",{className:"flex flex-col gap-1 md:gap-2",children:[P.jsx("p",{className:"text-primary font-family-Montserrat text-base md:text-xl dark:text-white",children:`ФИО: ${o.name}`}),P.jsx("p",{className:"text-primary font-family-Montserrat text-base md:text-xl dark:text-white",children:`Номер комнаты: ${o.roomNumber}`}),P.jsx("p",{className:"text-primary font-family-Montserrat text-base md:text-xl dark:text-white",children:`Дата заезда: ${o.arriveDate.toDate().toLocaleDateString()}`}),P.jsx("p",{className:"text-primary font-family-Montserrat text-base md:text-xl dark:text-white",children:`Дата выезда: ${o.leaveDate.toDate().toLocaleDateString()}`}),P.jsx("p",{className:"text-primary font-family-Montserrat text-base md:text-xl dark:text-white",children:"Статус: Действующий"})]})]})]},`booking-${u}`))}):P.jsx("p",{className:"font-family-Montserrat text-primary text-xl md:text-2xl dark:text-white mt-4",children:"Список Заказов пуст"})]})]}),P.jsx(Vo,{})]})},zB=()=>P.jsxs("div",{className:"w-[100vw] h-[100vh] flex flex-col justify-center items-center gap-[20px] dark:bg-[#091121]",children:[P.jsx("h1",{className:"text-primary text-3xl uppercase dark:text-white",children:"ОШИБКА 404: СТРАНИЦА НЕ НАЙДЕНА"}),P.jsx(Pc,{to:"/",children:P.jsx(qn,{title:"НА ГЛАВНУЮ",className:"flex justify-center gap-[10px] items-center bg-accent hover:bg-[#edc988] hover:cursor-pointer transition duration-100 ease-in-out font-family-MontserratBold text-[25px] text-white px-[25px] py-[10px] rounded-xl"})})]}),HB=vh({email:ga().email("Проверьте верность ввода email").required("Поле email обязательно"),password:ga().required("Поле password обязательно")}),qB=()=>{var d,p;const{signIn:t}=Mo(),e=Io(),[n,r]=H.useState(),{register:a,handleSubmit:o,formState:u}=Am({resolver:Rm(HB)}),h=async({email:g,password:v})=>{const E=await t(g,v);if(E!=null&&E.isSuccess){e("/profile",{replace:!0});return}E!=null&&E.errorMessage&&r(E.errorMessage)};return H.useEffect(()=>{u.isDirty&&r(void 0)},[u.isDirty]),P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"bg-primary flex flex-col pb-6 md:pb-25",children:[P.jsx(ph,{}),P.jsx("h1",{className:"font-family-MontserratBold uppercase text-3xl md:text-5xl text-white self-center mt-8 md:mt-12",children:"Вход"})]}),P.jsxs("form",{onSubmit:o(h),className:"bg-white dark:bg-[#091121] flex flex-col gap-6 md:gap-10 justify-center min-h-[50vh] py-8 px-4 sm:px-6 md:px-8 lg:px-[20vw] xl:px-[25vw] 2xl:px-[30vw]",children:[n&&P.jsx("div",{className:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100 p-3 rounded-md text-center",children:n}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"email",className:"text-primary dark:text-gray-300 font-family-Montserrat text-xs sm:text-[12px] uppercase pl-3",children:"email"}),P.jsx("input",{id:"email",...a("email"),placeholder:"Электронная почта",className:"bg-[#EBEBEB] dark:bg-gray-700 dark:text-white py-3 px-3 rounded-md border-primary dark:border-gray-600 border-1 focus:outline-none focus:ring-2 focus:ring-accent"}),u.errors.email&&P.jsx("p",{className:"text-red-500 font-family-Montserrat text-xs sm:text-sm uppercase pl-3",children:(d=u.errors.email)==null?void 0:d.message})]}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"password",className:"text-primary dark:text-gray-300 font-family-Montserrat text-xs sm:text-[12px] uppercase pl-3",children:"password"}),P.jsx("input",{id:"password",type:"password",...a("password"),placeholder:"Пароль",className:"bg-[#EBEBEB] dark:bg-gray-700 dark:text-white py-3 px-3 rounded-md border-primary dark:border-gray-600 border-1 focus:outline-none focus:ring-2 focus:ring-accent"}),u.errors.password&&P.jsx("p",{className:"text-red-500 font-family-Montserrat text-xs sm:text-sm uppercase pl-3",children:(p=u.errors.password)==null?void 0:p.message})]}),P.jsx(qn,{type:"submit",title:"ВОЙТИ",className:"bg-accent uppercase text-white font-family-MontserratBold py-3 sm:py-4 rounded-md hover:bg-[#edc988] transition duration-100 ease-in cursor-pointer w-full"}),P.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-3 sm:gap-0",children:[P.jsx(Oi,{to:"../signup",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm sm:text-base text-center sm:text-left",children:"Зарегистрироваться"}),P.jsx(Oi,{to:"../resetpassword",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm sm:text-base text-center sm:text-right",children:"Не помню пароль"})]})]}),P.jsx(Vo,{})]})},$B=({children:t})=>{const{authData:e,isAuthenticating:n}=Mo();return n?null:!e&&!n?P.jsx(GM,{to:"/signin",replace:!0}):t},GB=vh({email:ga().email("Проверьте верность ввода email").required("Поле email обязательно"),password:ga().required("Поле password обязательно"),confirmPassword:ga().oneOf([gB("password")],"Пароли должны совпадать").required("Подтверждение пароля обязательно")}),KB=()=>{var d,p,g;const{signUp:t}=Mo(),e=Io(),[n,r]=H.useState(),{register:a,handleSubmit:o,formState:u}=Am({resolver:Rm(GB)}),h=async({email:v,password:E})=>{const w=await t(v,E);if(w!=null&&w.isSuccess){e("/profile");return}w!=null&&w.errorMessage&&r(w.errorMessage)};return H.useEffect(()=>{u.isDirty&&r(void 0)},[u.isDirty]),P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"bg-primary flex flex-col pb-6 md:pb-25",children:[P.jsx(ph,{}),P.jsx("h1",{className:"font-family-MontserratBold uppercase text-3xl md:text-5xl text-white self-center mt-8 md:mt-12",children:"Регистрация"})]}),P.jsxs("form",{onSubmit:o(h),className:"bg-white dark:bg-[#091121] flex flex-col gap-6 md:gap-8 justify-center min-h-[50vh] py-8 px-4 sm:px-6 md:px-8 lg:px-[20vw] xl:px-[25vw] 2xl:px-[30vw]",children:[n&&P.jsx("div",{className:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100 p-3 rounded-md text-center",children:n}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"email",className:"text-primary dark:text-gray-300 font-family-Montserrat text-xs sm:text-[12px] uppercase pl-3",children:"email"}),P.jsx("input",{id:"email",type:"email",...a("email"),placeholder:"Электронная почта",className:"bg-[#EBEBEB] dark:bg-gray-700 dark:text-white py-3 px-3 rounded-md border-primary dark:border-gray-600 border-1 focus:outline-none focus:ring-2 focus:ring-accent"}),u.errors.email&&P.jsx("p",{className:"text-red-500 font-family-Montserrat text-xs sm:text-sm uppercase pl-3",children:(d=u.errors.email)==null?void 0:d.message})]}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"password",className:"text-primary dark:text-gray-300 font-family-Montserrat text-xs sm:text-[12px] uppercase pl-3",children:"пароль"}),P.jsx("input",{id:"password",type:"password",...a("password"),placeholder:"Пароль",className:"bg-[#EBEBEB] dark:bg-gray-700 dark:text-white py-3 px-3 rounded-md border-primary dark:border-gray-600 border-1 focus:outline-none focus:ring-2 focus:ring-accent"}),u.errors.password&&P.jsx("p",{className:"text-red-500 font-family-Montserrat text-xs sm:text-sm uppercase pl-3",children:(p=u.errors.password)==null?void 0:p.message})]}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"confirmPassword",className:"text-primary dark:text-gray-300 font-family-Montserrat text-xs sm:text-[12px] uppercase pl-3",children:"подтвердите пароль"}),P.jsx("input",{id:"confirmPassword",type:"password",...a("confirmPassword"),placeholder:"Подтвердите пароль",className:"bg-[#EBEBEB] dark:bg-gray-700 dark:text-white py-3 px-3 rounded-md border-primary dark:border-gray-600 border-1 focus:outline-none focus:ring-2 focus:ring-accent"}),u.errors.confirmPassword&&P.jsx("p",{className:"text-red-500 font-family-Montserrat text-xs sm:text-sm uppercase pl-3",children:(g=u.errors.confirmPassword)==null?void 0:g.message})]}),P.jsx(qn,{type:"submit",title:"ЗАРЕГИСТРИРОВАТЬСЯ",className:"bg-accent uppercase text-white font-family-MontserratBold py-3 sm:py-4 rounded-md hover:bg-[#edc988] transition duration-100 ease-in cursor-pointer w-full"}),P.jsx("div",{className:"flex justify-center",children:P.jsx(Oi,{to:"../signin",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm sm:text-base text-center",children:"Уже есть аккаунт? Войти"})})]}),P.jsx(Vo,{})]})},YB=vh({email:ga().email("Проверьте верность ввода email").required("Поле email обязательно")}),QB=()=>{var g;const{resetPassword:t}=Mo(),e=Io(),[n,r]=H.useState(),[a,o]=H.useState(!1),{register:u,handleSubmit:h,formState:d}=Am({resolver:Rm(YB)}),p=async({email:v})=>{const E=await t(v);if(E!=null&&E.isSuccess){o(!0);return}E!=null&&E.errorMessage&&r(E.errorMessage)};return H.useEffect(()=>{d.isDirty&&r(void 0)},[d.isDirty]),P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"bg-primary flex flex-col pb-6 md:pb-25",children:[P.jsx(ph,{}),P.jsx("h1",{className:"font-family-MontserratBold uppercase text-3xl md:text-5xl text-white self-center mt-8 md:mt-12",children:"Восстановление пароля"})]}),a?P.jsxs("div",{className:"bg-white dark:bg-[#091121] flex flex-col gap-6 justify-center min-h-[50vh] py-8 px-4 sm:px-6 md:px-8 lg:px-[20vw] xl:px-[25vw] 2xl:px-[30vw]",children:[P.jsx("div",{className:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-100 p-4 rounded-md text-center",children:"Ссылка для сброса пароля отправлена на вашу электронную почту"}),P.jsx(qn,{onClick:()=>e("/signin"),title:"ВЕРНУТЬСЯ К ВХОДУ",className:"bg-accent uppercase text-white font-family-MontserratBold py-3 sm:py-4 rounded-md hover:bg-[#edc988] transition duration-100 ease-in cursor-pointer w-full"})]}):P.jsxs("form",{onSubmit:h(p),className:"bg-white dark:bg-[#091121] flex flex-col gap-6 md:gap-8 justify-center min-h-[50vh] py-8 px-4 sm:px-6 md:px-8 lg:px-[20vw] xl:px-[25vw] 2xl:px-[30vw]",children:[n&&P.jsx("div",{className:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-100 p-3 rounded-md text-center",children:n}),P.jsxs("div",{className:"flex flex-col gap-1",children:[P.jsx("label",{htmlFor:"email",className:"text-primary dark:text-gray-300 font-family-Montserrat text-xs sm:text-[12px] uppercase pl-3",children:"email"}),P.jsx("input",{id:"email",type:"email",...u("email"),placeholder:"Электронная почта",className:"bg-[#EBEBEB] dark:bg-gray-700 dark:text-white py-3 px-3 rounded-md border-primary dark:border-gray-600 border-1 focus:outline-none focus:ring-2 focus:ring-accent"}),d.errors.email&&P.jsx("p",{className:"text-red-500 font-family-Montserrat text-xs sm:text-sm uppercase pl-3",children:(g=d.errors.email)==null?void 0:g.message})]}),P.jsx(qn,{type:"submit",title:"СБРОСИТЬ ПАРОЛЬ",className:"bg-accent uppercase text-white font-family-MontserratBold py-3 sm:py-4 rounded-md hover:bg-[#edc988] transition duration-100 ease-in cursor-pointer w-full"}),P.jsx("div",{className:"flex justify-center",children:P.jsx(Oi,{to:"../signin",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm sm:text-base text-center",children:"Вспомнили пароль? Войти"})})]}),P.jsx(Vo,{})]})},XB=yO([{path:"/",Component:W4,children:[{path:"/",element:P.jsx(IF,{}),index:!0},{path:"/services",element:P.jsx(PF,{})},{path:"/rooms",element:P.jsx(FB,{})},{path:"/profile",element:P.jsx($B,{children:P.jsx(BB,{})})},{path:"/signin",element:P.jsx(qB,{})},{path:"/signup",element:P.jsx(KB,{})},{path:"/resetpassword",element:P.jsx(QB,{})},{path:"/pageNotFound",element:P.jsx(zB,{})}]}]);E2.createRoot(document.getElementById("root")).render(P.jsx(HM,{router:XB}));
